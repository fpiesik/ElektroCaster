/*! v1837 undefined */var __webpack_modules__={5219:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdLocator=void 0;var r=i(7360),n=i(712),o=i(3868),a=i(425),s=i(1800),d=i(749),p=i(7749),c=i(194),u=function(){function t(t,e){void 0===e&&(e=500),this.numOfTries=t,this.interval=e,this.isSupported()&&(r.EventBus.addEventListener(r.DvEvent.adSelected,this.handleAdSelected.bind(this)),r.EventBus.addEventListener(r.DvEvent.impressionServed,this.handleAdLocatorLatency.bind(this)))}return t.prototype.handleAdLocatorLatency=function(){p.DvTagDataObject.getTagType()==n.DvTagType.Display&&(c.DvObject.getIsReducedAdLocatorLatency()&&(this.interval=100,this.numOfTries*=10))},t.prototype.start=function(){var t=this;try{if(this.isSupported()){this.numOfTries--;var e=this.getAds();e&&e.length?e.forEach((function(e){e.supportedDeliveryType=t.getSupportedDeliveryType(),e.priority=t.getPriority(e),e.locatorMethods=t.getMethod(),e.windowElement=o.WindowAdaptor.getDefaultWindow(e.domElement)||o.WindowAdaptor.workingWindow(),r.EventBus.dispatchEvent(r.DvEvent.adCandidateLocated,new s.AdCandidateEventData(e))})):this.numOfTries>0&&this.tryGetAds()}}catch(t){d.MessageHandler.sendError(n.ClientErrorType.AdLocationError,t)}},t.prototype.tryGetAds=function(){var t=this;this.timeoutReference=a.BrowserAdaptor.setTimeout((function(){t.start()}),this.interval)},t.prototype.handleAdSelected=function(){this.timeoutReference&&a.BrowserAdaptor.clearTimeout(this.timeoutReference)},t}();e.BaseAdLocator=u},1085:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PassMinimumAdSize=void 0;var r=i(425),n=function(){function t(){this.minAdWidth=20,this.minAdHeight=20}return t.prototype.validate=function(t){var e=!1;if(t){var i=r.BrowserAdaptor.getElementSize(t);i&&i.height>this.minAdHeight&&i.width>this.minAdWidth&&(e=!0)}return e},t}();e.PassMinimumAdSize=n},8472:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.SellerAdSizeValidator=void 0;var r=i(7749),n=i(425),o=function(){function t(){this.adSizeAcceptedMistake=15,this.adSize=r.DvTagDataObject.getSellerAdSize()}return t.prototype.validate=function(t){var e=!1;if(t&&r.DvTagDataObject.isSellerTag()&&this.adSize.width&&this.adSize.height){var i=n.BrowserAdaptor.getElementSize(t);i&&i.width-this.adSize.width>=-this.adSizeAcceptedMistake&&i.height-this.adSize.height>=-this.adSizeAcceptedMistake&&(e=!0)}return e},t}();e.SellerAdSizeValidator=o},5955:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraBaseAdLocator=void 0;var o=i(5464),a=i(7146),s=i(7360),d=i(1800),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.celtraAdServerId="179",e.selectionDelayed=!1,e}return n(e,t),e.prototype.getAds=function(){var t=this.getScanner().scan(this.getValidator());t.some((function(t){return!t.isFullyLoaded}))&&!this.selectionDelayed&&(this.selectionDelayed=!0,s.EventBus.dispatchEvent(s.DvEvent.reserveAdLocator,new d.ReserveAdLocatorData(this.getPriority()))),t=t.filter((function(t){return!!t.domElement}));var e=this.filterByAdsValidators(t);return this.mapDomAdsDataToAdCandidates(e)},e.prototype.transformToAdElement=function(e){var i=t.prototype.transformToAdElement.call(this,e);return i.celtraTagSearchMethod=e.celtraTagSearchMethod,i},e.prototype.getValidator=function(){return new o.CeltraValidator},e}(a.DisplayBaseAdLocator);e.CeltraBaseAdLocator=p},5906:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomMediaplexAdLocator=void 0;var o=i(7146),a=i(631),s=i(7749),d=i(712),p=i(5613),c=i(749),u=function(t){function e(){var e=t.call(this)||this;return e.mediaplexAdServerId="8",c.MessageHandler.sendMessage({dvp_ealmp:1}),e}return n(e,t),e.prototype.getScanner=function(){return p.CustomGetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new a.MediaplexValidator(s.DvTagDataObject.getBtreg(),s.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&s.DvTagDataObject.getAdServerId()==this.mediaplexAdServerId},e.prototype.getPriority=function(t){var e=t.depth||0;return d.LocatorPriority.CustomDisplayMediaPlex-e},e.prototype.getMethod=function(){return d.LocatorMethods.CustomDisplayMediaPlex},e}(o.DisplayBaseAdLocator);e.CustomMediaplexAdLocator=u},9171:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomRegexAdLocator=void 0;var o=i(7749),a=i(5223),s=i(7146),d=i(712),p=i(5613),c=i(749),u=function(t){function e(){var e=t.call(this)||this;return c.MessageHandler.sendMessage({dvp_ealrgx:1}),e}return n(e,t),e.prototype.getScanner=function(){return p.CustomGetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new a.BtregValidator(o.DvTagDataObject.getBtreg(),o.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&!!o.DvTagDataObject.getBtreg()},e.prototype.getPriority=function(t){var e=t.depth||0;return d.LocatorPriority.CustomDisplayRegex-e},e.prototype.getMethod=function(){return d.LocatorMethods.CustomDisplayRegex},e}(s.DisplayBaseAdLocator);e.CustomRegexAdLocator=u},4816:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomSellerAdLocator=void 0;var o=i(7146),a=i(5223),s=i(7749),d=i(712),p=i(8472),c=i(7360),u=i(1800),l=i(5613),f=i(749),v=function(t){function e(){var e=t.call(this)||this;return f.MessageHandler.sendMessage({dvp_ealslr:1}),e}return n(e,t),e.prototype.getScanner=function(){return l.CustomGetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new a.BtregValidator(s.DvTagDataObject.getBtreg(),s.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){var e=t.prototype.isSupported.call(this)&&s.DvTagDataObject.isSellerTag()&&!!s.DvTagDataObject.getBtreg();return e&&!this.delayEventSent&&(c.EventBus.dispatchEvent(c.DvEvent.delayAdSelection,new u.DelayTimerData(3100)),this.delayEventSent=!0),e},e.prototype.getPriority=function(t){return d.LocatorPriority.CustomDisplaySellerTag},e.prototype.getMethod=function(){return d.LocatorMethods.CustomDisplaySellerTag},e.prototype.getAds=function(){var e=new p.SellerAdSizeValidator;return t.prototype.getAds.call(this).filter((function(t){return e.validate(t.domElement)}))},e}(o.DisplayBaseAdLocator);e.CustomSellerAdLocator=v},4620:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.DfaAdLocator=void 0;var o=i(7146),a=i(7581),s=i(7749),d=i(712),p=i(5613),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dfaAdServerId="1",e}return n(e,t),e.prototype.getScanner=function(){return p.CustomGetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new a.DfaValidator},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&s.DvTagDataObject.getAdServerId()==this.dfaAdServerId},e.prototype.getPriority=function(t){var e=t.depth||0;return d.LocatorPriority.DisplayDFA-e},e.prototype.getMethod=function(){return d.LocatorMethods.DisplayDFA},e}(o.DisplayBaseAdLocator);e.DfaAdLocator=c},7146:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayBaseAdLocator=void 0;var o=i(455),a=i(7749),s=i(5219),d=i(1085),p=i(712),c=i(6689),u=function(t){function e(){return t.call(this,7,1e3)||this}return n(e,t),e.prototype.isSupported=function(){return!c.OmidWrapper.isSupported()&&a.DvTagDataObject.getTagType()==p.DvTagType.Display},e.prototype.getSupportedDeliveryType=function(){return[p.DetectedDeliveryType.Desktop,p.DetectedDeliveryType.MobileWeb,p.DetectedDeliveryType.Unknown]},e.prototype.getAds=function(){var t=this.getScanner().scan(this.getValidator()),e=this.filterByAdsValidators(t);return this.mapDomAdsDataToAdCandidates(e)},e.prototype.filterByAdsValidators=function(t){var e=new d.PassMinimumAdSize;return t.filter((function(t){return e.validate(t.domElement)}))},e.prototype.mapDomAdsDataToAdCandidates=function(t){var e=this;return t.map((function(t){var i=e.transformToAdElement(t);return i.depth=t.depth||0,i}))},e.prototype.transformToAdElement=function(t){return this.getCandidateInstance(t.domElement)},e.prototype.getCandidateInstance=function(t){return new o.AdCandidateData(t)},e}(s.BaseAdLocator);e.DisplayBaseAdLocator=u},9969:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.FindClassAdLocator=void 0;var o=i(7749),a=i(7754),s=i(7146),d=i(712),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getScanner=function(){return new a.GetElementsByClassName(o.DvTagDataObject.getBtreg())},e.prototype.getValidator=function(){return null},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&!!o.DvTagDataObject.getBtreg()&&o.DvTagDataObject.getFindClass()},e.prototype.getPriority=function(t){var e=t.depth||0;return d.LocatorPriority.DisplayFindClass-e},e.prototype.getMethod=function(){return d.LocatorMethods.DisplayFindClass},e}(s.DisplayBaseAdLocator);e.FindClassAdLocator=p},8130:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.IframeFallbackAdLocator=void 0;var o=i(3868),a=i(5219),s=i(455),d=i(712),p=i(7749),c=i(6689),u=function(t){function e(){return t.call(this,1)||this}return n(e,t),e.prototype.getAds=function(){var t=o.WindowAdaptor.getFrameElement(o.WindowAdaptor.workingWindow())||o.WindowAdaptor.workingDocumentElement();if(t)return[new s.AdCandidateData(t)]},e.prototype.isSupported=function(){return!c.OmidWrapper.isSupported()&&p.DvTagDataObject.getTagType()==d.DvTagType.Display&&o.WindowAdaptor.workingWindow()!=o.WindowAdaptor.windowTop()},e.prototype.getSupportedDeliveryType=function(){return[d.DetectedDeliveryType.Desktop,d.DetectedDeliveryType.MobileWeb,d.DetectedDeliveryType.Unknown]},e.prototype.getPriority=function(){return d.LocatorPriority.DisplayIframeFallback},e.prototype.getMethod=function(){return d.LocatorMethods.DisplayIframeFallback},e}(a.BaseAdLocator);e.IframeFallbackAdLocator=u},172:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InAppDefaultAdLocator=void 0;var o=i(3868),a=i(5219),s=i(455),d=i(712),p=i(6689),c=function(t){function e(){return t.call(this,1)||this}return n(e,t),e.prototype.getAds=function(){var t=o.WindowAdaptor.workingDocumentElement();if(t)return[new s.AdCandidateData(t)]},e.prototype.isSupported=function(){return!p.OmidWrapper.isSupported()},e.prototype.getSupportedDeliveryType=function(){return[d.DetectedDeliveryType.MobileApp]},e.prototype.getPriority=function(){return d.LocatorPriority.DefaultInApp},e.prototype.getMethod=function(){return d.LocatorMethods.DefaultInApp},e}(a.BaseAdLocator);e.InAppDefaultAdLocator=c},8476:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.IntegratedCeltraAdLocator=void 0;var o=i(7749),a=i(712),s=i(5955),d=i(4179),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getScanner=function(){return d.CeltraDeepScannerSingleton},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&o.DvTagDataObject.getAdServerId()==this.celtraAdServerId},e.prototype.getPriority=function(t){return a.LocatorPriority.DisplayIntegratedCeltra},e.prototype.getMethod=function(){return a.LocatorMethods.DisplayIntegratedCeltra},e}(s.CeltraBaseAdLocator);e.IntegratedCeltraAdLocator=p},1634:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.MediaplexAdLocator=void 0;var o=i(7146),a=i(631),s=i(7749),d=i(6352),p=i(712),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mediaplexAdServerId="8",e}return n(e,t),e.prototype.getScanner=function(){return d.GetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new a.MediaplexValidator(s.DvTagDataObject.getBtreg(),s.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&s.DvTagDataObject.getAdServerId()==this.mediaplexAdServerId},e.prototype.getPriority=function(t){var e=t.depth||0;return p.LocatorPriority.DisplayMediaPlex-e},e.prototype.getMethod=function(){return p.LocatorMethods.DisplayMediaPlex},e}(o.DisplayBaseAdLocator);e.MediaplexAdLocator=c},3820:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.NearestAdAdLocator=void 0;var o=i(7146),a=i(483),s=i(540),d=i(712),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getScanner=function(){return a.NearestAdScannerSingleton},e.prototype.getValidator=function(){return new s.ValidateByAdTypeAndSize},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)},e.prototype.getPriority=function(t){var e=t.depth||0;return d.LocatorPriority.DisplayNearestAd-e},e.prototype.getMethod=function(){return d.LocatorMethods.DisplayNearestAd},e}(o.DisplayBaseAdLocator);e.NearestAdAdLocator=p},7257:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.NonIntegratedCeltraAdLocator=void 0;var o=i(7749),a=i(712),s=i(5955),d=i(4179),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getScanner=function(){return d.CeltraScannerSingleton},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&o.DvTagDataObject.getAdServerId()!=this.celtraAdServerId},e.prototype.getPriority=function(t){return a.LocatorPriority.DisplayNonIntegratedCeltra},e.prototype.getMethod=function(){return a.LocatorMethods.DisplayNonIntegratedCeltra},e}(s.CeltraBaseAdLocator);e.NonIntegratedCeltraAdLocator=p},6018:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ParentWindowAdLocator=void 0;var o=i(7749),a=i(5223),s=i(7146),d=i(6352),p=i(3868),c=i(712),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getScanner=function(){return new d.GetElementsByTagName(p.WindowAdaptor.getWindowParent(p.WindowAdaptor.workingWindow()))},e.prototype.getValidator=function(){return new a.BtregValidator(o.DvTagDataObject.getBtreg(),o.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&(p.WindowAdaptor.getScenarioType()&c.Scenario.SameDomain)===c.Scenario.SameDomain&&!!o.DvTagDataObject.getBtreg()&&!!p.WindowAdaptor.getWindowParent(p.WindowAdaptor.workingWindow())},e.prototype.getPriority=function(t){return c.LocatorPriority.DisplayParentWindow},e.prototype.getMethod=function(){return c.LocatorMethods.DisplayParentWindow},e}(s.DisplayBaseAdLocator);e.ParentWindowAdLocator=u},1153:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.RegexAdLocator=void 0;var o=i(7749),a=i(5223),s=i(7146),d=i(6352),p=i(712),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getScanner=function(){return d.GetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new a.BtregValidator(o.DvTagDataObject.getBtreg(),o.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&!!o.DvTagDataObject.getBtreg()},e.prototype.getPriority=function(t){var e=t.depth||0;return p.LocatorPriority.DisplayRegex-e},e.prototype.getMethod=function(){return p.LocatorMethods.DisplayRegex},e}(s.DisplayBaseAdLocator);e.RegexAdLocator=c},6707:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.SellerAdLocator=void 0;var o=i(7146),a=i(6352),s=i(5223),d=i(7749),p=i(712),c=i(8472),u=i(7360),l=i(1800),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getScanner=function(){return a.GetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new s.BtregValidator(d.DvTagDataObject.getBtreg(),d.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){var e=t.prototype.isSupported.call(this)&&d.DvTagDataObject.isSellerTag()&&!!d.DvTagDataObject.getBtreg();return e&&!this.delayEventSent&&(u.EventBus.dispatchEvent(u.DvEvent.delayAdSelection,new l.DelayTimerData(3100)),this.delayEventSent=!0),e},e.prototype.getPriority=function(t){return p.LocatorPriority.DisplaySellerTag},e.prototype.getMethod=function(){return p.LocatorMethods.DisplaySellerTag},e.prototype.getAds=function(){var e=new c.SellerAdSizeValidator;return t.prototype.getAds.call(this).filter((function(t){return e.validate(t.domElement)}))},e}(o.DisplayBaseAdLocator);e.SellerAdLocator=f},7571:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpotXAdLocator=void 0;var o=i(7146),a=i(483),s=i(455),d=i(4265),p=i(712),c=i(7360),u=i(194),l=i(1800),f=function(t){function e(){var e=t.call(this)||this;return e.isSpotxMode=!1,e.spotxCandidates=[],c.EventBus.addEventListener(c.DvEvent.impressionServed,e.handleImpressionServed.bind(e),"SpotXAdLocator"),e}return n(e,t),e.prototype.getScanner=function(){return a.NearestAdScannerSingleton},e.prototype.getValidator=function(){return new d.SpotXValidator},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)},e.prototype.getPriority=function(t){var e=0,i=t.depth||0;return this.isSpotxMode&&(e=p.LocatorPriority.DisplaySpotX-i),e},e.prototype.getMethod=function(){return p.LocatorMethods.DisplaySpotX},e.prototype.getCandidateInstance=function(t){var e=new s.AdCandidateData(t);return this.isSpotxMode||(e.state=p.AdCandidateState.Unauthorized,this.spotxCandidates.push(e)),e},e.prototype.handleImpressionServed=function(){var t=this;this.isSpotxMode=u.DvObject.isSpotxMode(),this.isSpotxMode&&this.spotxCandidates.forEach((function(e){e.state=p.AdCandidateState.Unresolved,e.priority=t.getPriority(e),c.EventBus.dispatchEvent(c.DvEvent.adCandidateLocated,new l.AdCandidateEventData(e))}))},e}(o.DisplayBaseAdLocator);e.SpotXAdLocator=f},5223:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.BtregValidator=void 0;var n=i(425),o=i(7749),a=function(){function t(t,e){this.innerHtmlValidationTypes={img:!0,iframe:!0,a:!0,object:!0,embed:!0},this.btadsrvValidationTypes={img:!0,iframe:!0,a:!0,object:!0,embed:!0},this.btreg=t,this.btregRegex=new RegExp(this.btreg),this.btadsrv=e,this.btadsrvRegexp=new RegExp(this.btadsrv)}return t.prototype.validate=function(t){var e,i,a=!1;if(this.btreg&&this.btreg.length>=5){var s=n.BrowserAdaptor.getElementType(t),d=[];d.push(n.BrowserAdaptor.getAttribute(t,"id")),d.push(n.BrowserAdaptor.getAttribute(t,"src")),d.push(n.BrowserAdaptor.getAttribute(t,"href")),d.push(n.BrowserAdaptor.getAttribute(t,"flashvars")),d.push(n.BrowserAdaptor.getAttribute(t,"name")),o.DvTagDataObject.getCustomAttributes().forEach((function(e){return d.push(n.BrowserAdaptor.getAttribute(t,e))})),d.push(n.BrowserAdaptor.getAttribute(t,"class")),this.innerHtmlValidationTypes[s]&&d.push(n.BrowserAdaptor.getAttribute(t,"innerHTML"));var p=!1,c=!1;try{for(var u=r(d),l=u.next();!l.done;l=u.next()){var f=l.value;if(f&&(p=p||this.validateBtreg(f,this.btreg),c=c||!this.btadsrvValidationTypes[s]||this.validateBtadsrv(f,this.btadsrv),p&&c)){a=!0;break}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(e)throw e.error}}}return a},t.prototype.validateBtreg=function(t,e){return this.validateString(t,this.btreg,this.btregRegex)},t.prototype.validateBtadsrv=function(t,e){return this.validateString(t,this.btreg,this.btadsrvRegexp)},t.prototype.validateString=function(t,e,i){var r=!1;if(t&&e)try{i.exec(t)&&(r=!0)}catch(i){r=-1!=t.indexOf(e)}return r},t}();e.BtregValidator=a},5464:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraValidator=void 0;var i=function(){function t(){this.celtraClassString="celtra-ad-v"}return t.prototype.validate=function(t){return 0==t.className.indexOf(this.celtraClassString)},t}();e.CeltraValidator=i},7581:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.DfaValidator=void 0;var o=i(5223),a=i(425),s=i(3380),d=i(7749),p=function(t){function e(){var e=t.call(this,"DfaVisibilityIdentifier","DfaVisibilityIdentifier")||this;return e.dcmValidationTypes={div:!0,span:!0},e.maxDistance=10,e}return n(e,t),e.prototype.validate=function(e){var i=!1,r=a.BrowserAdaptor.getElementType(e),n=s.Utilities.getElementsDistance(e,d.DvTagDataObject.getDVScript());return this.dcmValidationTypes[r]&&n>=0&&n<=this.maxDistance&&(i=t.prototype.validate.call(this,e)),i},e}(o.BtregValidator);e.DfaValidator=p},631:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.MediaplexValidator=void 0;var o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.multiplexRegexp=new RegExp("[0-9]+-[0-9]+-[0-9]+-[0-9]+"),r.hyphenFreeRegexp=new RegExp("-","g"),r}return n(e,t),e.prototype.validateBtreg=function(e,i){return this.validateByMediaplex(e,i)||t.prototype.validateBtreg.call(this,e,i)},e.prototype.validateBtadsrv=function(e,i){return this.validateByMediaplex(e,i)||t.prototype.validateBtadsrv.call(this,e,i)},e.prototype.validateByMediaplex=function(t,e){var i=!1;if(t&&e){var r=this.multiplexRegexp.exec(t);if(r)i=r.toString().replace(this.hyphenFreeRegexp,"")==e}return i},e}(i(5223).BtregValidator);e.MediaplexValidator=o},4265:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpotXValidator=void 0;var o=i(540),a=i(712),s=function(t){function e(){var e=t.call(this)||this;return e.standardAdTypes=["object","embed","video","iframe"],e}return n(e,t),e.prototype.validate=function(t){return this.isStandardAdType(t)&&this.isStandardAdSize(this.getAdSize(t),a.StandardSizeType.SpotX)},e}(o.ValidateByAdTypeAndSize);e.SpotXValidator=s},7939:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ValidateByAdSize=void 0;var r=i(425),n=i(3971),o=i(712),a=function(){function t(){}return t.prototype.getAdSize=function(t){return r.BrowserAdaptor.getElementSize(t)},t.prototype.isStandardAdSize=function(t,e){return n.StandardSizes.isStandardAdSize(t,e,o.StandardSizeThreshold.commonThreshold)},t}();e.ValidateByAdSize=a},540:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ValidateByAdTypeAndSize=void 0;var o=i(425),a=i(7939),s=i(712),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.standardAdTypes=["object","embed","img","iframe","svg","canvas"],e}return n(e,t),e.prototype.validate=function(t){return this.isStandardAdType(t)&&this.isStandardAdSize(this.getAdSize(t),s.StandardSizeType.Display)},e.prototype.isStandardAdType=function(t){var e=!1;if(t){var i=o.BrowserAdaptor.getElementType(t);e=-1!=this.standardAdTypes.indexOf(i)}return e},e}(a.ValidateByAdSize);e.ValidateByAdTypeAndSize=d},677:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.OmidAdLocator=void 0;var o=i(712),a=i(455),s=i(5219),d=i(6689),p=function(t){function e(){return t.call(this,1)||this}return n(e,t),e.prototype.getAds=function(){var t=[];return t.push(new a.AdCandidateData(null)),t},e.prototype.getPriority=function(t){return o.LocatorPriority.DisplayOmid},e.prototype.getMethod=function(){return o.LocatorMethods.DisplayOmid},e.prototype.isSupported=function(){return d.OmidWrapper.isSupported()},e.prototype.getSupportedDeliveryType=function(){return[o.DetectedDeliveryType.MobileApp,o.DetectedDeliveryType.Unknown,o.DetectedDeliveryType.Desktop,o.DetectedDeliveryType.MobileWeb]},e}(s.BaseAdLocator);e.OmidAdLocator=p},4179:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},o=this&&this.__spreadArray||function(t,e){for(var i=0,r=e.length,n=t.length;i<r;i++,n++)t[n]=e[i];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraScannerSingleton=e.CeltraDeepScannerSingleton=e.CeltraScanner=void 0;var a=i(425),s=i(7749),d=i(712),p=i(749),c=i(5261),u=function(){function t(t){this.scanSiblingTwoLevelsDown=t}return t.prototype.scan=function(t){var e,i;this.dvTag=this.dvTag||s.DvTagDataObject.getDVScript();var n=this.dvTag&&this.dvTag.parentElement,o=this.getCeltraElementByDomApiSearch(n);o&&o.length>0&&(this.celtraTagSearchMethod=d.CeltraTagLocatorMethod.DOM_API_SEARCH);var a=[],p=o&&o.length>0?o:this.getElementsToSearchCeltraAttribute();try{for(var u=r(p),l=u.next();!l.done;l=u.next()){var f=l.value;if(t.validate(f)){var v=new c.CeltraDomAdData(this.celtraTagSearchMethod,null,0,!1);if(f.celtra&&f.celtra.viewabilityObservee){var h=f.celtra.viewabilityObservee;v.domElement=h,v.isFullyLoaded=!0}a.push(v)}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(e)throw e.error}}return a},t.prototype.getElementsToSearchCeltraAttribute=function(){this.celtraTagSearchMethod=d.CeltraTagLocatorMethod.CUSTOM_SEARCH;var t=[],e=this.dvTag&&this.dvTag.parentElement;if(e&&this.shouldSearchOnTagParent()&&t.push(e),this.shouldSearchOnTagSiblings()){var i=a.BrowserAdaptor.getSiblingsNodes(this.dvTag);t=o(o([],n(t)),n(i)),this.shouldSearchTwoLevelUnderTagSiblings()&&i.forEach((function(e){var i=a.BrowserAdaptor.getElementChildren(e);t=o(o([],n(t)),n(i)),i.forEach((function(e){var i=a.BrowserAdaptor.getElementChildren(e);t=o(o([],n(t)),n(i))}))}))}return t},t.prototype.shouldSearchOnTagParent=function(){return!0},t.prototype.shouldSearchOnTagSiblings=function(){return!0},t.prototype.shouldSearchTwoLevelUnderTagSiblings=function(){return this.scanSiblingTwoLevelsDown},t.prototype.getCeltraElementByDomApiSearch=function(t){if(t&&"function"==typeof t.querySelectorAll){var e=t.querySelectorAll("[class^=celtra-ad-v]");if(e)return e.length>1&&p.MessageHandler.sendMessage({dvp_csmc:e.length}),Array.prototype.slice.call(e)}},t}();e.CeltraScanner=u,e.CeltraDeepScannerSingleton=new u(!0),e.CeltraScannerSingleton=new u(!1)},3924:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseScanElement=void 0;var r=i(3868),n=i(3380),o=function(){function t(t){void 0===t&&(t=r.WindowAdaptor.workingWindow()),this.elementsList=[],this.scanValidityTime=1e3,this.searchWin=t}return t.prototype.scan=function(){return(!this.lastScanTime||n.Utilities.getCurrentTime()-this.lastScanTime>this.scanValidityTime)&&(this.elementsList=this.tagScan(),this.lastScanTime=n.Utilities.getCurrentTime()),this.elementsList},t.prototype.extractAd=function(t){return t},t}();e.BaseScanElement=o},2200:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomScanContainerElement=void 0;var a=i(3924),s=i(425),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.extractAd=function(t){return this.getBiggestNestedElement(t)},e.prototype.getBiggestNestedElement=function(t){var e,i,r=t,n=["embed","iframe","object","img","span","div","svg","canvas"],a=[],d=s.BrowserAdaptor.getElementsByTagNameFromDomElement(t,"*");try{for(var p=o(d),c=p.next();!c.done;c=p.next()){var u=c.value,l=s.BrowserAdaptor.getElementType(u);if(-1!=n.indexOf(l)){var f=s.BrowserAdaptor.getElementSize(u);f&&a.push({area:f.width*f.height,width:f.width,height:f.height,type:l,elem:u})}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(i=p.return)&&i.call(p)}finally{if(e)throw e.error}}return(a=a.sort((function(t,e){return e.area-t.area||n.indexOf(e.type)-n.indexOf(t.type)}))).length>0&&(r=a[0].elem),r},e}(a.BaseScanElement);e.CustomScanContainerElement=d},6999:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomScanCustomElement=void 0;var o=i(425),a=function(t){function e(e,i){var r=t.call(this,e)||this;return r.elementName=i,r}return n(e,t),e.prototype.tagScan=function(){return o.BrowserAdaptor.getElementsByTagNameFromDocument(this.elementName,this.searchWin.document)},e}(i(2200).CustomScanContainerElement);e.CustomScanCustomElement=a},9894:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomScanDivElement=void 0;var o=i(425),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.tagScan=function(){return o.BrowserAdaptor.getElementsByTagNameFromDocument("div",this.searchWin.document)},e}(i(2200).CustomScanContainerElement);e.CustomScanDivElement=a},31:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomScanObjectElement=void 0;var o=i(425),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.tagScan=function(){return o.BrowserAdaptor.getElementsByTagNameFromDocument("object",this.searchWin.document)},e}(i(2200).CustomScanContainerElement);e.CustomScanObjectElement=a},4499:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomScanSpanElement=void 0;var o=i(425),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adunitAttribute="adunit",e}return n(e,t),e.prototype.tagScan=function(){return o.BrowserAdaptor.getElementsByTagNameFromDocument("span",this.searchWin.document)},e.prototype.extractAd=function(e){return 1==o.BrowserAdaptor.getAttribute(e,this.adunitAttribute)?e:t.prototype.extractAd.call(this,e)},e}(i(2200).CustomScanContainerElement);e.CustomScanSpanElement=a},4211:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanCanvasElement=void 0;var o=i(3924),a=i(425),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("canvas",this.searchWin.document)},e}(o.BaseScanElement);e.ScanCanvasElement=s},4933:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ScanContainerElement=void 0;var a=i(3924),s=i(425),d=i(1085),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.extractAd=function(t){return(new d.PassMinimumAdSize).validate(t)?t:this.getBiggestNestedElement(t)},e.prototype.getBiggestNestedElement=function(t){var e,i,r=t,n=["embed","iframe","object","img","span","div","svg","canvas"],a=[],d=s.BrowserAdaptor.getElementsByTagNameFromDomElement(t,"*");d.unshift(t);try{for(var p=o(d),c=p.next();!c.done;c=p.next()){var u=c.value,l=s.BrowserAdaptor.getElementType(u);if(-1!=n.indexOf(l)){var f=s.BrowserAdaptor.getElementSize(u);f&&a.push({area:f.width*f.height,width:f.width,height:f.height,type:l,elem:u})}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(i=p.return)&&i.call(p)}finally{if(e)throw e.error}}return(a=a.sort((function(t,e){return e.area-t.area||n.indexOf(e.type)-n.indexOf(t.type)}))).length>0&&(r=a[0].elem),r},e}(a.BaseScanElement);e.ScanContainerElement=p},3158:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanCustomElement=void 0;var o=i(4933),a=i(425),s=function(t){function e(e,i){var r=t.call(this,e)||this;return r.elementName=i,r}return n(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument(this.elementName,this.searchWin.document)},e}(o.ScanContainerElement);e.ScanCustomElement=s},9670:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanDivElement=void 0;var o=i(4933),a=i(425),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("div",this.searchWin.document)},e}(o.ScanContainerElement);e.ScanDivElement=s},163:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanEmbedElement=void 0;var o=i(3924),a=i(425),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("embed",this.searchWin.document)},e}(o.BaseScanElement);e.ScanEmbedElement=s},1346:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanFrameElement=void 0;var o=i(3924),a=i(3868),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.tagScan=function(){var t=[],e=a.WindowAdaptor.getFrameElement(this.searchWin);return e&&t.push(e),t},e}(o.BaseScanElement);e.ScanFrameElement=s},8689:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanIframeElement=void 0;var o=i(3924),a=i(425),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("iframe",this.searchWin.document)},e}(o.BaseScanElement);e.ScanIframeElement=s},9038:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanImageElement=void 0;var o=i(3924),a=i(425),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("img",this.searchWin.document)},e}(o.BaseScanElement);e.ScanImageElement=s},2978:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanLinkElement=void 0;var o=i(3924),a=i(425),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("a",this.searchWin.document)},e.prototype.extractAd=function(t){var e,i=a.BrowserAdaptor.getElementsByTagNameFromDomElement(t,"img");return i.length>0&&(e=i[0]),e},e}(o.BaseScanElement);e.ScanLinkElement=s},6466:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanObjectElement=void 0;var o=i(4933),a=i(425),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("object",this.searchWin.document)},e}(o.ScanContainerElement);e.ScanObjectElement=s},6635:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanSpanElement=void 0;var o=i(4933),a=i(425),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adunitAttribute="adunit",e}return n(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("span",this.searchWin.document)},e.prototype.extractAd=function(e){return 1==a.BrowserAdaptor.getAttribute(e,this.adunitAttribute)?e:t.prototype.extractAd.call(this,e)},e}(o.ScanContainerElement);e.ScanSpanElement=s},1765:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanSvgElement=void 0;var o=i(3924),a=i(425),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("svg",this.searchWin.document)},e}(o.BaseScanElement);e.ScanSvgElement=s},5613:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomGetElementsByTagNameSingleton=e.CustomGetElementsByTagName=void 0;var n=i(163),o=i(2978),a=i(9038),s=i(8689),d=i(1346),p=i(7749),c=i(4211),u=i(1765),l=i(3868),f=i(3380),v=i(8564),h=i(9894),y=i(4499),m=i(6999),g=i(31),w=function(){function t(t){var e=this;this.byTagScanners=[],this.byTagScanners.push(new n.ScanEmbedElement(t)),this.byTagScanners.push(new g.CustomScanObjectElement(t)),this.byTagScanners.push(new o.ScanLinkElement(t)),this.byTagScanners.push(new a.ScanImageElement(t)),this.byTagScanners.push(new y.CustomScanSpanElement(t)),this.byTagScanners.push(new s.ScanIframeElement(t)),this.byTagScanners.push(new h.CustomScanDivElement(t)),this.byTagScanners.push(new d.ScanFrameElement(t)),this.byTagScanners.push(new c.ScanCanvasElement(t)),this.byTagScanners.push(new u.ScanSvgElement(t)),p.DvTagDataObject.getCustomTags().forEach((function(i){return e.byTagScanners.unshift(new m.CustomScanCustomElement(t,i))}))}return t.prototype.scan=function(t){var e,i,n,o,a=[];try{for(var s=r(this.byTagScanners),d=s.next();!d.done;d=s.next()){var c=d.value;try{for(var u=(n=void 0,r(c.scan())),l=u.next();!l.done;l=u.next()){var h=l.value;if(t.validate(h)){var y=c.extractAd(h),m=new v.DomAdData(y,f.Utilities.getElementsDistance(y,p.DvTagDataObject.getDVScript()));a.push(m)}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{d&&!d.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return a},t}();e.CustomGetElementsByTagName=w,e.CustomGetElementsByTagNameSingleton=new w(l.WindowAdaptor.workingWindow())},7754:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.GetElementsByClassName=void 0;var n=i(425),o=i(3380),a=i(7749),s=i(8564),d=function(){function t(t){this.btreg=t}return t.prototype.scan=function(){var t,e,i=[],d=n.BrowserAdaptor.getElementsByClassName(this.btreg);try{for(var p=r(d),c=p.next();!c.done;c=p.next()){var u=c.value,l=new s.DomAdData(u,o.Utilities.getElementsDistance(u,a.DvTagDataObject.getDVScript()));i.push(l)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=p.return)&&e.call(p)}finally{if(t)throw t.error}}return i},t}();e.GetElementsByClassName=d},6352:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.GetElementsByTagNameSingleton=e.GetElementsByTagName=void 0;var n=i(163),o=i(6466),a=i(2978),s=i(9038),d=i(6635),p=i(8689),c=i(9670),u=i(1346),l=i(7749),f=i(3158),v=i(4211),h=i(1765),y=i(3868),m=i(3380),g=i(8564),w=function(){function t(t){var e=this;this.byTagScanners=[],this.byTagScanners.push(new n.ScanEmbedElement(t)),this.byTagScanners.push(new o.ScanObjectElement(t)),this.byTagScanners.push(new a.ScanLinkElement(t)),this.byTagScanners.push(new s.ScanImageElement(t)),this.byTagScanners.push(new d.ScanSpanElement(t)),this.byTagScanners.push(new p.ScanIframeElement(t)),this.byTagScanners.push(new c.ScanDivElement(t)),this.byTagScanners.push(new u.ScanFrameElement(t)),this.byTagScanners.push(new v.ScanCanvasElement(t)),this.byTagScanners.push(new h.ScanSvgElement(t)),l.DvTagDataObject.getCustomTags().forEach((function(i){return e.byTagScanners.unshift(new f.ScanCustomElement(t,i))}))}return t.prototype.scan=function(t){var e,i,n,o,a=[];try{for(var s=r(this.byTagScanners),d=s.next();!d.done;d=s.next()){var p=d.value;try{for(var c=(n=void 0,r(p.scan())),u=c.next();!u.done;u=c.next()){var f=u.value;if(t.validate(f)){var v=p.extractAd(f),h=new g.DomAdData(v,m.Utilities.getElementsDistance(v,l.DvTagDataObject.getDVScript()));a.push(h)}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{d&&!d.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return a},t}();e.GetElementsByTagName=w,e.GetElementsByTagNameSingleton=new w(y.WindowAdaptor.workingWindow())},483:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.NearestAdScannerSingleton=e.NearestAdScanner=void 0;var n=i(3380),o=i(425),a=i(7749),s=i(8564),d=function(){function t(){this.maxScanDepth=20,this.scanValidityTime=1e3,this.elementsList=[]}return t.prototype.scan=function(t){var e,i;this.dvTag=this.dvTag||a.DvTagDataObject.getDVScript();var o=[],d=[];if(0==this.elementsList.length||n.Utilities.getCurrentTime()-this.lastScanTime>this.scanValidityTime){var p=this.getStartElement();p&&(this.getElements(p.domElement,p.depth),this.lastScanTime=n.Utilities.getCurrentTime())}try{for(var c=r(this.elementsList),u=c.next();!u.done;u=c.next()){var l=u.value;if(t.validate(l)){var f=new s.DomAdData(l,n.Utilities.getElementsDistance(l,this.dvTag));o.push(f)}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return o.length>0&&(d=o.sort((function(t,e){return t.depth-e.depth})).slice(0,5)),d},t.prototype.getStartElement=function(){var t,e=this.dvTag;for(t=0;t<this.maxScanDepth;t++){var i=n.Utilities.getElementParent(e);if(!i)break;e=i}return new s.DomAdData(e,t)},t.prototype.getElements=function(t,e){var i=this;if(t&&Math.abs(e)<=this.maxScanDepth){this.elementsList.push(t);var r=o.BrowserAdaptor.getElementChildren(t);r&&r.length>0&&r.forEach((function(t){return i.getElements(t,e-1)}))}},t}();e.NearestAdScanner=d,e.NearestAdScannerSingleton=new d},4846:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InAppHtml5VideoAdLocator=void 0;var o=i(5219),a=i(7749),s=i(425),d=i(455),p=i(712),c=i(6689),u=function(t){function e(){return t.call(this,1)||this}return n(e,t),e.prototype.getAds=function(){var t=s.BrowserAdaptor.getElementsByTagNameFromDocument("video")[0];if(t)return[new d.AdCandidateData(t)]},e.prototype.isSupported=function(){return!c.OmidWrapper.isSupported()&&a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getSupportedDeliveryType=function(){return[p.DetectedDeliveryType.MobileApp]},e.prototype.getPriority=function(){return p.LocatorPriority.VideoInAppHtml5},e.prototype.getMethod=function(){return p.LocatorMethods.VideoInAppHtml5},e}(o.BaseAdLocator);e.InAppHtml5VideoAdLocator=u},8066:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InAppVpaidVideoAdLocator=void 0;var o=i(7749),a=i(5219),s=i(455),d=i(712),p=i(6689),c=i(1063),u=function(t){function e(){return t.call(this,5,1e3)||this}return n(e,t),e.prototype.isSupported=function(){return!p.OmidWrapper.isSupported()&&o.DvTagDataObject.getTagType()==d.DvTagType.Video&&!!o.DvTagDataObject.getAdID()},e.prototype.getAds=function(){var t=c.VpaidWrapper.getDvVpaid();if(t){var e=t.asset;if(e&&e.player)return[new s.AdCandidateData(e.player)]}},e.prototype.getSupportedDeliveryType=function(){return[d.DetectedDeliveryType.MobileApp]},e.prototype.getPriority=function(){return d.LocatorPriority.VideoInAppVpaid},e.prototype.getMethod=function(){return d.LocatorMethods.VideoInAppVpaid},e}(a.BaseAdLocator);e.InAppVpaidVideoAdLocator=u},9260:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InmobiVideoAdLocator=void 0;var o=i(5219),a=i(6689),s=i(7749),d=i(712),p=i(455),c=i(1800),u=i(7360),l=i(8426),f=function(t){function e(){var e=t.call(this,5,1e3)||this;return e.isSupported()&&(u.EventBus.dispatchEvent(u.DvEvent.delayAdSelection,new c.DelayTimerData(3100)),l.InmobiWrapper.addEventListenerWithHistory(e.handleInmobiAdLoadedEvent.bind(e))),e}return n(e,t),e.prototype.isSupported=function(){return!a.OmidWrapper.isSupported()&&s.DvTagDataObject.getTagType()==d.DvTagType.Video&&l.InmobiWrapper.isSupported()},e.prototype.getAds=function(){if(this.adElement)return[new p.AdCandidateData(this.adElement)]},e.prototype.getSupportedDeliveryType=function(){return[d.DetectedDeliveryType.MobileApp]},e.prototype.getPriority=function(){return d.LocatorPriority.VideoInAppInmobi},e.prototype.getMethod=function(){return d.LocatorMethods.VideoInAppInmobi},e.prototype.handleInmobiAdLoadedEvent=function(t){t&&"AdLoaded"==t.type&&t.detail&&t.detail.element&&(this.adElement=t.detail.element)},e}(o.BaseAdLocator);e.InmobiVideoAdLocator=f},554:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.NonInAppVpaidVideoAdLocator=void 0;var o=i(7749),a=i(5219),s=i(455),d=i(712),p=i(6689),c=i(1063),u=function(t){function e(){return t.call(this,5,1e3)||this}return n(e,t),e.prototype.isSupported=function(){return!p.OmidWrapper.isSupported()&&o.DvTagDataObject.getTagType()==d.DvTagType.Video&&!!o.DvTagDataObject.getAdID()},e.prototype.getAds=function(){var t=c.VpaidWrapper.getDvVpaid();if(t){var e=t.asset;if(e&&e.player)return[new s.AdCandidateData(e.player)]}},e.prototype.getSupportedDeliveryType=function(){return[d.DetectedDeliveryType.Desktop,d.DetectedDeliveryType.MobileWeb,d.DetectedDeliveryType.Unknown]},e.prototype.getPriority=function(){return d.LocatorPriority.VideoNonInAppVpaid},e.prototype.getMethod=function(){return d.LocatorMethods.VideoNonInAppVpaid},e}(a.BaseAdLocator);e.NonInAppVpaidVideoAdLocator=u},922:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdContainerSizeBL=void 0;var o=i(6751),a=i(7360),s=i(712),d=i(3380),p=i(3868),c=i(749),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!(p.WindowAdaptor.getScenarioType()&s.Scenario.OnPage||p.WindowAdaptor.getScenarioType()&s.Scenario.Domless)},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.exposureData]=this.handleContainerAdSizeData.bind(this),t},e.prototype.handleContainerAdSizeData=function(t){var e,i;try{var r=t.relevantData,n=null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.adContainerHeight,o=null===(i=null==t?void 0:t.adCandidate)||void 0===i?void 0:i.adContainerWidth,p=r.containerSize,u=void 0===p?{}:p,l=u.height,f=u.width;d.Utilities.isNullOrEmpty(l)||d.Utilities.isNullOrEmpty(f)||(t.adCandidate.adContainerHeight=l,t.adCandidate.adContainerWidth=f,t.adCandidate.isInvalidContainerSize=this.isInvalidContainerSize(l,f),l===n&&f===o||a.EventBus.dispatchEvent(a.DvEvent.reportData,t))}catch(t){c.MessageHandler.sendError(s.ClientErrorType.MeasurementError,t,"couldn't extract container Size")}},e.prototype.isInvalidContainerSize=function(t,e){return!(d.Utilities.isNullOrEmpty(t)||d.Utilities.isNullOrEmpty(e)||p.WindowAdaptor.getScenarioType()&s.Scenario.OnPage||t!==e||1!==t&&0!==t)},e}(o.BaseAdBL);e.AdContainerSizeBL=u},3502:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdElementInfoExtractorBL=void 0;var o=i(7360),a=i(6751),s=i(3380),d=i(540),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.adSelected]=this.adSelected.bind(this),t},e.prototype.adSelected=function(t){var e=this.extractAdElementType(t);(e=this.logAdDimensionDataPoints(t)||e)&&o.EventBus.dispatchEvent(o.DvEvent.reportData,t)},e.prototype.extractAdElementType=function(t){var e,i=s.Utilities.extractElementType(null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.domElement);return!!i&&(t.adCandidate.adElementType=i,!0)},e.prototype.logAdDimensionDataPoints=function(t){var e;try{var i=null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.domElement;if(!s.Utilities.isNullOrEmpty(i)){var r=i.tagName;if("IFRAME"===(null==r?void 0:r.toUpperCase())){var n=this.getIframeDocument(i);if(void 0!==n){var o=this.getBiggestChildElement(n);if(void 0!==o){var a=o.scrollHeight,d=o.scrollWidth;return t.adCandidate.largestChildElementHeight=a,t.adCandidate.largestChildElementWidth=d,!0}}}}return!1}catch(t){return!1}},e.prototype.getIframeDocument=function(t){try{return t.contentDocument||t.contentWindow.document}catch(t){return}},e.prototype.getBiggestChildElement=function(t){try{var e=this.getPotentialAdChildren(t);return this.findBiggestChild(e)}catch(t){}},e.prototype.findBiggestChild=function(t){var e=new d.ValidateByAdTypeAndSize;return t.filter((function(t){return e.validate(t)})).reduce((function(t,e){return t.scrollHeight*t.scrollWidth>=e.scrollHeight*e.scrollWidth?t:e}))},e.prototype.getPotentialAdChildren=function(t){var e=t.querySelectorAll(["object","embed","img","iframe","svg","canvas"].join(","));return Array.prototype.slice.call(e)},e.prototype.init=function(){},e}(a.BaseAdBL);e.AdElementInfoExtractorBL=p},4021:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdSelector=void 0;var o=i(7360),a=i(194),s=i(712),d=i(6751),p=i(1800),c=i(425),u=i(749),l=i(7749),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getActionName=function(){return"AdSelector"},e.prototype.init=function(){this.adCandidates=[],this.wasImpressionServed=!1,this.wasAdSelected=!1,this.timeoutOccurred=!1,this.adSelectedDelayTime=-1},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.adCandidateLocated]=this.adCandidateLocated.bind(this),t[o.DvEvent.impressionServed]=this.impressionServed.bind(this),t[o.DvEvent.unloadData]=this.unloadData.bind(this),t[o.DvEvent.delayAdSelection]=this.delayAdSelectionCalled.bind(this),t[o.DvEvent.reserveAdLocator]=this.reserveAdLocator.bind(this),t},e.prototype.adCandidateLocated=function(t){var e=t.adCandidate;this.wasAdSelected||(this.fillAdCandidates(e),this.trySelectAd(),this.timeoutOccurred&&this.reportSelectedAd())},e.prototype.impressionServed=function(){this.wasImpressionServed=!0,this.adSelectedDefaultDelayTime=a.DvObject.getConsolidationTimeout()||2100,this.detectedDeliveryType=a.DvObject.getDetectedDeliveryType(),l.DvTagDataObject.getTagType()!=s.DvTagType.Video&&this.detectedDeliveryType!=s.DetectedDeliveryType.MobileApp||(this.adSelectedDefaultDelayTime=0),this.trySelectAd(),this.registerAdSelectionTimeout(this.adSelectedDefaultDelayTime)},e.prototype.fillAdCandidates=function(t){var e=this.adCandidates.filter((function(e){return e.domElement==t.domElement}))[0];e&&this.isSameDetectedDeliveryType(e,t)?(e.priority+=t.priority,e.locatorMethods=e.locatorMethods|t.locatorMethods,e.state=e.state==s.AdCandidateState.Unauthorized?t.state:e.state):(this.adCandidates.push(t),o.EventBus.dispatchEvent(o.DvEvent.adCandidateApproved,new p.AdCandidateEventData(t)))},e.prototype.isSameDetectedDeliveryType=function(t,e){return t.supportedDeliveryType.every((function(t){return e.supportedDeliveryType.indexOf(t)>-1}))},e.prototype.trySelectAd=function(){var t=this;if(this.wasImpressionServed&&this.adCandidates.length){var e=this.adCandidates.filter((function(e){return e.supportedDeliveryType.some((function(e){return e==t.detectedDeliveryType}))&&e.state==s.AdCandidateState.Unresolved}));this.adPriorityToReserve&&(e=e.filter((function(e){return e.priority>=t.adPriorityToReserve}))),e.length&&(this.currentSelectedAd=e.reduce((function(t,e){return t.priority>=e.priority?t:e})))}},e.prototype.reportSelectedAd=function(){if(this.timeoutOccurred=!0,this.currentSelectedAd&&!this.wasAdSelected)if(this.adPriorityToReserve&&this.currentSelectedAd.priority<this.adPriorityToReserve)this.currentSelectedAd=null;else{this.wasAdSelected=!0,this.currentSelectedAd.state=s.AdCandidateState.Selected;var t=new p.AdCandidateEventData(this.currentSelectedAd);o.EventBus.dispatchEvent(o.DvEvent.adSelected,t),this.setDestroySelectedAdTimeout(t)}this.destroyAds()},e.prototype.setDestroySelectedAdTimeout=function(t){c.BrowserAdaptor.setTimeout((function(){o.EventBus.dispatchEvent(o.DvEvent.adDestroy,t)}),s.ImpressionSessionTime.MAX_EVENT_SENDING_ALLOWED)},e.prototype.unloadData=function(t){if(this.wasImpressionServed){var e=t.relevantData;this.reportSelectedAd(),this.wasAdSelected||this.reportNotMeasured||(this.reportNotMeasured=!0,u.MessageHandler.sendMessage({isnmms:e.updateTime}))}},e.prototype.destroyAds=function(){this.adCandidates.filter((function(t){return t.state==s.AdCandidateState.Unresolved})).forEach((function(t){o.EventBus.dispatchEvent(o.DvEvent.adDestroy,new p.AdCandidateEventData(t)),t.state=s.AdCandidateState.Destroyed}))},e.prototype.reserveAdLocator=function(t){this.adPriorityToReserve=t.adPriority},e.prototype.delayAdSelectionCalled=function(t){var e=t.delayTimeMS;this.registerAdSelectionTimeout(e)},e.prototype.registerAdSelectionTimeout=function(t){!this.wasAdSelected&&t>this.adSelectedDelayTime&&(this.adSelectedDelayTime=t,this.adSelectionTimeoutId&&c.BrowserAdaptor.clearTimeout(this.adSelectionTimeoutId),this.adSelectionTimeoutId=c.BrowserAdaptor.setTimeout(this.reportSelectedAd.bind(this),this.adSelectedDelayTime))},e}(d.BaseAdBL);e.AdSelector=f},1847:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdSelectorLogger=void 0;var o=i(7360),a=i(7658),s=i(712),d=i(6751),p=i(749),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){this.adCandidatesLocatorMethods=0,this.numberOfAdCandidates=0,this.wasAdSelected=!1},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.adCandidateLocated]=this.adCandidateLocated.bind(this),t[o.DvEvent.adCandidateApproved]=this.adCandidateApproved.bind(this),t[o.DvEvent.adSelected]=this.adSelected.bind(this),t},e.prototype.adCandidateLocated=function(t){this.wasAdSelected||(this.adCandidatesLocatorMethods=this.adCandidatesLocatorMethods|t.adCandidate.locatorMethods)},e.prototype.adCandidateApproved=function(){this.numberOfAdCandidates++},e.prototype.adSelected=function(t){var e;this.wasAdSelected=!0,p.MessageHandler.sendMessage(((e={})[a.EngagementDataMapping.adCandidatesLocatorMethods]=this.adCandidatesLocatorMethods,e[a.EngagementDataMapping.numberOfAdCandidates]=this.numberOfAdCandidates,e)),t.adCandidate.locatorMethods&(s.LocatorMethods.DisplayIntegratedCeltra|s.LocatorMethods.DisplayNonIntegratedCeltra)&&p.MessageHandler.sendMessage({dvp_csm:t.adCandidate.celtraTagSearchMethod})},e}(d.BaseAdBL);e.AdSelectorLogger=c},8720:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdSizeBL=void 0;var o=i(6751),a=i(7360),s=i(1800),d=i(7749),p=i(712),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.exposureData]=this.handleAdSizeData.bind(this),t},e.prototype.handleAdSizeData=function(t){var e=t.adCandidate,i=t.relevantData;if(!(d.DvTagDataObject.getTagType()==p.DvTagType.Video&&!i.adIsPlaying||e.adWidth&&e.adHeight)&&i.adSize){var r=e.adWidth,n=e.adHeight;if(e.adWidth=i.adSize.width?Math.ceil(i.adSize.width):e.adWidth,e.adHeight=i.adSize.height?Math.ceil(i.adSize.height):e.adHeight,r!=e.adWidth||n!=e.adHeight){var o=new s.AdCandidateEventData(e);a.EventBus.dispatchEvent(a.DvEvent.adSizeChangedData,o),a.EventBus.dispatchEvent(a.DvEvent.reportData,o)}}},e}(o.BaseAdBL);e.AdSizeBL=c},6751:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdBL=void 0;var r=i(7360),n=function(){function t(){this.isSupported()&&(this.init(),r.EventBus.addEventsListener(this.getEventsAndCallbacksToRegister(),this.getActionName()))}return t.prototype.getActionName=function(){return"BaseAdBL"},t}();e.BaseAdBL=n},7127:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdDataLoggerBL=void 0;var r=i(7360),n=i(194),o=i(1800),a=i(3380),s=function(){function t(){this.isSupported()&&a.Utilities.isPercentageCriteriaPassed(this.getTrafficPercentage())&&this.init()}return t.prototype.init=function(){var t=this;r.EventBus.addEventListener(r.DvEvent.impressionServed,(function(){t.isSupportedDetectedDeliveryType()&&r.EventBus.addEventsListener(t.getEventsAndCallbacksToRegister(),t.getActionName())}))},t.prototype.report=function(t){r.EventBus.dispatchEvent(r.DvEvent.reportData,new o.AdCandidateEventData(t))},t.prototype.isSupportedDetectedDeliveryType=function(){return this.getSupportedDetectedDeliveryType().some((function(t){return t==n.DvObject.getDetectedDeliveryType()}))},t}();e.BaseAdDataLoggerBL=s},720:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.EligibilityCompatibilityIndicator=void 0;var o=i(7658),a=i(6689),s=i(6681),d=i(712),p=i(6751),c=i(7749),u=i(194),l=i(7360),f=i(1063),v=i(749),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getActionName=function(){return"EligibilityCompatibilityIndicator"},e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[l.DvEvent.impressionServed]=this.start.bind(this),t},e.prototype.start=function(){var t,e;if(null==u.DvObject.getDetectedDeliveryType()||u.DvObject.isCTV())e=!1;else if(c.DvTagDataObject.isTagTypeValid())if(u.DvObject.isMobileApp())e=s.MraidWrapper.isSupported()||a.OmidWrapper.isSupported();else if(c.DvTagDataObject.getTagType()==d.DvTagType.Video){e=!!f.VpaidWrapper.getDvVpaid()}else e=!0;else v.MessageHandler.sendMessage({dvp_vtt:1}),e=!1;var i=((t={})[o.ExposureDataMapping.isViewabilityEligible]=e?1:0,t);this.report(i)},e.prototype.report=function(t){v.MessageHandler.sendMessage(t)},e}(p.BaseAdBL);e.EligibilityCompatibilityIndicator=h},9608:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdLocatedBL=void 0;var o=i(7360),a=i(6751),s=i(1800),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.adCandidateApproved]=this.handleEvent.bind(this),t},e.prototype.handleEvent=function(t){var e=t.adCandidate;e.timeMsUntilAdLocated=t.updateTime,e.isEngagementEligible=1,o.EventBus.dispatchEvent(o.DvEvent.reportData,new s.AdCandidateEventData(e))},e}(a.BaseAdBL);e.AdLocatedBL=d},6163:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseInteractionBL=void 0;var o=i(7360),a=i(1800),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return!0},e.prototype.init=function(){},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[this.getInteractionEventName()]=this.handleEvent.bind(this),t},e.prototype.handleEvent=function(t){this.allowReport(t.adCandidate)&&(this.update(t.adCandidate,t.relevantData)==s.BlResponse.Updated&&o.EventBus.dispatchEvent(o.DvEvent.reportData,new a.AdCandidateEventData(t.adCandidate)))},e.prototype.allowReport=function(t){return!t.wasAdStopped},e}(i(6751).BaseAdBL);e.BaseInteractionBL=d},5648:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.EngagementReportRtsBL=void 0;var o=i(6751),a=i(7360),s=i(1800),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.orientationchangeLandscapeData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.orientationChangePortraitData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.mouseMoveData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.keyPressData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.touchData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.hoverData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.focusData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.clickData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.abandonData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.skipData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.pauseData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.adSizeData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.resumeData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.volumeData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.scrollData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.unloadData]=this.TrySendEngagementUnload.bind(this),t},e.prototype.TrySendEngagementInteraction=function(t){var e=t.adCandidate,i=this.adEngagementReported(e),r=this.pageEngagementReported(e);i==e.adEngagement&&r==e.pageEngagement||(e.adEngagement=i,e.pageEngagement=r,a.EventBus.dispatchEvent(a.DvEvent.reportData,new s.AdCandidateEventData(e)))},e.prototype.TrySendEngagementUnload=function(t){this.TrySendEngagementInteraction(t);var e=t.adCandidate;e.adEngagement||e.pageEngagement||(e.noEngagement=!0,a.EventBus.dispatchEvent(a.DvEvent.reportData,new s.AdCandidateEventData(e)))},e.prototype.adEngagementReported=function(t){if(t.timeMsUntilAbandon||t.timeMsUntilSkip||t.timeMsUntilPause||t.timeMsUntilClick||t.timeMsUntilAdSizeIncrease||t.timeMsUntilResume||t.timeMsUntilTouch||t.timeMsUntilHover||t.timeMsUntilAdSizeDecrease||t.timeMsUntilVolumeIncrease||t.timeMsUntilVolumeDecrease||t.timeMsUntilVolumeUnMute||t.lastTimeMsVolumeMute)return!0},e.prototype.pageEngagementReported=function(t){if(t.timeMsUntilFocusOut||t.timeMsUntilFocusIn||t.timeMsUntilMouseMove||t.timeMsUntilKeyPress||t.timeMsUntilScroll||t.timeMsUntilOrientationChangeToLandscape||t.timeMsUntilOrientationChangeToPortrait)return!0},e}(o.BaseAdBL);e.EngagementReportRtsBL=d},5443:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionAdSizeBL=void 0;var o=i(7360),a=i(6163),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.adSizeData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;if(t.isPaused)return i;var r=e.updateTime;switch(this.getAdSizeState(t.lastAdSize,e.adSize)){case s.AdSizeState.NoChange:break;case s.AdSizeState.Increase:if(t.timeMsUntilAdSizeIncrease)break;t.timeMsUntilAdSizeIncrease=r,i=s.BlResponse.Updated;break;case s.AdSizeState.Decrease:if(t.timeMsUntilAdSizeDecrease)break;t.timeMsUntilAdSizeDecrease=r,i=s.BlResponse.Updated}return t.lastAdSize=e.adSize,i},e.prototype.getAdSizeState=function(t,e){var i=this.getSurface(t),r=this.getSurface(e);return i&&r&&i!=r?r>i?s.AdSizeState.Increase:s.AdSizeState.Decrease:s.AdSizeState.NoChange},e.prototype.getSurface=function(t){return t&&t.width&&t.height?t.width*t.height:0},e}(a.BaseInteractionBL);e.InteractionAdSizeBL=d},7999:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionClickBL=void 0;var o=i(7360),a=i(6163),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.clickData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;return t.isPaused||t.timeMsUntilClick||(t.timeMsUntilClick=e.updateTime,i=s.BlResponse.Updated),i},e}(a.BaseInteractionBL);e.InteractionClickBL=d},8874:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionFocusBL=void 0;var o=i(7360),a=i(6163),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.focusData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated,r=e.updateTime;if(t.isPaused)return i;switch(this.getFocusState(t.lastFocus,e.focus)){case s.FocusState.NoChange:break;case s.FocusState.In:if(t.timeMsUntilFocusIn)break;t.timeMsUntilFocusIn=r,i=s.BlResponse.Updated;break;case s.FocusState.Out:if(t.timeMsUntilFocusOut)break;t.timeMsUntilFocusOut=r,i=s.BlResponse.Updated}return t.lastFocus=e.focus,i},e.prototype.getFocusState=function(t,e){var i;return null==t||null==e||t==e?i=s.FocusState.NoChange:0==t&&1==e?i=s.FocusState.In:1==t&&0==e&&(i=s.FocusState.Out),i},e}(a.BaseInteractionBL);e.InteractionFocusBL=d},8463:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionHoverBL=void 0;var o=i(7360),a=i(6163),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.hoverData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;return t.isPaused||t.timeMsUntilHover||(t.timeMsUntilHover=e.updateTime,i=s.BlResponse.Updated),i},e}(a.BaseInteractionBL);e.InteractionHoverBL=d},4183:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionTouchBL=void 0;var o=i(7360),a=i(6163),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.touchData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;return t.isPaused||t.timeMsUntilTouch||(t.timeMsUntilTouch=e.updateTime,i=s.BlResponse.Updated),i},e}(a.BaseInteractionBL);e.InteractionTouchBL=d},2359:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionKeyPressBL=void 0;var o=i(6163),a=i(7360),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return a.DvEvent.keyPressData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;return t.timeMsUntilKeyPress||(t.timeMsUntilKeyPress=e.updateTime,i=s.BlResponse.Updated),i},e}(o.BaseInteractionBL);e.PageInteractionKeyPressBL=d},8345:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionMouseMoveBL=void 0;var o=i(6163),a=i(7360),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return a.DvEvent.mouseMoveData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;return t.timeMsUntilMouseMove||(t.timeMsUntilMouseMove=e.updateTime,i=s.BlResponse.Updated),i},e}(o.BaseInteractionBL);e.PageInteractionMouseMoveBL=d},6355:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionOrientationChangeLandscapeBL=void 0;var o=i(6163),a=i(7360),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return a.DvEvent.orientationchangeLandscapeData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;return t.timeMsUntilOrientationChangeToLandscape||(t.timeMsUntilOrientationChangeToLandscape=e.updateTime,i=s.BlResponse.Updated),i},e}(o.BaseInteractionBL);e.PageInteractionOrientationChangeLandscapeBL=d},8409:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionOrientationChangePortraitBL=void 0;var o=i(6163),a=i(7360),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return a.DvEvent.orientationChangePortraitData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;return t.timeMsUntilOrientationChangeToPortrait||(t.timeMsUntilOrientationChangeToPortrait=e.updateTime,i=s.BlResponse.Updated),i},e}(o.BaseInteractionBL);e.PageInteractionOrientationChangePortraitBL=d},8076:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionScrollBL=void 0;var o=i(6163),a=i(7360),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return a.DvEvent.scrollData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;return t.timeMsUntilScroll||(t.timeMsUntilScroll=e.updateTime,i=s.BlResponse.Updated),i},e}(o.BaseInteractionBL);e.PageInteractionScrollBL=d},9289:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionAbandonBL=void 0;var o=i(7360),a=i(6163),s=i(7749),d=i(712),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.getInteractionEventName=function(){return o.DvEvent.abandonData},e.prototype.update=function(t,e){var i=d.BlResponse.NotUpdated;return s.DvTagDataObject.getTagType()!=d.DvTagType.Video||t.timeMsUntilSkip||t.timeMsUntilAbandon||(t.timeMsUntilAbandon=e.updateTime,i=d.BlResponse.Updated),i},e}(a.BaseInteractionBL);e.InteractionAbandonBL=p},1816:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionPauseBL=void 0;var o=i(7360),a=i(6163),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.pauseData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;return t.isPaused||(t.timeMsUntilPause||(t.timeMsUntilPause=e.updateTime,i=s.BlResponse.Updated),t.isPaused=!0),i},e}(a.BaseInteractionBL);e.InteractionPauseBL=d},3363:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionResumeBL=void 0;var o=i(7360),a=i(6163),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.resumeData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;return t.timeMsUntilResume||1!=t.isPaused||(t.isPaused=!1,t.timeMsUntilResume=e.updateTime,i=s.BlResponse.Updated),i},e}(a.BaseInteractionBL);e.InteractionResumeBL=d},1006:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionSkipBL=void 0;var o=i(7360),a=i(6163),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.skipData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;return t.timeMsUntilSkip||(t.timeMsUntilSkip=t.adSkippedTime=e.updateTime,t.adSkippableMs||(t.adSkippableMs=e.updateTime),i=s.BlResponse.Updated),i},e}(a.BaseInteractionBL);e.InteractionSkipBL=d},6044:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionVolumeBL=void 0;var o=i(7360),a=i(6163),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.volumeData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated,r=e.updateTime;switch(this.getVolumeState(t.lastVideoVolume,e.volume)){case s.VolumeState.NoChange:break;case s.VolumeState.Mute:if(t.timeMsUntilVolumeMute)break;t.timeMsUntilVolumeMute=r,i=s.BlResponse.Updated;break;case s.VolumeState.Decrease:if(t.timeMsUntilVolumeDecrease)break;t.timeMsUntilVolumeDecrease=r,i=s.BlResponse.Updated;break;case s.VolumeState.Unmute:if(t.timeMsUntilVolumeUnMute)break;t.timeMsUntilVolumeUnMute=r,i=s.BlResponse.Updated;break;case s.VolumeState.Increase:if(t.timeMsUntilVolumeIncrease)break;t.timeMsUntilVolumeIncrease=r,i=s.BlResponse.Updated}return t.lastVideoVolume=e.volume,i},e.prototype.getVolumeState=function(t,e){var i;return null==t||null==e||t==e?i=s.VolumeState.NoChange:0===e&&t>0?i=s.VolumeState.Mute:e<t?i=s.VolumeState.Decrease:0===t&&e>0?i=s.VolumeState.Unmute:e>t&&(i=s.VolumeState.Increase),i},e}(a.BaseInteractionBL);e.InteractionVolumeBL=d},9611:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.QuartileBucketsVolumeBL=void 0;var o=i(7360),a=i(1800),s=i(7749),d=i(6751),p=i(712),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return s.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleVolumeData.bind(this),t[o.DvEvent.adVideoFirstQuartileData]=this.handleQuartileData.bind(this,1),t[o.DvEvent.adVideoMidpointData]=this.handleQuartileData.bind(this,2),t[o.DvEvent.adVideoThirdQuartileData]=this.handleQuartileData.bind(this,3),t[o.DvEvent.adVideoCompleteData]=this.handleQuartileData.bind(this,4),t},e.prototype.handleVolumeData=function(t){var e=t.adCandidate,i=t.relevantData;if(i.adIsPlaying&&null!=i.volume&&-1!=i.volume){i.volume<0?e.quartileVolumeLessThanZero=i.volume:i.volume?e.quartileVolumeGreaterThanZero=(e.quartileVolumeGreaterThanZero||0)+1:e.quartileVolumeEqualZero=(e.quartileVolumeEqualZero||0)+1;var r=i.volume?i.intervalDuration:0,n="q"+e.volumeDurationQuartileId+"ad";e[n]=e[n]?e[n]+r:r,i.volume&&e.markAdQuartile(p.ExposureQuartileBitwise.Audible,e.volumeDurationQuartileId)}},e.prototype.handleQuartileData=function(t,e){var i=e.adCandidate;i.volumeDurationQuartileId=t+1,o.EventBus.dispatchEvent(o.DvEvent.reportData,new a.AdCandidateEventData(i))},e}(d.BaseAdBL);e.QuartileBucketsVolumeBL=c},876:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoCompleteBL=void 0;var o=i(7360),a=i(6163),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.adVideoCompleteData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;return t.wasAdStopped=!0,i},e}(a.BaseInteractionBL);e.VideoCompleteBL=d},615:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoLengthBL=void 0;var o=i(7360),a=i(1800),s=i(7749),d=i(6751),p=i(712),c=i(3380),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return s.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.adVideoFirstQuartileData]=this.calculateVideoLengthDueToFirstQuartile.bind(this),t[o.DvEvent.adVideoMidpointData]=this.calculateVideoLengthDueToSecondQuartile.bind(this),t[o.DvEvent.adVideoCompleteData]=this.calculateVideoLengthDueToAdComplete.bind(this),t},e.prototype.calculateVideoLengthDueToFirstQuartile=function(t){var e=t.adCandidate;e.adVideoTimeLine&&(e.adDuration=4*e.adVideoTimeLine,c.Utilities.logIfNotAnInteger(e.adDuration,e,"adDurationDataValidation"),e.adDurationCalculationType=p.AdDurationCalculationType.FirstQuartile)},e.prototype.calculateVideoLengthDueToSecondQuartile=function(t){var e=t.adCandidate;e.adVideoTimeLine&&(e.videoLength=2*e.adVideoTimeLine,e.adDuration=2*e.adVideoTimeLine,c.Utilities.logIfNotAnInteger(e.adDuration,e,"adDurationDataValidation"),e.adDurationCalculationType=p.AdDurationCalculationType.SecondQuartile)},e.prototype.calculateVideoLengthDueToAdComplete=function(t){var e=t.adCandidate;e.adVideoTimeLine&&(e.adDuration=e.adVideoTimeLine,c.Utilities.logIfNotAnInteger(e.adDuration,e,"adDurationDataValidation"),e.adDurationCalculationType=p.AdDurationCalculationType.adComplete,o.EventBus.dispatchEvent(o.DvEvent.reportData,new a.AdCandidateEventData(e)))},e}(d.BaseAdBL);e.VideoLengthBL=u},1886:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoMarkImpressionAsRenderedBL=void 0;var o=i(6751),a=i(7749),s=i(7360),d=i(1800),p=i(712),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getActionName=function(){return"VideoMarkImpressionAsRenderedBL"},e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[s.DvEvent.impressionServed]=this.impressionServed.bind(this),t},e.prototype.impressionServed=function(){var t=this;[s.DvEvent.adImpressionData,s.DvEvent.adVideoStartData,s.DvEvent.resumeData].forEach((function(e){s.EventBus.addEventListener(e,t.videoRenderedCallback.bind(t))}))},e.prototype.videoRenderedCallback=function(t){var e=t.adCandidate;null==e.isVideoPreRendered&&(e.isVideoPreRendered=0,e.videoStartTime=t.updateTime,e.timeMsUntilVideoPlayed=t.updateTime,s.EventBus.dispatchEvent(s.DvEvent.videoStartPlaying,new d.AdCandidateEventData(e)),s.EventBus.dispatchEvent(s.DvEvent.reportData,new d.AdCandidateEventData(e)))},e}(o.BaseAdBL);e.VideoMarkImpressionAsRenderedBL=c},6901:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoSkippableBL=void 0;var o=i(7360),a=i(7749),s=i(6751),d=i(712),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==d.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.skippableData]=this.handleSkippableData.bind(this),t},e.prototype.handleSkippableData=function(t){var e=t.adCandidate,i=t.relevantData;i.adSkippable&&(e.adSkippableMs=i.updateTime)},e}(s.BaseAdBL);e.VideoSkippableBL=p},5784:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoStoppedBL=void 0;var o=i(7360),a=i(6163),s=i(712),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.stopData},e.prototype.update=function(t,e){var i=s.BlResponse.NotUpdated;return t.wasAdStopped=!0,i},e}(a.BaseInteractionBL);e.VideoStoppedBL=d},223:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.VolumeBL=void 0;var o=i(7360),a=i(7749),s=i(6751),d=i(712),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==d.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleVolumeData.bind(this),t},e.prototype.handleVolumeData=function(t){var e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&this.trySetVolumeValues(e,i)},e.prototype.trySetVolumeValues=function(t,e){var i=e.volume;null!=i&&-1!=i&&(t.timeMsUntilVolumeMeasured||(t.timeMsUntilVolumeMeasured=e.updateTime),i<0?t.maxVolumeLessThanZero=i:i?t.maxVolumeGreaterThanZero=(t.maxVolumeGreaterThanZero||0)+1:t.maxVolumeEqualToZero=(t.maxVolumeEqualToZero||0)+1,0==(i=Math.max(Math.min(Math.ceil(100*i),100),0))&&null==t.lastTimeMsVolumeMute&&(t.lastTimeMsVolumeMute=e.updateTime),t.minVideoVolume=null==t.minVideoVolume||t.minVideoVolume>i?i:t.minVideoVolume,t.maxVideoVolume=null==t.maxVideoVolume||t.maxVideoVolume<i?i:t.maxVideoVolume)},e}(s.BaseAdBL);e.VolumeBL=p},710:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.EngagementCompatibilityIndicator=void 0;var o=i(7658),a=i(6751),s=i(7749),d=i(7360),p=i(194),c=i(712),u=i(1063),l=i(749),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getActionName=function(){return"EngagementCompatibilityIndicator"},e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[d.DvEvent.impressionServed]=this.start.bind(this),t},e.prototype.start=function(){var t,e=!(s.DvTagDataObject.getTagType()==c.DvTagType.Video&&!p.DvObject.isMobileApp()&&!u.VpaidWrapper.getDvVpaid()),i=((t={})[o.EngagementDataMapping.engagementMeasurementStatus]=1,t[o.EngagementDataMapping.isEngagementEligible]=e?1:0,t);this.report(i)},e.prototype.report=function(t){l.MessageHandler.sendMessage(t)},e}(a.BaseAdBL);e.EngagementCompatibilityIndicator=f},3656:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ExposureBL=void 0;var o=i(7360),a=i(1800),s=i(6751),d=i(3380),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.focusData]=this.collectFocusData.bind(this),t[o.DvEvent.strictFocusData]=this.collectStrictFocusData.bind(this),t[o.DvEvent.viewabilityIntervalData]=this.collectViewabilityData.bind(this),t[o.DvEvent.boundariesViewabilityIntervalData]=this.collectBoundariesViewabilityData.bind(this),t[o.DvEvent.adImpressionData]=this.collectAdIsPlayingData.bind(this,!0),t[o.DvEvent.adVideoStartData]=this.collectAdIsPlayingData.bind(this,!0),t[o.DvEvent.pauseData]=this.collectAdIsPlayingData.bind(this,!1),t[o.DvEvent.resumeData]=this.collectAdIsPlayingData.bind(this,!0),t[o.DvEvent.abandonData]=this.collectAdIsPlayingData.bind(this,!1),t[o.DvEvent.skipData]=this.collectAdIsPlayingData.bind(this,!1),t[o.DvEvent.unloadData]=this.collectAdIsPlayingData.bind(this,!1),t[o.DvEvent.adVideoCompleteData]=this.collectAdIsPlayingData.bind(this,!1),t[o.DvEvent.volumeData]=this.collectAdVolumeData.bind(this),t[o.DvEvent.videoLoadedData]=this.collectAdVolumeData.bind(this),t},e.prototype.collectViewabilityData=function(t){var e=t.adCandidate,i=t.relevantData;e.lastExposureTimeEvent=e.lastExposureTimeEvent||i.updateTime;var r=Math.max(i.updateTime-e.lastExposureTimeEvent,100);e.viewabilityAdIsPlaying&&(e.adVideoTimeLine=e.adVideoTimeLine?e.adVideoTimeLine+r:r),d.Utilities.logIfNotAnInteger(i.percentage,e,"percentageDataValidation"),o.EventBus.dispatchEvent(o.DvEvent.exposureData,new a.AdCandidateEventData(e,{adSize:i.adGeometric,viewportSize:i.viewportSize,containerSize:i.containerSize,screenSize:i.screenSize,percentage:d.Utilities.isNumber(i.percentage)?Math.round(i.percentage):void 0,offScreenPercentage:i.offScreenPercentage,viewabilityCalculationType:i.viewabilityCalculationType,focus:e.viewabilityFocus,strictFocus:e.viewabilityStrictFocus&&e.viewabilityFocus,adIsPlaying:e.viewabilityAdIsPlaying,intervalDuration:r,adVideoTimeLine:e.adVideoTimeLine,volume:e.currentVideoVolume,boundariesViewability:e.boundariesViewability})),e.lastExposureTimeEvent=i.updateTime},e.prototype.collectBoundariesViewabilityData=function(t){var e=t.adCandidate,i=t.relevantData;e.boundariesViewability=i.boundariesViewability},e.prototype.collectFocusData=function(t){var e=t.adCandidate,i=t.relevantData;e.viewabilityFocus=i.focus},e.prototype.collectStrictFocusData=function(t){var e=t.adCandidate,i=t.relevantData;e.viewabilityStrictFocus=i.focus},e.prototype.collectAdIsPlayingData=function(t,e){e.adCandidate.viewabilityAdIsPlaying=t,this.collectAdVolumeData(e)},e.prototype.collectAdVolumeData=function(t){var e=t.adCandidate,i=t.relevantData;d.Utilities.isNullOrEmpty(i.volume)||(e.currentVideoVolume=i.volume)},e}(s.BaseAdBL);e.ExposureBL=p},6265:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ExposureCompatibilityIndicator=void 0;var o=i(7658),a=i(6689),s=i(6681),d=i(712),p=i(6751),c=i(7749),u=i(194),l=i(7360),f=i(1063),v=i(749),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getActionName=function(){return"ExposureCompatibilityIndicator"},e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[l.DvEvent.impressionServed]=this.start.bind(this),t},e.prototype.start=function(){var t,e=u.DvObject.getDetectedDeliveryType(),i=d.ViewabilityIntegrationType.Unknown;if(null==e||u.DvObject.isCTV());else if(c.DvTagDataObject.isTagTypeValid())if(u.DvObject.isMobileApp())i=a.OmidWrapper.isSupported()?d.ViewabilityIntegrationType.Omid:s.MraidWrapper.isSupported()?d.ViewabilityIntegrationType.Mraid:d.ViewabilityIntegrationType.Unknown;else if(c.DvTagDataObject.getTagType()==d.DvTagType.Video){var r=f.VpaidWrapper.getDvVpaid();r&&r.viewabilityIntegrationType&&(i=r.viewabilityIntegrationType)}else i=d.ViewabilityIntegrationType.Html5;else;var n=((t={})[o.ExposureDataMapping.viewabilityIntegrationType]=i,t);this.report(n)},e.prototype.report=function(t){v.MessageHandler.sendMessage(t)},e}(p.BaseAdBL);e.ExposureCompatibilityIndicator=h},8635:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.JsCallbackBL=void 0;var o=i(7360),a=i(194),s=i(6751),d=i(7749),p=i(712),c=i(1063),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getActionName=function(){return"JsCallbackBL"},e.prototype.init=function(){this.dvvid=c.VpaidWrapper.getDvVpaid()},e.prototype.isSupported=function(){return this.adID=d.DvTagDataObject.getAdID(),d.DvTagDataObject.getTagType()==p.DvTagType.Video&&!!this.adID},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.impressionServed]=this.impressionServed.bind(this),t},e.prototype.impressionServed=function(){if(a.DvObject.getAllowJsCallback()&&this.dvvid){var t=this.dvvid.asset;return t&&t.executeDVClientCallback?(this.executeDVClientCallback=t.executeDVClientCallback,void o.EventBus.addEventListener(o.DvEvent.rtsEventData,this.handleRTSData.bind(this))):void 0}},e.prototype.handleRTSData=function(t){var e=t.relevantData;this.executeDVClientCallback&&e.eventName&&this.executeDVClientCallback(e.eventName)},e}(s.BaseAdBL);e.JsCallbackBL=u},5500:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.MobileOrientationBL=void 0;var o=i(6751),a=i(7360),s=i(194),d=i(712),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getActionName=function(){return"MobileOrientationBL"},e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.impressionServed]=this.impressionServed.bind(this),t},e.prototype.impressionServed=function(){s.DvObject.isMobile()&&a.EventBus.addEventListener(a.DvEvent.exposureData,this.handleViewabilityData.bind(this))},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,i=t.relevantData;i.viewportSize&&i.viewportSize.height&&i.viewportSize.width?this.setOrientationData(e,i):e.initialOrientationType=e.initialOrientationType||d.OrientationType.Unknown},e.prototype.setOrientationData=function(t,e){var i=d.OrientationType.Unknown;e.viewportSize.width>e.viewportSize.height?(i=d.OrientationType.Landscape,t.accumulativeTimeOrientationLandscape=t.accumulativeTimeOrientationLandscape?t.accumulativeTimeOrientationLandscape+e.intervalDuration:e.intervalDuration):(i=d.OrientationType.Portrait,t.accumulativeTimeOrientationPortrait=t.accumulativeTimeOrientationPortrait?t.accumulativeTimeOrientationPortrait+e.intervalDuration:e.intervalDuration),t.initialOrientationType||(t.initialOrientationType=i)},e}(o.BaseAdBL);e.MobileOrientationBL=p},1074:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.NormalizedAdSizeBL=void 0;var o=i(6751),a=i(7360),s=i(1800),d=i(7749),p=i(712),c=i(3971),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.adSizeChangedData]=this.handleAdSizeChangedData.bind(this),t},e.prototype.handleAdSizeChangedData=function(t){var e=t.adCandidate;if(e.adWidth&&e.adHeight){var i={width:e.adWidth,height:e.adHeight},r=c.StandardSizes.getNearestAdSize(i,d.DvTagDataObject.getTagType(),d.DvTagDataObject.getTagType()==p.DvTagType.Video?p.StandardSizeThreshold.videoThreshold:p.StandardSizeThreshold.displayThreshold);r&&(e.normalizedAdWidth=r.width,e.normalizedAdHeight=r.height,a.EventBus.dispatchEvent(a.DvEvent.reportData,new s.AdCandidateEventData(e)))}},e}(o.BaseAdBL);e.NormalizedAdSizeBL=u},7359:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.OmidLogger=void 0;var o=i(7360),a=i(6751),s=i(6689),d=i(8379),p=i(3380),c=i(194),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return s.OmidWrapper.isSupported()},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.adCandidateApproved]=this.adCandidateApproved.bind(this),t},e.prototype.adCandidateApproved=function(t){var e=this;s.OmidWrapper.registerSessionObserver(this.logOmidSessionEvent.bind(this,t)),Object.keys(d.OmidEvents).forEach((function(i){return s.OmidWrapper.addEventListener(i,e.logOmidEvent.bind(e,i,t))}))},e.prototype.logOmidEvent=function(t,e,i){var r,n=p.Utilities.getTimeDiff(),o=e.adCandidate;switch(t){case"impression":o.omidTimeMsUntilImpression=n;break;case"start":o.omidTimeMsUntilStartVideo=n;break;case"complete":o.omidTimeMsUntilEndVideo=n;break;case"geometryChange":var a=null===(r=null==i?void 0:i.data)||void 0===r?void 0:r.adView,s=null==a?void 0:a.containerGeometry,c=null==a?void 0:a.measuringElement;if(s){var u=s.height,l=s.width;o.omidContainerGeometryHeight=u,o.omidContainerGeometryWidth=l}c&&(o.omidMeasuringElement=c?1:0)}(o.omidEvents&d.OmidEvents[t])!=d.OmidEvents[t]&&(o.omidEvents|=d.OmidEvents[t],this.reportData(e))},e.prototype.logOmidSessionEvent=function(t,e){if(e&&e.type){if("sessionStart"===e.type)c.DvObject.getDvObject().omidSessionStartTime&&(t.adCandidate.omidTimeMsUntilStartSession=p.Utilities.getTimeDiffNoAbs(c.DvObject.getDvObject().omidSessionStartTime));(t.adCandidate.omidEvents&d.OmidEvents[e.type])!=d.OmidEvents[e.type]&&(t.adCandidate.omidEvents|=d.OmidEvents[e.type],this.reportData(t))}},e.prototype.reportData=function(t){o.EventBus.dispatchEvent(o.DvEvent.reportData,t)},e}(a.BaseAdBL);e.OmidLogger=u},2968:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceMetricsBL=void 0;var o=i(6751),a=i(7360),s=i(3380),d=i(3868),p=i(749),c=i(194),u=i(7658),l=i(712),f={tag:{loading:l.ScriptExecIndicator.TagPageLoading,interactive:l.ScriptExecIndicator.TagPageInteractive,complete:l.ScriptExecIndicator.TagPageLoaded},measurement:{loading:l.ScriptExecIndicator.MeasurementPageLoading,interactive:l.ScriptExecIndicator.MeasurementPageInteractive,complete:l.ScriptExecIndicator.MeasurementPageLoaded},visit:{loading:l.ScriptExecIndicator.VisitPageLoading,interactive:l.ScriptExecIndicator.VisitPageInteractive,complete:l.ScriptExecIndicator.VisitPageLoaded}},v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getScriptExecIndicator=function(t,e){e||(e=d.WindowAdaptor.currentDocument().readyState);return(f[t]||{})[e]||{}||0},e.prototype.init=function(){this.measurementScriptExecIndicator=this.getScriptExecIndicator("measurement")},e.prototype.isSupported=function(){return!d.WindowAdaptor.isDomlessEnvironment()},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.impressionServed]=this.onImpressionServed.bind(this),t},e.prototype.getScriptDuration=function(t,e){var i;return d.WindowAdaptor.monitorScriptsPerformance(e,((i={})[t]=["duration"],i))[t+"_duration"]||0},e.prototype.reportTagLoadTimeMs=function(){var t,e=this.getScriptDuration("dvtp_src",d.WindowAdaptor.workingWindow());return(t={})[u.PerformanceMetricsDataMapping.tagLoadTimeMs]=e,t},e.prototype.reportTagExecTimeMs=function(){var t,e=c.DvObject.getTagExecTimeMs();return(t={})[u.PerformanceMetricsDataMapping.tagExecTimeMs]=e,t},e.prototype.getActionName=function(){return"PerformanceMetricsBL"},e.prototype.reportMeasurementScriptLoadTimeMs=function(){var t,e=this.getScriptDuration("dv-measurements",d.WindowAdaptor.currentWindow());return(t={})[u.PerformanceMetricsDataMapping.measurementScriptLoadTimeMs]=e,t},e.prototype.reportVisitLoadTimeMs=function(){var t,e=this.getScriptDuration("visit",d.WindowAdaptor.currentWindow());return(t={})[u.PerformanceMetricsDataMapping.visitLoadTimeMs]=e,t},e.prototype.reportVisitExecTimeMs=function(){var t,e=this.getScriptDuration("visit",d.WindowAdaptor.currentWindow()),i=s.Utilities.getCurrentTime()-c.DvObject.getVisitInjectedMS()-e;return(t={})[u.PerformanceMetricsDataMapping.visitExecTimeMs]=i,t},e.prototype.reportScriptExecIndicator=function(){var t,e=this.getScriptExecIndicator("visit",c.DvObject.getVisitReadyState()),i=this.getScriptExecIndicator("tag",c.DvObject.getTagReadyState())|this.measurementScriptExecIndicator|e;return(t={})[u.PerformanceMetricsDataMapping.scriptExecIndicator]=i,t},e.prototype.onImpressionServed=function(){var t=this.reportTagLoadTimeMs();s.Utilities.extend(this.reportTagExecTimeMs(),t),s.Utilities.extend(this.reportMeasurementScriptLoadTimeMs(),t),s.Utilities.extend(this.reportVisitLoadTimeMs(),t),s.Utilities.extend(this.reportScriptExecIndicator(),t),s.Utilities.extend(this.reportVisitExecTimeMs(),t),p.MessageHandler.sendMessage(t)},e}(o.BaseAdBL);e.PerformanceMetricsBL=v},9401:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ReportAdManagerRTS=void 0;var a=i(7360),s=i(194),d=i(712),p=i(6751),c=i(1800),u=i(3380),l=i(7658),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.reportData]=this.report.bind(this),t[a.DvEvent.adSelected]=this.report.bind(this),t},e.prototype.report=function(t){var e=t.adCandidate,i=t.relevantData,r=!i.reportType||i.reportType==d.ReportType.All||i.reportType==d.ReportType.RTS;if(e.state==d.AdCandidateState.Selected&&r){var n=u.Utilities.mapData(e,l.RTSDataMapping,!0),o=Object.keys(n);o.length&&this.sendRtsEvents(o,e)}},e.prototype.sendRtsEvents=function(t,e){var i,r;try{for(var n=o(t),d=n.next();!d.done;d=n.next()){var p=d.value;s.DvObject.publishPubSubEvent(p),a.EventBus.dispatchEvent(a.DvEvent.rtsEventData,new c.AdCandidateEventData(e,{eventName:p}))}}catch(t){i={error:t}}finally{try{d&&!d.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}},e}(p.BaseAdBL);e.ReportAdManagerRTS=f},3831:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ReportAdManagerTPS=void 0;var o=i(7360),a=i(7658),s=i(712),d=i(6751),p=i(3380),c=i(749),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cachedAdDataToReport={},e}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.reportData]=this.report.bind(this),t[o.DvEvent.adSelected]=this.report.bind(this),t},e.prototype.report=function(t){var e=t.adCandidate,i=t.relevantData,r=!i.reportType||i.reportType==s.ReportType.All||i.reportType==s.ReportType.TPS;if(e.state==s.AdCandidateState.Selected&&r){var n=p.Utilities.mapData(e,a.AdDataMappingToReport,!1);p.Utilities.removeDuplicateValues(n,this.cachedAdDataToReport),p.Utilities.extend(n,this.cachedAdDataToReport);var o=t.relevantData,d=o.isImportantMessage,u=o.noConsolidation;if(!p.Utilities.isEmpty(n)){var l={isImportantMessage:d,noConsolidation:u};c.MessageHandler.sendMessage(n,l)}}},e}(d.BaseAdBL);e.ReportAdManagerTPS=u},3500:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareOfScreenResearchBL=void 0;var a=i(7360),s=i(425),d=i(7127),p=i(712),c=i(3868),u=i(194),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t},e.prototype.isSupported=function(){return!0},e.prototype.handleViewabilityData=function(t){var e,i,r=t.adCandidate,n=t.relevantData,a=c.WindowAdaptor.workingDocument(c.WindowAdaptor.windowTop()||null),d=!1,l=n.screenSize,f=r.ShareOfScreenLastScreenSize||l,v=r.screenSizeChanged,h=n.adSize,y=r.shareOfScreenLastAdSize||h,m=r.adSizeChanged,g=s.BrowserAdaptor.getDevicePixelRatio(),w=r.devicePixelRatioReported,b=r.shareOfScreenLastDevicePixelRatio||g,S=r.devicePixelRatioChanged;if(u.DvObject.getDetectedDeliveryType()===p.DetectedDeliveryType.MobileWeb&&((c.WindowAdaptor.getScenarioType()&p.Scenario.SameDomain)===p.Scenario.SameDomain||(c.WindowAdaptor.getScenarioType()&p.Scenario.OnPage)===p.Scenario.OnPage)){var D=n.viewportSize;if(D&&D.width>0&&D.height>0){var _=this.getMinAndMaxViewport(r,D),E=_.minVpHeight,A=_.minVpWidth,T=_.maxVpHeight,O=_.maxVpWidth;this.isViewportChanged(r,E,A,T,O)&&(d=!0,r.minViewportHeight=E,r.minViewportWidth=A,r.maxViewportHeight=T,r.maxViewportWidth=O)}}if(!v&&this.validateScreenSize(l)&&(r.screenSizeChanged=f.height!==l.height||f.width!==l.width?1:void 0,r.ShareOfScreenLastScreenSize=l,r.screenSizeChanged&&(d=!0)),!m&&this.validateAdSize(h)&&(r.adSizeChanged=y.height!=h.height||y.width!=h.width?1:void 0,r.shareOfScreenLastAdSize=h,r.adSizeChanged&&(d=!0)),!S&&g&&(r.devicePixelRatioChanged=b!==g?1:void 0,r.shareOfScreenLastDevicePixelRatio=g,r.devicePixelRatioChanged&&(d=!0)),w||(d=!0,r.devicePixelRatioReported=!0),a&&!this.isMetaReported(r)){var C=s.BrowserAdaptor.getMetaTagAttributes(a,"viewport");try{for(var V=o(Object.keys(C)),M=V.next();!M.done;M=V.next()){var P=M.value,I=C[P];switch(P.trim()){case"width":r.viewPortMetaTagWidth=I;break;case"height":r.viewPortMetaTagHeight=I;break;case"initial-scale":r.viewPortMetaTagInitialScale=I;break;case"user-scalable":r.viewPortMetaTagScalable="yes"===I?1:0}}}catch(t){e={error:t}}finally{try{M&&!M.done&&(i=V.return)&&i.call(V)}finally{if(e)throw e.error}}d=this.isMetaReported(r)}d&&this.report(r)},e.prototype.isViewportChanged=function(t,e,i,r,n){return t.minViewportHeight!=e||t.minViewportWidth!=i||t.maxViewportHeight!=r||t.maxViewportWidth!=n},e.prototype.getMinAndMaxViewport=function(t,e){return{minVpHeight:Math.min(t.minViewportHeight||e.height,e.height),minVpWidth:Math.min(t.minViewportWidth||e.width,e.width),maxVpHeight:Math.max(t.maxViewportHeight||e.height,e.height),maxVpWidth:Math.max(t.maxViewportWidth||e.width,e.width)}},e.prototype.isMetaReported=function(t){return!!(t.viewPortMetaTagWidth||t.viewPortMetaTagHeight||t.viewPortMetaTagInitialScale||t.viewPortMetaTagScalable)},e.prototype.validateScreenSize=function(t){return!!(t&&t.width&&t.height)},e.prototype.validateAdSize=function(t){return!!(t&&t.width&&t.height)},e.prototype.getTrafficPercentage=function(){return 100},e.prototype.getSupportedDetectedDeliveryType=function(){return[p.DetectedDeliveryType.MobileApp,p.DetectedDeliveryType.MobileWeb,p.DetectedDeliveryType.Desktop]},e.prototype.getActionName=function(){return"ShareOfScreen"},e}(d.BaseAdDataLoggerBL);e.ShareOfScreenResearchBL=l},3719:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseViewabilityBL=void 0;var o=i(7360),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getActionName=function(){return"BaseViewabilityBL"},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.impressionServed]=this.impressionServed.bind(this),t},e.prototype.impressionServed=function(){this.shouldRegisterToExposureEvents()&&o.EventBus.addEventListener(o.DvEvent.exposureData,this.handleViewabilityData.bind(this))},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,i=t.relevantData;if(this.needToCheckViewability(e,i)){this.reportViewabilityMeasured(e,i);var r=this.isViewabilityConditionPassed(i);this.shouldReportViewability(r,i.intervalDuration,e,i)&&this.reportViewabilityPassed(e,i.updateTime)}},e}(i(6751).BaseAdBL);e.BaseViewabilityBL=a},4771:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.BucketsDisplayViewabilityBL=void 0;var o=i(7749),a=i(7360),s=i(6751),d=i(712),p=i(3380),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==d.DvTagType.Display},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,i=t.relevantData,r=i.intervalDuration,n=this.getBucketNumber(i.percentage,i.focus),o="b"+n;null!=n?(e[o]=e[o]||0,e[o]+=r,e.viewabilityDisplayBucketsUnloadTime=i.updateTime):(e.napt=e.napt||0,e.napt+=r)},e.prototype.getBucketNumber=function(t,e){return p.Utilities.isNullOrEmpty(t)?null:0!=t&&e?Math.floor(t/10)+1:0},e}(s.BaseAdBL);e.BucketsDisplayViewabilityBL=c},8877:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.BucketsVideoViewabilityBL=void 0;var o=i(7749),a=i(7360),s=i(1800),d=i(6751),p=i(712),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t[a.DvEvent.adVideoFirstQuartileData]=this.handleQuartileData.bind(this,p.Quartile.Q1),t[a.DvEvent.adVideoMidpointData]=this.handleQuartileData.bind(this,p.Quartile.Q2),t[a.DvEvent.adVideoThirdQuartileData]=this.handleQuartileData.bind(this,p.Quartile.Q3),t[a.DvEvent.adVideoCompleteData]=this.handleLastQuartileData.bind(this),t},e.prototype.handleLastQuartileData=function(t){var e=this.updateQuartileTimestamp(t);a.EventBus.dispatchEvent(a.DvEvent.reportData,new s.AdCandidateEventData(e))},e.prototype.handleQuartileData=function(t,e){var i=this.updateQuartileTimestamp(e);a.EventBus.dispatchEvent(a.DvEvent.reportData,new s.AdCandidateEventData(i)),i.videoBucketsQuartileId=t+1},e.prototype.updateQuartileTimestamp=function(t){var e=t.relevantData,i=t.adCandidate;return i["isq"+i.videoBucketsQuartileId+"ms"]=e.updateTime,i.markAdQuartile(p.ExposureQuartileBitwise.Completed,i.videoBucketsQuartileId),i},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,i=t.relevantData;if(i.adIsPlaying){var r=i.intervalDuration,n=this.getBucketNumber(i.percentage,i.focus);if(null!=n){var o="q"+e.videoBucketsQuartileId+"b"+n;e[o]=e[o]?e[o]+r:r}else{var a="q"+e.videoBucketsQuartileId+"napt";e[a]=e[a]?e[a]+r:r}}},e.prototype.getBucketNumber=function(t,e){return null==t?null:0!=t&&e?Math.floor(t/25)+1:0},e}(d.BaseAdBL);e.BucketsVideoViewabilityBL=c},1391:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomAdvertiserViewabilityStandardBL=void 0;var o=i(7360),a=i(194),s=i(3719),d=i(1800),p=i(3380),c=i(8379),u=i(7749),l=i(712),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.shouldRegisterToExposureEvents=function(){var t=c.ViewabilityConstants.CustomAdvertiserViewabilityStandard,e=t.DisplayMinimalLargeAdArea,i=t.VideoMinimalLargeAdArea;return this.minimalLargeAdArea=u.DvTagDataObject.getTagType()==l.DvTagType.Display?e:i,this.customAdvertiserViewabilitySettings=a.DvObject.getCustomAdvertiserViewabilitySettings(),!!this.customAdvertiserViewabilitySettings},e.prototype.getConditions=function(t){var e=this.customAdvertiserViewabilitySettings.conditions;return t?e.largeAd:e.regularAd},e.prototype.isViewabilityConditionPassed=function(t){var e=p.Utilities.isLargeAd(t.adSize,this.minimalLargeAdArea),i=this.conditions=this.getConditions(e),r=i.onFocus,n=i.adPercentage,o=t.focus,a=t.percentage;return(!0!==r||o)&&(null==n||a>=n)},e.prototype.needToCheckViewability=function(t,e){return(u.DvTagDataObject.getTagType()==l.DvTagType.Display||e.adIsPlaying)&&null==t.customAdvertiserStandardTimeMsUntilAdViewed},e.prototype.shouldReportViewability=function(t,e,i,r){var n=this.conditions,o=n.isConsecutive,a=n.durationCap,s=n.durationPercentage;if(null==a&&null==s)return t;var d=i.videoLength,p=i.customAdvertiserStandardViewedTime;i.customAdvertiserStandardViewedTime=t?p+r.intervalDuration:o?0:p;var c=a,u=null!=d&&null!=s?d*(s/100):null,l=null!=c&&i.customAdvertiserStandardViewedTime>=c,f=null!=u&&i.customAdvertiserStandardViewedTime>=u;return l||f},e.prototype.reportViewabilityMeasured=function(t,e){null==t.customAdvertiserStandardType&&(t.customAdvertiserStandardType=this.customAdvertiserViewabilitySettings.standardType,o.EventBus.dispatchEvent(o.DvEvent.reportData,new d.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.customAdvertiserStandardTimeMsUntilAdViewed=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new d.AdCandidateEventData(t))},e}(s.BaseViewabilityBL);e.CustomAdvertiserViewabilityStandardBL=f},6490:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomDisplayViewabilityBL=void 0;var o=i(7360),a=i(7749),s=i(194),d=i(3719),p=i(1800),c=i(712),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==c.DvTagType.Display},e.prototype.shouldRegisterToExposureEvents=function(){return this.customViewabilityConditions=s.DvObject.getDisplayCustomViewabilityConditions(),!!this.customViewabilityConditions},e.prototype.isViewabilityConditionPassed=function(t){return!!t.focus&&t.percentage>=this.customViewabilityConditions.minimalAdAreaPercentage},e.prototype.needToCheckViewability=function(t,e){return null==t.customTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,i,r){return i.customViewedTime=t?i.customViewedTime+=r.intervalDuration:this.customViewabilityConditions.consecutiveMode?0:i.customViewedTime,i.customViewedTime>=this.customViewabilityConditions.minimalAdDuration},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){t.customTimeMsUntilAdViewed=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new p.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.CustomDisplayViewabilityBL=u},5409:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomStandardDisplayViewabilityBL=void 0;var o=i(7749),a=i(7360),s=i(3719),d=i(194),p=i(1800),c=i(712),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==c.DvTagType.Display},e.prototype.shouldRegisterToExposureEvents=function(){return this.customViewabilityConditions=d.DvObject.getDisplayCustomStandardViewabilityConditions(),!!this.customViewabilityConditions},e.prototype.isViewabilityConditionPassed=function(t){return!!t.focus&&(!(t.adSize&&t.adSize.width*t.adSize.height<this.customViewabilityConditions.minimalAdSize)&&t.percentage>=this.customViewabilityConditions.minimalAdAreaPercentage)},e.prototype.needToCheckViewability=function(t,e){return null==t.customStandardTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,i){if(t){if(i.customStandardViewedTime+=e,i.customStandardViewedTime>=this.customViewabilityConditions.minimalAdDuration)return!0}else this.customViewabilityConditions.consecutiveMode&&(i.customStandardViewedTime=0);return!1},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){t.customStandardTimeMsUntilAdViewed=e,a.EventBus.dispatchEvent(a.DvEvent.reportData,new p.AdCandidateEventData(t))},e}(s.BaseViewabilityBL);e.CustomStandardDisplayViewabilityBL=u},4241:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomStandardVideoViewabilityBL=void 0;var o=i(3719),a=i(7749),s=i(194),d=i(7360),p=i(712),c=i(1800),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return this.customViewabilityConditions=s.DvObject.getVideoCustomStandardViewabilityConditions(),!!this.customViewabilityConditions},e.prototype.isViewabilityConditionPassed=function(t){return!!t.focus&&(!(t.adSize&&t.adSize.width*t.adSize.height<this.customViewabilityConditions.minimalAdSize)&&((!this.customViewabilityConditions.requireVolume||0!=t.volume)&&t.percentage>=this.customViewabilityConditions.minimalAdAreaPercentage))},e.prototype.needToCheckViewability=function(t,e){return e.adIsPlaying&&null==t.customStandardTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,i){if(t){if(i.customStandardViewedTime+=e,this.customViewabilityConditions.minimalAdDurationPercent){if(i.videoLength&&i.customStandardViewedTime/i.videoLength*100>=this.customViewabilityConditions.minimalAdDurationPercent)return!0}else if(i.customStandardViewedTime>=this.customViewabilityConditions.minimalAdDuration)return!0}else this.customViewabilityConditions.consecutiveMode&&(i.customStandardViewedTime=0);return!1},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){t.customStandardTimeMsUntilAdViewed=e,d.EventBus.dispatchEvent(d.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(o.BaseViewabilityBL);e.CustomStandardVideoViewabilityBL=u},7642:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomVideoViewabilityBL=void 0;var o=i(7360),a=i(7749),s=i(194),d=i(3719),p=i(712),c=i(1800),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return this.customViewabilityConditions=s.DvObject.getVideoCustomViewabilityConditions(),!!this.customViewabilityConditions},e.prototype.isViewabilityConditionPassed=function(t){return!(null==t.percentage||!t.focus)&&((!this.customViewabilityConditions.requireVolume||0!=t.volume)&&t.percentage>=this.customViewabilityConditions.minimalAdAreaPercentage)},e.prototype.needToCheckViewability=function(t,e){return null==t.customTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying},e.prototype.shouldReportViewability=function(t,e,i,r){return i.customViewedTime=t?i.customViewedTime+=r.intervalDuration:this.customViewabilityConditions.consecutiveMode?0:i.customViewedTime,i.customViewedTime>=this.customViewabilityConditions.minimalAdDuration},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){t.customTimeMsUntilAdViewed=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.CustomVideoViewabilityBL=u},7938:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.EndQuartileViewabilityBL=void 0;var o=i(7360),a=i(7749),s=i(1800),d=i(6751),p=i(712),c=i(3380),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t[o.DvEvent.adVideoFirstQuartileData]=this.handleQuartileData.bind(this,1),t[o.DvEvent.adVideoMidpointData]=this.handleQuartileData.bind(this,2),t[o.DvEvent.adVideoThirdQuartileData]=this.handleQuartileData.bind(this,3),t[o.DvEvent.adVideoCompleteData]=this.handleVideoCompleteData.bind(this),t},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&null!=i.percentage&&(e.endQuartileCurrentViewability=i.focus?i.percentage:0,e.endQuartileCurrentVolume=i.volume,i.adSize&&(e.adQuartileWidth=i.adSize.width))},e.prototype.handleQuartileData=function(t,e){var i=e.adCandidate;i["q"+t+"vpend"]=i.endQuartileCurrentViewability,i["q"+t+"ps"]=this.getPlayerSize(i.adQuartileWidth),c.Utilities.logIfNotAnInteger(i.endQuartileCurrentViewability,i,"q"+t+"vpendDataValidation"),o.EventBus.dispatchEvent(o.DvEvent.reportData,new s.AdCandidateEventData(i))},e.prototype.getPlayerSize=function(t){var e=p.PlayerSize.Unknown;return t>0&&t<=300?e=p.PlayerSize.PlayerSizeLowerThan300x250:t>300&&t<=399?e=p.PlayerSize.PlayerSizeBetween301x251To399x299:t>399&&t<=639?e=p.PlayerSize.PlayerSizeBetween400x300To639x479:t>639&&(e=p.PlayerSize.PlayerSizeGreaterThan640x480),e},e.prototype.handleVideoCompleteData=function(t){var e=t.relevantData,i=t.adCandidate;i.endQuartileCurrentViewability>=50&&0!=i.endQuartileCurrentVolume&&(i.timeMsUntilAdAudibleAndViewableOnCompletionMs=e.updateTime),this.handleQuartileData(4,t)},e}(d.BaseAdBL);e.EndQuartileViewabilityBL=u},4892:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.FocusBucketsBL=void 0;var o=i(7360),a=i(7749),s=i(6751),d=i(712),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,i=t.relevantData;(a.DvTagDataObject.getTagType()!=d.DvTagType.Video||i.adIsPlaying)&&(i.focus?e.looseFocusTrueBucket=e.looseFocusTrueBucket?e.looseFocusTrueBucket+i.intervalDuration:i.intervalDuration:null!=i.focus&&(e.looseFocusFalseBucket=e.looseFocusFalseBucket?e.looseFocusFalseBucket+i.intervalDuration:i.intervalDuration),i.strictFocus?e.strictFocusTrueBucket=e.strictFocusTrueBucket?e.strictFocusTrueBucket+i.intervalDuration:i.intervalDuration:null!=i.strictFocus&&(e.strictFocusFalseBucket=e.strictFocusFalseBucket?e.strictFocusFalseBucket+i.intervalDuration:i.intervalDuration))},e}(s.BaseAdBL);e.FocusBucketsBL=p},7912:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMDisplayViewabilityBL=void 0;var o=i(7749),a=i(7360),s=i(194),d=i(3719),p=i(712),c=i(1800),u=i(3380),l=i(8379),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==p.DvTagType.Display},e.prototype.shouldRegisterToExposureEvents=function(){return!s.DvObject.isSIVTImpression()},e.prototype.isViewabilityConditionPassed=function(t){return!(null==t.percentage||!t.focus)&&(!!u.Utilities.isLargeAd(t.adSize,l.ViewabilityConstants.GroupM.DisplayMinimalLargeAdArea)||t.percentage>=l.ViewabilityConstants.GroupM.MinimalAdAreaPercentageForStandardSize)},e.prototype.needToCheckViewability=function(t,e){return null==t.groupMTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,i,r){return t},e.prototype.reportViewabilityMeasured=function(t,e){t.groupMTimeMsUntilAdMeasured||(t.groupMTimeMsUntilAdMeasured=e.updateTime,a.EventBus.dispatchEvent(a.DvEvent.reportData,new c.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.groupMTimeMsUntilAdViewed=e,t.groupMV3TimeMsUntilAdViewed=e,t.groupMTimeMsUntilAdMeasured++,a.EventBus.dispatchEvent(a.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.GroupMDisplayViewabilityBL=f},4691:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4MobileDisplayViewabilityBL=void 0;var o=i(7749),a=i(7360),s=i(194),d=i(3719),p=i(712),c=i(1800),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){this.minimalAdAreaPercentage=0,this.minimalAdAreaPercentageWhenAdAreaLowerThanViewport=98,this.minimalDuration=1e3},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==p.DvTagType.Display},e.prototype.shouldRegisterToExposureEvents=function(){return!s.DvObject.isSIVTImpression()&&s.DvObject.isMobileWeb()},e.prototype.isViewabilityConditionPassed=function(t){return t.percentage>this.minimalAdAreaPercentage},e.prototype.needToCheckViewability=function(t,e){return null==t.groupMV4DisplayTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,i,r){return i.groupMV4DisplayViewedTime=t?i.groupMV4DisplayViewedTime+r.intervalDuration:0,i.groupMV4TimeCriteriaPassed=i.groupMV4TimeCriteriaPassed||i.groupMV4DisplayViewedTime>=this.minimalDuration,i.isAllBoundariesPassed=i.isAllBoundariesPassed||this.isAllBoundariesPassed(i,r),i.groupMV4TimeCriteriaPassed&&i.isAllBoundariesPassed},e.prototype.reportViewabilityMeasured=function(t,e){t.groupMV4TimeMsUntilAdMeasured||this.isAdSizeLargerThanViewPortSize(e)&&!e.boundariesViewability||(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,a.EventBus.dispatchEvent(a.DvEvent.reportData,new c.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.groupMV4DisplayTimeMsUntilAdViewed=t.groupMV4TimeMsUntilAdViewed=e,t.groupMV4TimeMsUntilAdMeasured++,a.EventBus.dispatchEvent(a.DvEvent.reportData,new c.AdCandidateEventData(t))},e.prototype.getArea=function(t){if(t&&t.width&&t.height)return t.width*t.height},e.prototype.isAdSizeLargerThanViewPortSize=function(t){var e=this.getArea(t.adSize),i=this.getArea(t.viewportSize);return e&&i&&e>i},e.prototype.isAllBoundariesPassed=function(t,e){if(this.isAdSizeLargerThanViewPortSize(e)){if(e.boundariesViewability){var i=t.boundariesViewed;return i.topLeft=i.topLeft||e.boundariesViewability.topLeft,i.topRight=i.topRight||e.boundariesViewability.topRight,i.bottomLeft=i.bottomLeft||e.boundariesViewability.bottomLeft,i.bottomRight=i.bottomRight||e.boundariesViewability.bottomRight,i.topLeft&&i.topRight&&i.bottomLeft&&i.bottomRight}return!1}return e.percentage>this.minimalAdAreaPercentageWhenAdAreaLowerThanViewport},e}(d.BaseViewabilityBL);e.GroupMV4MobileDisplayViewabilityBL=u},6825:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4NonMobileDisplayViewabilityBL=void 0;var o=i(7749),a=i(7360),s=i(194),d=i(3719),p=i(712),c=i(1800),u=i(3380),l=i(8379),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==p.DvTagType.Display},e.prototype.shouldRegisterToExposureEvents=function(){return!s.DvObject.isSIVTImpression()&&!s.DvObject.isMobileWeb()},e.prototype.isViewabilityConditionPassed=function(t){var e=u.Utilities.isLargeAd(t.adSize,l.ViewabilityConstants.GroupMV4.DisplayMinimalLargeAdArea);return!(null==t.percentage||!t.focus)&&(!!(e&&t.percentage>=l.ViewabilityConstants.GroupMV4.DisplayMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=l.ViewabilityConstants.GroupMV4.MinimalAdAreaPercentageForStandardSize)},e.prototype.needToCheckViewability=function(t,e){return null==t.groupMV4DisplayTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,i,r){return i.groupMV4DisplayViewedTime=t?i.groupMV4DisplayViewedTime+r.intervalDuration:0,i.groupMV4DisplayViewedTime>=l.ViewabilityConstants.GroupMV4.DisplayMinimalDuration},e.prototype.reportViewabilityMeasured=function(t,e){t.groupMV4TimeMsUntilAdMeasured||(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,a.EventBus.dispatchEvent(a.DvEvent.reportData,new c.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4DisplayTimeMsUntilAdViewed=t.groupMV4TimeMsUntilAdViewed=e,a.EventBus.dispatchEvent(a.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.GroupMV4NonMobileDisplayViewabilityBL=f},7827:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4VideoNativeViewabilityBL=void 0;var o=i(7360),a=i(7749),s=i(194),d=i(3719),p=i(712),c=i(1800),u=i(3380),l=i(8379),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return!s.DvObject.isSIVTImpression()},e.prototype.isViewabilityConditionPassed=function(t){var e=!s.DvObject.isMobileApp()&&!s.DvObject.isMobileWeb()&&u.Utilities.isLargeAd(t.adSize,l.ViewabilityConstants.GroupMV4.VideoMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(!!(e&&t.percentage>=l.ViewabilityConstants.GroupMV4.VideoMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=l.ViewabilityConstants.GroupMV4.MinimalAdAreaPercentageForStandardSize)},e.prototype.needToCheckViewability=function(t,e){return null==t.groupMV4VideoNativeTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying},e.prototype.shouldReportViewability=function(t,e,i,r){i.groupMV4VideoNativeViewedTime=t?i.groupMV4VideoNativeViewedTime+r.intervalDuration:i.groupMV4VideoNativeViewedTime;var n=i.videoLength?Math.min(l.ViewabilityConstants.GroupMV4.VideoMinimalDuration,i.videoLength*(l.ViewabilityConstants.GroupMV4.VideoMinimalDurationPercentage/100)):l.ViewabilityConstants.GroupMV4.VideoMinimalDuration;return i.groupMV4VideoNativeViewedTime>=n},e.prototype.reportViewabilityMeasured=function(t,e){null==t.groupMV4TimeMsUntilAdMeasured&&(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4VideoNativeTimeMsUntilAdViewed=e,s.DvObject.isGroupMV4VideoNativeImpression()&&(t.groupMV4TimeMsUntilAdViewed=e),o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.GroupMV4VideoNativeViewabilityBL=f},9045:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4VideoReachExtensionViewabilityBL=void 0;var o=i(7360),a=i(7749),s=i(194),d=i(3719),p=i(712),c=i(1800),u=i(3380),l=i(8379),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return!s.DvObject.isSIVTImpression()},e.prototype.isViewabilityConditionPassed=function(t){var e=!s.DvObject.isMobileApp()&&!s.DvObject.isMobileWeb()&&u.Utilities.isLargeAd(t.adSize,l.ViewabilityConstants.GroupMV4.VideoMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(0!=t.volume&&(!!(e&&t.percentage>=l.ViewabilityConstants.GroupMV4.VideoMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=l.ViewabilityConstants.GroupMV4.MinimalAdAreaPercentageForStandardSize))},e.prototype.needToCheckViewability=function(t,e){return null==t.groupMV4VideoReachExtensionTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying},e.prototype.shouldReportViewability=function(t,e,i,r){i.groupMV4VideoReachExtensionViewedTime=t?i.groupMV4VideoReachExtensionViewedTime+r.intervalDuration:i.groupMV4VideoReachExtensionViewedTime;var n=i.videoLength?Math.min(l.ViewabilityConstants.GroupMV4.VideoMinimalDuration,i.videoLength*(l.ViewabilityConstants.GroupMV4.VideoMinimalDurationPercentage/100)):l.ViewabilityConstants.GroupMV4.VideoMinimalDuration;return i.groupMV4VideoReachExtensionViewedTime>=n},e.prototype.reportViewabilityMeasured=function(t,e){null==t.groupMV4TimeMsUntilAdMeasured&&(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4VideoReachExtensionTimeMsUntilAdViewed=e,s.DvObject.isGroupMV4VideoNativeImpression()||(t.groupMV4TimeMsUntilAdViewed=e),o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.GroupMV4VideoReachExtensionViewabilityBL=f},7175:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMVideoViewabilityBL=void 0;var o=i(7360),a=i(7749),s=i(194),d=i(3719),p=i(712),c=i(1800),u=i(8379),l=i(3380),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return!s.DvObject.isSIVTImpression()},e.prototype.isViewabilityConditionPassed=function(t){var e=l.Utilities.isLargeAd(t.adSize,u.ViewabilityConstants.GroupM.VideoMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(0!=t.volume&&(!!(e&&t.percentage>=u.ViewabilityConstants.GroupM.VideoMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=u.ViewabilityConstants.GroupM.MinimalAdAreaPercentageForStandardSize))},e.prototype.needToCheckViewability=function(t,e){return null==t.groupMTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying},e.prototype.shouldReportViewability=function(t,e,i,r){i.groupMViewedTime=t?i.groupMViewedTime+r.intervalDuration:i.groupMViewedTime;var n=i.videoLength?Math.min(u.ViewabilityConstants.GroupM.VideoMinimalDuration,i.videoLength*(u.ViewabilityConstants.GroupM.VideoMinimalDurationPercentage/100)):u.ViewabilityConstants.GroupM.VideoMinimalDuration;return i.groupMViewedTime>=n},e.prototype.reportViewabilityMeasured=function(t,e){t.groupMTimeMsUntilAdMeasured||(t.groupMTimeMsUntilAdMeasured=e.updateTime,o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.groupMTimeMsUntilAdViewed=e,t.groupMV3TimeMsUntilAdViewed=e,t.groupMTimeMsUntilAdMeasured++,o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.GroupMVideoViewabilityBL=f},8029:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.IabDisplayViewabilityBL=void 0;var o=i(7360),a=i(7749),s=i(3719),d=i(712),p=i(2087),c=i(8379),u=i(3380),l=i(425),f=i(1800),v=i(194),h=i(6689),y=i(749),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alreadyDvpSent=!1,e}return n(e,t),e.prototype.init=function(){},e.prototype.shouldRegisterToExposureEvents=function(){return!0},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==d.DvTagType.Display},e.prototype.needToCheckViewability=function(t,e){return!this.alreadyDvpSent&&h.OmidWrapper.isSupported()&&e.percentage>0&&(y.MessageHandler.sendMessage({dvp_ompp:1}),this.alreadyDvpSent=!0),null==t.timeMsUntilAdViewed&&null!=u.Utilities.getIabVisiblePercentage(e,v.DvObject.getIsOffScreen())&&(!p.FlashBeacons.isSupported()||e.viewabilityCalculationType==d.ViewabilityCalculationType.FlashBeacons)},e.prototype.isViewabilityConditionPassed=function(t){var e=u.Utilities.isLargeAd(t.adSize,c.ViewabilityConstants.IAB.DisplayMinimalLargeAdArea,v.DvObject.isMobile()),i=u.Utilities.isIabPageInFocus(t,v.DvObject.isFocusStrictMode()),r=u.Utilities.getIabVisiblePercentage(t,v.DvObject.getIsOffScreen());return!(!r||!i)&&(!!(e&&r>=c.ViewabilityConstants.IAB.DisplayMinimalAdAreaPercentageForLargeSize)||!e&&r>=c.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize)},e.prototype.shouldReportViewability=function(t,e,i){return i.iabViewedTime=t?i.iabViewedTime+e:0,i.iabViewedTime>=c.ViewabilityConstants.IAB.DisplayMinimalDuration},e.prototype.reportViewabilityMeasured=function(t,e){if(!t.timeMsUntilAdMeasured){e.viewportSize&&(t.viewportHeight=Math.ceil(e.viewportSize.height),u.Utilities.logIfNotAnInteger(t.viewportHeight,t,"viewportHeightDataValidation"),t.viewportWidth=Math.ceil(e.viewportSize.width),u.Utilities.logIfNotAnInteger(t.viewportWidth,t,"viewportWidthDataValidation"));var i=l.BrowserAdaptor.getScreenSize();i&&i.width&&i.height&&(t.screenHeight=Math.ceil(i.height),t.screenWidth=Math.ceil(i.width)),t.timeMsUntilAdMeasured=e.updateTime,t.unadjustedTimeMsUntilAdMeasured=e.updateTime,t.isViewabilityEligible=1,o.EventBus.dispatchEvent(o.DvEvent.reportData,new f.AdCandidateEventData(t))}},e.prototype.reportViewabilityPassed=function(t,e){t.timeMsUntilAdViewed=e,t.unadjustedTimeMsUntilAdViewed=e,t.timeMsUntilAdMeasured++,o.EventBus.dispatchEvent(o.DvEvent.reportData,new f.AdCandidateEventData(t))},e}(s.BaseViewabilityBL);e.IabDisplayViewabilityBL=m},5157:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.IabDisplayViewabilityForXSecondsBL=void 0;var o=i(7360),a=i(7749),s=i(194),d=i(3719),p=i(712),c=i(2087),u=i(1800),l=i(3380),f=i(8379),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.shouldRegisterToExposureEvents=function(){return!0},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Display},e.prototype.needToCheckViewability=function(t,e){return t.iabViewablitiyTimeToCheck.length>0&&null!=this.getPercentage(e)&&(!c.FlashBeacons.isSupported()||e.viewabilityCalculationType==p.ViewabilityCalculationType.FlashBeacons)},e.prototype.isViewabilityConditionPassed=function(t){var e=l.Utilities.isLargeAd(t.adSize,f.ViewabilityConstants.IAB.DisplayMinimalLargeAdArea,s.DvObject.isMobile()),i=s.DvObject.isFocusStrictMode()?t.strictFocus:t.focus;return!(!this.getPercentage(t)||!i)&&(!!(e&&this.getPercentage(t)>=f.ViewabilityConstants.IAB.DisplayMinimalAdAreaPercentageForLargeSize)||!e&&this.getPercentage(t)>=f.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize)},e.prototype.shouldReportViewability=function(t,e,i){return i.IABAdViewableForXSecondsViewedTime=t?i.IABAdViewableForXSecondsViewedTime+e:0,i.IABAdViewableForXSecondsViewedTime>=i.IABAdViewableForXSecondsdurationRequirement},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){var i=t.iabViewablitiyTimeToCheck.shift();t["iabv"+i]=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new u.AdCandidateEventData(t,{reportType:p.ReportType.RTS})),t.iabViewablitiyTimeToCheck.length>0&&(t.IABAdViewableForXSecondsdurationRequirement=1e3*t.iabViewablitiyTimeToCheck[0])},e.prototype.getPercentage=function(t){var e=t.percentage,i=t.offScreenPercentage;return null!=i&&s.DvObject.getIsOffScreen()?i:e},e}(d.BaseViewabilityBL);e.IabDisplayViewabilityForXSecondsBL=v},8123:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.IabNotViewReasonsViewabilityBL=void 0;var o=i(7360),a=i(6751),s=i(7749),d=i(712),p=i(8379),c=i(3380),u=i(194),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getActionName=function(){return"IabNotViewReasonsViewabilityBL"},e.prototype.init=function(){this.isVideoTag=s.DvTagDataObject.getTagType()==d.DvTagType.Video,this.viewTimeThreshold=this.isVideoTag?p.ViewabilityConstants.IAB.VideoMinimalDuration:p.ViewabilityConstants.IAB.DisplayMinimalDuration},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.impressionServed]=this.start.bind(this),t},e.prototype.start=function(){var t;o.EventBus.addEventsListener(((t={})[o.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t))},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,i=t.relevantData,r=c.Utilities.getIabVisiblePercentage(i,u.DvObject.getIsOffScreen()),n=c.Utilities.isIabPageInFocus(i,u.DvObject.isFocusStrictMode());if(!e.notViewableReasonWasViewed&&null!=r){if(!this.isVideoTag||this.isVideoTag&&i.adIsPlaying)if(e.notViewableReasonVideoPlayed=!0,n)if(e.notViewableReasonWasInFocus=!0,r>0)e.notViewableReasonWasInViewPort=!0,r>=(!this.isVideoTag&&c.Utilities.isLargeAd(i.adSize,p.ViewabilityConstants.IAB.DisplayMinimalLargeAdArea,u.DvObject.isMobile())?p.ViewabilityConstants.IAB.DisplayMinimalAdAreaPercentageForLargeSize:p.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize)?(e.notViewableReasonCumulativeViewTime+=i.intervalDuration,e.notViewableReasonConsecutiveViewTime+=i.intervalDuration,e.notViewableReasonConsecutiveViewTime>=this.viewTimeThreshold&&(e.notViewableReasonWasViewed=!0)):e.notViewableReasonConsecutiveViewTime=0;else e.notViewableReasonConsecutiveViewTime=0;else e.notViewableReasonConsecutiveViewTime=0;e.notViewableReason=this.getNotViewReason(e)||e.notViewableReason}},e.prototype.getNotViewReason=function(t){return this.isVideoTag&&!t.notViewableReasonVideoPlayed?d.NotViewableReason.VideoNeverPlayed:t.notViewableReasonWasViewed?d.NotViewableReason.Unknown:t.notViewableReasonWasInFocus?t.notViewableReasonWasInViewPort?0==t.notViewableReasonCumulativeViewTime?d.NotViewableReason.PixelThreshold:t.notViewableReasonCumulativeViewTime<this.viewTimeThreshold?d.NotViewableReason.TimeThreshold:t.notViewableReasonConsecutiveViewTime<this.viewTimeThreshold?d.NotViewableReason.ConsecutiveTime:void 0:d.NotViewableReason.Viewport:d.NotViewableReason.Focus},e}(a.BaseAdBL);e.IabNotViewReasonsViewabilityBL=l},5993:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.IabVideoQuartileViewabilityBL=void 0;var o=i(7360),a=i(7749),s=i(1800),d=i(6751),p=i(712),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){this.iabMinimalDuration=2e3,this.iabMinimalAdAreaPercentageForStandardSize=50},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t[o.DvEvent.adVideoFirstQuartileData]=this.handleQuartileData.bind(this,1),t[o.DvEvent.adVideoMidpointData]=this.handleQuartileData.bind(this,2),t[o.DvEvent.adVideoThirdQuartileData]=this.handleQuartileData.bind(this,3),t[o.DvEvent.adVideoCompleteData]=this.handleQuartileData.bind(this,4),t},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&(e["q"+e.iabVideoQuartileId+"iabvms"]||this.tryReportViewed(e,i))},e.prototype.handleQuartileData=function(t,e){var i=e.adCandidate;i.iabVideoQuartileViewed=0,i.iabVideoQuartileId=t+1},e.prototype.tryReportViewed=function(t,e){this.IsIabCriteriaPassed(e)?(t.iabVideoQuartileViewed+=e.intervalDuration,t.iabVideoQuartileViewed>=this.iabMinimalDuration&&this.reportViewedImpression(t,e.updateTime)):t.iabVideoQuartileViewed=0},e.prototype.IsIabCriteriaPassed=function(t){return!(!t.percentage||!t.focus)&&t.percentage>=this.iabMinimalAdAreaPercentageForStandardSize},e.prototype.reportViewedImpression=function(t,e){t["q"+t.iabVideoQuartileId+"iabvms"]=e,t.markAdQuartile(p.ExposureQuartileBitwise.Viewed,t.iabVideoQuartileId),o.EventBus.dispatchEvent(o.DvEvent.reportData,new s.AdCandidateEventData(t))},e}(d.BaseAdBL);e.IabVideoQuartileViewabilityBL=c},5152:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.IabVideoViewabilityBL=void 0;var o=i(7360),a=i(7749),s=i(194),d=i(3719),p=i(712),c=i(2087),u=i(425),l=i(1800),f=i(8379),v=i(6689),h=i(749),y=i(3380),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alreadyDvpSent=!1,e}return n(e,t),e.prototype.init=function(){this.iabMinimalDuration=f.ViewabilityConstants.IAB.VideoMinimalDuration,this.iabMinimalAdAreaPercentageForStandardSize=f.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return!0},e.prototype.needToCheckViewability=function(t,e){return!this.alreadyDvpSent&&v.OmidWrapper.isSupported()&&e.percentage>0&&(h.MessageHandler.sendMessage({dvp_ompp:1}),this.alreadyDvpSent=!0),null==t.timeMsUntilAdViewed&&null!=this.getPercentage(e)&&e.adIsPlaying&&(!c.FlashBeacons.isSupported()||e.viewabilityCalculationType==p.ViewabilityCalculationType.FlashBeacons)},e.prototype.isViewabilityConditionPassed=function(t){var e=s.DvObject.isFocusStrictMode()?t.strictFocus:t.focus;return!(!this.getPercentage(t)||!e)&&this.getPercentage(t)>=this.iabMinimalAdAreaPercentageForStandardSize},e.prototype.shouldReportViewability=function(t,e,i){return i.iabViewedTime=t?i.iabViewedTime+e:0,i.iabViewedTime>=this.iabMinimalDuration},e.prototype.reportViewabilityMeasured=function(t,e){if(!t.timeMsUntilAdMeasured){e.viewportSize&&(t.viewportHeight=Math.ceil(e.viewportSize.height),y.Utilities.logIfNotAnInteger(t.viewportHeight,t,"viewportHeightDataValidation"),t.viewportWidth=Math.ceil(e.viewportSize.width),y.Utilities.logIfNotAnInteger(t.viewportWidth,t,"viewportWidthDataValidation"));var i=u.BrowserAdaptor.getScreenSize();i&&i.width&&i.height&&(t.screenHeight=Math.ceil(i.height),t.screenWidth=Math.ceil(i.width)),t.timeMsUntilAdMeasured=e.updateTime,t.unadjustedTimeMsUntilAdMeasured=e.updateTime,t.isViewabilityEligible=1,o.EventBus.dispatchEvent(o.DvEvent.reportData,new l.AdCandidateEventData(t))}},e.prototype.reportViewabilityPassed=function(t,e){t.timeMsUntilAdViewed=e,t.unadjustedTimeMsUntilAdViewed=e,t.timeMsUntilAdMeasured++,o.EventBus.dispatchEvent(o.DvEvent.reportData,new l.AdCandidateEventData(t))},e.prototype.getPercentage=function(t){var e=t.percentage,i=t.offScreenPercentage;return null!=i&&s.DvObject.getIsOffScreen()?i:e},e}(d.BaseViewabilityBL);e.IabVideoViewabilityBL=m},1061:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.IabVideoViewabilityForXSecondsBL=void 0;var o=i(7360),a=i(7749),s=i(194),d=i(3719),p=i(712),c=i(2087),u=i(1800),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){this.iabMinimalDuration=2e3,this.iabMinimalAdAreaPercentageForStandardSize=50},e.prototype.shouldRegisterToExposureEvents=function(){return!0},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.needToCheckViewability=function(t,e){return t.iabViewablitiyTimeToCheck.length>0&&null!=this.getPercentage(e)&&e.adIsPlaying&&(!c.FlashBeacons.isSupported()||e.viewabilityCalculationType==p.ViewabilityCalculationType.FlashBeacons)},e.prototype.isViewabilityConditionPassed=function(t){var e=s.DvObject.isFocusStrictMode()?t.strictFocus:t.focus;return!(!this.getPercentage(t)||!e)&&this.getPercentage(t)>=this.iabMinimalAdAreaPercentageForStandardSize},e.prototype.shouldReportViewability=function(t,e,i){return i.IABAdViewableForXSecondsViewedTime=t?i.IABAdViewableForXSecondsViewedTime+e:0,i.IABAdViewableForXSecondsViewedTime>=i.IABAdViewableForXSecondsdurationRequirement},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){var i=t.iabViewablitiyTimeToCheck.shift();t["iabv"+i]=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new u.AdCandidateEventData(t,{reportType:p.ReportType.RTS})),t.iabViewablitiyTimeToCheck.length>0&&(t.IABAdViewableForXSecondsdurationRequirement=1e3*t.iabViewablitiyTimeToCheck[0])},e.prototype.getPercentage=function(t){var e=t.percentage,i=t.offScreenPercentage;return null!=i&&s.DvObject.getIsOffScreen()?i:e},e}(d.BaseViewabilityBL);e.IabVideoViewabilityForXSecondsBL=l},3054:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.KMEVideoViewabilityBL=void 0;var o=i(7360),a=i(7749),s=i(1800),d=i(194),p=i(3719),c=i(712),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==c.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return this.kmeViewabilityConditions=d.DvObject.getKMEVideoViewabilityConditions(),!!this.kmeViewabilityConditions&&(o.EventBus.addEventListener(o.DvEvent.adVideoCompleteData,this.handleVideoCompleteData.bind(this)),!0)},e.prototype.isViewabilityConditionPassed=function(t){return!(null==t.percentage||!t.focus||this.kmeViewabilityConditions.minimalAdAreaPercentage&&t.percentage<this.kmeViewabilityConditions.minimalAdAreaPercentage)&&(!this.kmeViewabilityConditions.requireVolume||0!=t.volume)},e.prototype.needToCheckViewability=function(t,e){return null==t.kmeTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying&&!t.kmeConditionsFailed},e.prototype.shouldReportViewability=function(t,e,i,r){return!i.kmeStartMeasure&&r.adVideoTimeLine>=this.kmeViewabilityConditions.timeLineLeftBoundary&&(i.kmeStartMeasure=!0),i.kmeStartMeasure&&r.adVideoTimeLine<=this.kmeViewabilityConditions.timeLineRightBoundary&&(t||(i.kmeConditionsFailed=!0)),r.adVideoTimeLine>=this.kmeViewabilityConditions.timeLineRightBoundary&&!i.kmeConditionsFailed},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){t.kmeTimeMsUntilAdViewed=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new s.AdCandidateEventData(t))},e.prototype.handleVideoCompleteData=function(t){var e=t.adCandidate,i=t.relevantData;e.kmeStartMeasure&&!e.kmeConditionsFailed&&this.reportViewabilityPassed(e,i.updateTime)},e}(p.BaseViewabilityBL);e.KMEVideoViewabilityBL=u},8642:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PMXDisplayViewabilityBL=void 0;var o=i(7749),a=i(7360),s=i(3719),d=i(712),p=i(1800),c=i(3380),u=i(8379),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==d.DvTagType.Display},e.prototype.shouldRegisterToExposureEvents=function(){return!0},e.prototype.isViewabilityConditionPassed=function(t){var e=c.Utilities.isLargeAd(t.adSize,u.ViewabilityConstants.PMX.DisplayMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(!!(e&&t.percentage>=u.ViewabilityConstants.PMX.DisplayMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=u.ViewabilityConstants.PMX.MinimalAdAreaPercentageForStandardSize)},e.prototype.needToCheckViewability=function(t,e){return null==t.pmxTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,i,r){return i.pmxViewedTime=t?i.pmxViewedTime+e:0,i.pmxViewedTime>=u.ViewabilityConstants.PMX.DisplayMinimalDuration},e.prototype.reportViewabilityMeasured=function(t,e){t.pmxTimeMsUntilAdMeasured||(t.pmxTimeMsUntilAdMeasured=e.updateTime)},e.prototype.reportViewabilityPassed=function(t,e){t.pmxTimeMsUntilAdViewed=e,a.EventBus.dispatchEvent(a.DvEvent.reportData,new p.AdCandidateEventData(t))},e}(s.BaseViewabilityBL);e.PMXDisplayViewabilityBL=l},2181:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PMXVideoViewabilityBL=void 0;var o=i(7360),a=i(7749),s=i(3719),d=i(712),p=i(1800),c=i(3380),u=i(8379),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==d.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return!0},e.prototype.isViewabilityConditionPassed=function(t){var e=c.Utilities.isLargeAd(t.adSize,u.ViewabilityConstants.PMX.VideoMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(!!(e&&t.percentage>=u.ViewabilityConstants.PMX.VideoMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=u.ViewabilityConstants.PMX.MinimalAdAreaPercentageForStandardSize)},e.prototype.needToCheckViewability=function(t,e){return null==t.pmxTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying},e.prototype.shouldReportViewability=function(t,e,i,r){return i.pmxViewedTime=t?i.pmxViewedTime+e:0,i.pmxViewedTime>=u.ViewabilityConstants.PMX.VideoMinimalDuration},e.prototype.reportViewabilityMeasured=function(t,e){t.pmxTimeMsUntilAdMeasured||(t.pmxTimeMsUntilAdMeasured=e.updateTime)},e.prototype.reportViewabilityPassed=function(t,e){t.pmxTimeMsUntilAdViewed=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new p.AdCandidateEventData(t))},e}(s.BaseViewabilityBL);e.PMXVideoViewabilityBL=l},458:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.RbViewabilityBL=void 0;var o=i(7360),a=i(1800),s=i(7749),d=i(194),p=i(6751),c=i(712),u=i(8379),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getActionName=function(){return"RbViewabilityBL"},e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.impressionServed]=this.impressionServed.bind(this),t},e.prototype.impressionServed=function(){d.DvObject.getAllowRBViewability()&&o.EventBus.addEventListener(o.DvEvent.exposureData,this.handleViewabilityData.bind(this))},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,i=t.relevantData;(s.DvTagDataObject.getTagType()!=c.DvTagType.Video||i.adIsPlaying)&&(e.rBV1PassedMs||this.tryReportViewed(e,i))},e.prototype.tryReportViewed=function(t,e){e.percentage&&e.focus&&e.percentage>=u.ViewabilityConstants.RB.MinimalAdAreaPercentageForStandardSize&&this.reportViewedImpression(t,e.updateTime)},e.prototype.reportViewedImpression=function(t,e){t.rBV1PassedMs=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new a.AdCandidateEventData(t))},e}(p.BaseAdBL);e.RbViewabilityBL=l},3454:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoFullQuartileAudibleBL=void 0;var o=i(7360),a=i(7749),s=i(1800),d=i(6751),p=i(712),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){this.minimalAdAreaPercentageForStandardSize=98},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleAudibleData.bind(this),t[o.DvEvent.adVideoFirstQuartileData]=this.handleQuartileData.bind(this,1),t[o.DvEvent.adVideoMidpointData]=this.handleQuartileData.bind(this,2),t[o.DvEvent.adVideoThirdQuartileData]=this.handleQuartileData.bind(this,3),t[o.DvEvent.adVideoCompleteData]=this.handleQuartileData.bind(this,4),t},e.prototype.handleAudibleData=function(t){var e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&(0!=e.isVideoFullQuartileAudible&&this.isCriteriaPassed(i.volume)?e.isVideoFullQuartileAudible=!0:e.isVideoFullQuartileAudible=!1)},e.prototype.handleQuartileData=function(t,e){var i=e.adCandidate;this.reportViewedImpression(i),i.videoFullQuartileAudibleId=t+1,i.isVideoFullQuartileAudible=null},e.prototype.isCriteriaPassed=function(t){return null!=t&&-1!=t&&0!=t},e.prototype.reportViewedImpression=function(t){t.isVideoFullQuartileAudible&&(t.markAdQuartile(p.ExposureQuartileBitwise.FullAudible,t.videoFullQuartileAudibleId),o.EventBus.dispatchEvent(o.DvEvent.reportData,new s.AdCandidateEventData(t)))},e}(d.BaseAdBL);e.VideoFullQuartileAudibleBL=c},1354:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoQuartileFullOnScreenBL=void 0;var o=i(7360),a=i(7749),s=i(1800),d=i(6751),p=i(712),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){this.minimalAdAreaPercentageForStandardSize=98},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t[o.DvEvent.adVideoFirstQuartileData]=this.handleQuartileData.bind(this,1),t[o.DvEvent.adVideoMidpointData]=this.handleQuartileData.bind(this,2),t[o.DvEvent.adVideoThirdQuartileData]=this.handleQuartileData.bind(this,3),t[o.DvEvent.adVideoCompleteData]=this.handleQuartileData.bind(this,4),t},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&(0!=e.isVideoFullQuartileViewed&&this.isCriteriaPassed(i)?e.isVideoFullQuartileViewed=!0:e.isVideoFullQuartileViewed=!1)},e.prototype.handleQuartileData=function(t,e){var i=e.adCandidate;this.reportViewedImpression(i),i.videoFullQuartileViewabilityId=t+1,i.isVideoFullQuartileViewed=null},e.prototype.isCriteriaPassed=function(t){return!(!t.percentage||!t.focus)&&t.percentage>=this.minimalAdAreaPercentageForStandardSize},e.prototype.reportViewedImpression=function(t){t.isVideoFullQuartileViewed&&(t.markAdQuartile(p.ExposureQuartileBitwise.FullOnScreen,t.videoFullQuartileViewabilityId),o.EventBus.dispatchEvent(o.DvEvent.reportData,new s.AdCandidateEventData(t)))},e}(d.BaseAdBL);e.VideoQuartileFullOnScreenBL=c},1726:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityStartPercentageBL=void 0;var o=i(7360),a=i(1800),s=i(7749),d=i(6751),p=i(712),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){this.visiblePercentage=50},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,i=t.relevantData;(s.DvTagDataObject.getTagType()!=p.DvTagType.Video||i.adIsPlaying)&&null==e.startPercentage&&null!=i.percentage&&(e.startPercentage=i.percentage,e.adVisibleOnload=i.percentage>=this.visiblePercentage,o.EventBus.dispatchEvent(o.DvEvent.reportData,new a.AdCandidateEventData(e)))},e}(d.BaseAdBL);e.ViewabilityStartPercentageBL=c},6715:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ViewableShareOfScreenBL=void 0;var o=i(1800),a=i(6751),s=i(7360),d=i(3380),p=i(8379),c=i(194),u=i(7749),l=i(712),f=i(3868),v=i(425),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MIN_VAL=0,e.MAX_VAL=100,e.MAX_EVENTS=4,e.MIN_PERCENTAGE_CHANGE=10,e}return n(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[s.DvEvent.impressionServed]=this.handleImpressionServed.bind(this),t},e.prototype.handleImpressionServed=function(){var t;s.EventBus.addEventsListener(((t={})[s.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t[s.DvEvent.adVideoCompleteData]=this.handleVideoCompleteOrUnload.bind(this),t[s.DvEvent.unloadData]=this.handleVideoCompleteOrUnload.bind(this),t))},e.prototype.handleViewabilityData=function(t){var e=this.prepareValues(t),i=e.viewableShareOfScreenData,r=e.screenSize,n=e.viewablePercentage,o=e.adSize,a=e.adIsPlaying,s=e.isInFocus,p=e.isIabViewed;if(this.isViewabilityConditionPassed(o,r,a,s,n)){var c=o.height*o.width*n/(r.width*r.height);if(i.sumViewableShareOfScreen+=c,i.viewableIntervalCount=i.viewableIntervalCount+1,p){i.shareOfScreenNotMeasuredReason=l.ViewableShareOfScreenNotViewReason.Measured;var u=d.Utilities.getValBetweenMinAndMax(Math.round(i.sumViewableShareOfScreen/i.viewableIntervalCount),this.MIN_VAL,this.MAX_VAL);i.avgViewableShareOfScreen=u,f.WindowAdaptor.isIOS()&&this.isApplicableForInstantIosReport(i,n)&&(i.shareOfScreenLastIosReportedPercentage=n,this.report(i))}}i.shareOfScreenNotMeasuredReason=this.getValidationReasonBits(r,o,p,i)},e.prototype.prepareValues=function(t){var e=t.relevantData,i=t.adCandidate;i.sumViewableShareOfScreen=i.sumViewableShareOfScreen||0,i.viewableIntervalCount=i.viewableIntervalCount||0;var r=this.collectCurrentShareOfScreenData(e,i);return{viewableShareOfScreenData:i,screenSize:r.screenSize,viewablePercentage:r.viewablePercentage,adSize:r.adSize,adIsPlaying:r.adIsPlaying,isInFocus:r.isInFocus,isIabViewed:!!i.timeMsUntilAdViewed}},e.prototype.report=function(t){s.EventBus.dispatchEvent(s.DvEvent.reportData,new o.AdCandidateEventData(t))},e.prototype.calculateMaxEventsNumber=function(t){return void 0===t?this.MAX_EVENTS:t},e.prototype.isApplicableForInstantIosReport=function(t,e){t.shareOfScreenEventsLeftToReport=this.calculateMaxEventsNumber(t.shareOfScreenEventsLeftToReport);var i=!t.shareOfScreenLastIosReportedPercentage||t.shareOfScreenEventsLeftToReport>0&&t.shareOfScreenLastIosReportedPercentage!=e&&t.shareOfScreenLastIosReportedPercentage+this.MIN_PERCENTAGE_CHANGE<=100&&Math.abs(t.shareOfScreenLastIosReportedPercentage-e)>=this.MIN_PERCENTAGE_CHANGE;return i&&(t.shareOfScreenEventsLeftToReport=0===t.shareOfScreenEventsLeftToReport?0:t.shareOfScreenEventsLeftToReport-1),i},e.prototype.collectCurrentShareOfScreenData=function(t,e){var i=d.Utilities.isIabPageInFocus(t,c.DvObject.isFocusStrictMode());return{screenSize:this.getComparableScreenSize(t,e),viewablePercentage:t.percentage,adSize:t.adSize,adIsPlaying:u.DvTagDataObject.getTagType()!=l.DvTagType.Video||t.adIsPlaying,isInFocus:i}},e.prototype.getComparableScreenSize=function(t,e){e.shareOfScreenReadFromViewport=e.shareOfScreenReadFromViewport||this.isApplicableForViewportMeasurement()&&this.reportReadFromViewport(e);var i=t.screenSize;if(e.shareOfScreenReadFromViewport&&i&&i.width>0&&i.height){var r=v.BrowserAdaptor.getInnerViewport();r.width>0&&r.height>0&&(i={width:r.width,height:t.screenSize.height*(r.width/t.screenSize.width)})}return i},e.prototype.isApplicableForViewportMeasurement=function(){if(c.DvObject.getDetectedDeliveryType()===l.DetectedDeliveryType.MobileWeb&&((f.WindowAdaptor.getScenarioType()&l.Scenario.SameDomain)===l.Scenario.SameDomain||(f.WindowAdaptor.getScenarioType()&l.Scenario.OnPage)===l.Scenario.OnPage)){var t=v.BrowserAdaptor.getMetaTagAttributes(f.WindowAdaptor.workingDocument(f.WindowAdaptor.windowTop()),"viewport");return!this.isWebPageResponsive(t)}return!1},e.prototype.isWebPageResponsive=function(t){var e=t.width,i=t["initial-scale"];return!d.Utilities.isEmptyObject(t)&&(1===Number(i)||"device-width"===e)},e.prototype.reportReadFromViewport=function(t){return t.shareOfScreenReadFromViewportReport=1,!0},e.prototype.handleVideoCompleteOrUnload=function(t){var e=t.adCandidate;this.report(e)},e.prototype.isViewabilityConditionPassed=function(t,e,i,r,n){return i&&r&&this.validateScreenAndAdSize(t,e)&&this.isAdPercentageCriteriaPassed(t,n)},e.prototype.validateScreenAndAdSize=function(t,e){var i=t&&t.width&&t.height,r=e&&e.width&&e.height;return i&&r},e.prototype.getValidationReasonBits=function(t,e,i,r){var n=r.shareOfScreenNotMeasuredReason===l.ViewableShareOfScreenNotViewReason.Measured?l.ViewableShareOfScreenNotViewReason.Measured:0;return n||(t&&t.height&&t.width||(n|=l.ViewableShareOfScreenNotViewReason.NoScreenSize),e&&e.height&&e.width||(n|=l.ViewableShareOfScreenNotViewReason.NoAdSize),i||(n|=l.ViewableShareOfScreenNotViewReason.ImpressionNotViewable)),n},e.prototype.isAdPercentageCriteriaPassed=function(t,e){return d.Utilities.isLargeAd(t,p.ViewabilityConstants.IAB.DisplayMinimalLargeAdArea,c.DvObject.isMobile())?e>=p.ViewabilityConstants.IAB.DisplayMinimalAdAreaPercentageForLargeSize:e>=p.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize},e.prototype.getActionName=function(){return"ViewableShareOfScreenBL"},e}(a.BaseAdBL);e.ViewableShareOfScreenBL=h},3350:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AdAsset=void 0;var i=function(t,e,i,r,n){this.id=t,this.player=e,this.adDuration=i,this.executeDVClientCallback=n,this.adSkippable=r};e.AdAsset=i},2196:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DvBackwardCompatibilityClass=void 0;var r=i(749),n=i(425),o=i(3380),a=i(6681),s=i(7360),d=i(3868),p=i(3946),c=function(){function t(){this.dvObjType="dv",this.messages={registerMsg:function(t,e){r.MessageHandler.sendMessage(e)},startSendingEvents:function(t,e){}},this.domUtilities={outer:this,addImage:function(t,e,i,r){var a=o.Utilities.getParamValue(t,"impid");null!=a&&this.outer.tags&&this.outer.tags[a]&&"object"==typeof this.outer.tags[a].eventIdGenerator&&"function"==typeof this.outer.tags[a].eventIdGenerator.getNext&&(t+="&eoid="+this.outer.tags[a].eventIdGenerator.getNext());n.BrowserAdaptor.sendBeacon(t,i,e)},addScriptResource:function(t,e){n.BrowserAdaptor.addScriptAsync(t,e)}},this.pubSub=s.EventBusGlobal,this.CommonData={Scenario:d.WindowAdaptor.getScenarioType(),BrowserId:p.BrowserDetector.getBrowserId(),BrowserIdFromUserAgent:p.BrowserDetector.getBrowserIdUserAgent(),BrowserVersion:p.BrowserDetector.getBrowserVersion()},this.tags={},this.sendBeacon=function(){}}return t.prototype.resolveMacros=function(t,e){return o.Utilities.resolveMacros(t,e)},t.prototype.registerEventCall=function(t,e,i,n){r.MessageHandler.registerEventCall(t,e,n,i)},t.prototype.createEventCallUrl=function(t,e,i){return void 0===i&&(i=!1),r.MessageHandler.createEventCallUrl(t,e,i)},t.prototype.getWorkingWindow=function(){return d.WindowAdaptor.workingWindow()},t.prototype.getMraid=function(){return a.MraidWrapper.getMraid()},t}();e.DvBackwardCompatibilityClass=c},5999:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BeaconsAdaptor=void 0;var r=i(712),n=i(3868),o=i(425),a=i(8379),s=function(){function t(){}return t.prototype.positionBeacons=function(t,e,i){for(var s=n.WindowAdaptor.getDefaultWindow(t).document,d=n.WindowAdaptor.workingBody(s),p=o.BrowserAdaptor.getScrollData(d).left,c=o.BrowserAdaptor.getScrollData(d).top,u=o.BrowserAdaptor.getBoundingClientRect(t),l=u.width,f=u.height,v=u.left,h=u.top,y=l/(1+a.BeaconConstants.SQRT_2),m=f/(1+a.BeaconConstants.SQRT_2),g=l/a.BeaconConstants.SQRT_2,w=f/a.BeaconConstants.SQRT_2,b=0;b<e.length;b++){var S=Math.round(5*Math.random()),D=e[b];switch(D.left=v+p,D.top=h+c,b){case r.BeaconPosition.CONTROL:D.left=-1e5,D.top=-1e5;break;case r.BeaconPosition.OUTER_TOP_LEFT:D.left+=S,D.top+=S;break;case r.BeaconPosition.OUTER_TOP_RIGHT:D.left+=l-i-S,D.top+=S;break;case r.BeaconPosition.OUTER_BOTTOM_LEFT:D.left+=S,D.top+=f-i-S;break;case r.BeaconPosition.OUTER_BOTTOM_RIGHT:D.left+=l-i-S,D.top+=f-i-S;break;case r.BeaconPosition.CENTER:D.left+=l/2+S,D.top+=f/2+S;break;case r.BeaconPosition.MIDDLE_TOP_LEFT:D.left+=(l-g)/2+S,D.top+=(f-w)/2+S;break;case r.BeaconPosition.MIDDLE_TOP_RIGHT:D.left+=(l-g)/2+g,D.top+=(f-w)/2;break;case r.BeaconPosition.MIDDLE_BOTTOM_LEFT:D.left+=(l-g)/2,D.top+=(f-w)/2+w+S;break;case r.BeaconPosition.MIDDLE_BOTTOM_RIGHT:D.left+=(l-g)/2+g-S,D.top+=(f-w)/2+w-S;break;case r.BeaconPosition.INNER_TOP_LEFT:D.left+=(l-y)/2+S,D.top+=(f-m)/2+S;break;case r.BeaconPosition.INNER_TOP_RIGHT:D.left+=(l-y)/2+y-S,D.top+=(f-m)/2+S;break;case r.BeaconPosition.INNER_BOTTOM_LEFT:D.left+=(l-y)/2+S,D.top+=(f-m)/2+m-S;break;case r.BeaconPosition.INNER_BOTTOM_RIGHT:D.left+=(l-y)/2+y-S,D.top+=(f-m)/2+m-S}b>=r.BeaconPosition.CENTER&&(D.left-=i/2,D.top-=i/2),D.style.left=D.left+"px",D.style.top=D.top+"px"}},t.prototype.getElementVisiblePercentageWithBeacons=function(t,e){for(var i=0,n=0,o=0,a=0,s=1;s<t.length;s++){if(e(t[s]))switch(s){case r.BeaconPosition.CENTER:a++;break;case r.BeaconPosition.OUTER_TOP_LEFT:case r.BeaconPosition.OUTER_TOP_RIGHT:case r.BeaconPosition.OUTER_BOTTOM_LEFT:case r.BeaconPosition.OUTER_BOTTOM_RIGHT:i++;break;case r.BeaconPosition.MIDDLE_TOP_LEFT:case r.BeaconPosition.MIDDLE_TOP_RIGHT:case r.BeaconPosition.MIDDLE_BOTTOM_LEFT:case r.BeaconPosition.MIDDLE_BOTTOM_RIGHT:n++;break;case r.BeaconPosition.INNER_TOP_LEFT:case r.BeaconPosition.INNER_TOP_RIGHT:case r.BeaconPosition.INNER_BOTTOM_LEFT:case r.BeaconPosition.INNER_BOTTOM_RIGHT:o++}}return a||2!=i||2!=o?a?4==i?100:i>=2||4==n||4==o&&i>=1?50:4==o&&n>=1?30:0:0:30},t}();e.BeaconsAdaptor=new s},6875:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.getWorkingWindow=e.getCurrentWindow=e.getTagUniqueKey=void 0;var r=i(3380);dvWindow="undefined"!=typeof window&&window||dvWindow;var n="";function o(){return("undefined"!=typeof $dv&&$dv||{}).isDomlessEnvironment?{}:dvWindow}e.getTagUniqueKey=function(){if(""===n){var t="undefined"!=typeof $dv&&$dv||{};if(!t.hasOwnProperty("tagData"))throw new Error("dv object missing tagData property");if(!t.tagData||"object"!=typeof t.tagData)throw new Error("tagData is not an object");var e=Object.keys(t.tagData).filter((function(e){return t.tagData[e].hasOwnProperty("tagScriptElem")&&!t.tagData[e].isVisited}));if(!e.length)throw new Error("all tags data visited");var i=r.Utilities.getVersion(),o=e.filter((function(e){return t.tagData[e].dvtpScriptVersion===i}));n=o.length?o[0]:e[0],t.tagData[n].isVisited=!0}return n},e.getCurrentWindow=o,e.getWorkingWindow=function(){var t="undefined"!=typeof $dv&&$dv||{},e=o(),i=e;try{i=t.restrictedAccess?e:e.parent}catch(t){i=e}return i}},425:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserAdaptor=e.BrowserAdaptorClass=void 0;var n=i(3868),o=i(6689),a=i(712),s=i(3380),d=i(2756),p=i(194),c=i(3946),u=i(363),l=function(){function t(){this.visibilityPropertyPrefixes={hidden:"",webkitHidden:"webkit",mozHidden:"moz",msHidden:"ms"},this.updateVisibilityProperties(),this.createPrerenderedImages()}return t.prototype.sendBeaconIsSupported=function(){return n.WindowAdaptor.getNavigator()&&!!n.WindowAdaptor.getNavigator().sendBeacon&&c.BrowserDetector.getBrowserId()!=a.Browser.Safari&&c.BrowserDetector.getBrowserId()!=a.Browser.SafariWebView},t.prototype.createPrerenderedImages=function(){var t=this;this.prerenderedImages=[],this.sendBeaconSupported=this.sendBeaconIsSupported(),this.sendBeaconSupported||s.Utilities.times(20,(function(){return t.prerenderedImages.push(new Image)}))},t.prototype.getVisibilityProperty=function(){var t,e;try{for(var i=r(Object.keys(this.visibilityPropertyPrefixes)),o=i.next();!o.done;o=i.next()){var a=o.value;if(null!=n.WindowAdaptor.workingDocument()[a])return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.updateVisibilityProperties=function(){this.visibilityProperty=this.getVisibilityProperty(),this.visibilityPrefix=this.visibilityPropertyPrefixes[this.visibilityProperty]},t.prototype.getVisibilityPrefix=function(){return this.visibilityPrefix},t.prototype.isVisibilityChangeEventSupported=function(){return!!this.visibilityProperty},t.prototype.hasFocus=function(){return!(this.isVisibilityChangeEventSupported()&&!o.OmidWrapper.isSupported())||!n.WindowAdaptor.workingDocument()[this.visibilityProperty]},t.prototype.hasStrictFocus=function(){try{return!(n.WindowAdaptor.documentTop()&&n.WindowAdaptor.documentTop().hasFocus&&!o.OmidWrapper.isSupported())||n.WindowAdaptor.documentTop().hasFocus()}catch(t){return!0}},t.prototype.addEventListener=function(t,e,i,r){void 0===r&&(r=!1),t&&e&&i&&(i.addEventListener?i.addEventListener(t,e,r):i.attachEvent?i.attachEvent("on"+t,e):i["on"+t]=e)},t.prototype.removeEventListener=function(t,e,i,r){void 0===r&&(r=!1),t&&e&&i&&i.removeEventListener&&i.removeEventListener(t,e,r)},t.prototype.setTimeout=function(t,e){return n.WindowAdaptor.currentWindow().setTimeout(t,e)},t.prototype.clearTimeout=function(t){n.WindowAdaptor.currentWindow().clearTimeout(t)},t.prototype.setInterval=function(t,e){return n.WindowAdaptor.currentWindow().setInterval(t,e)},t.prototype.clearInterval=function(t){n.WindowAdaptor.currentWindow().clearInterval(t)},t.prototype.isBrowserSupported=function(){var t=[];return"function"==typeof t.filter&&"function"==typeof t.forEach},t.prototype.getAttribute=function(t,e){var i;if(t&&e)try{i=t[e]||t.getAttribute(e)}catch(t){}return i},t.prototype.getElementsByTagNameFromDocument=function(t,e){void 0===e&&(e=n.WindowAdaptor.workingDocument());var i=[];if(e&&t&&e.getElementsByTagName){var r=e.getElementsByTagName(t);r&&(i=s.Utilities.arrayLikeToArray(r))}return i},t.prototype.getElementsByClassName=function(t,e){void 0===e&&(e=n.WindowAdaptor.workingDocument());var i=[];if(e&&t){var r=void 0;e.getElementsByClassName?r=e.getElementsByClassName(t):e.querySelectorAll&&(r=e.querySelectorAll("."+t)),r&&(i=s.Utilities.arrayLikeToArray(r))}return i},t.prototype.querySelector=function(t,e){void 0===e&&(e=n.WindowAdaptor.workingDocument());try{return e.querySelector(t)}catch(t){}},t.prototype.createImage=function(){return new Image},t.prototype.createElement=function(t,e){if(void 0===e&&(e=n.WindowAdaptor.workingDocument()),t)return e.createElement(t)},t.prototype.insertBefore=function(t,e,i){return t&&t.insertBefore(e,i)},t.prototype.registerScriptEvent=function(t,e,i){this.addEventListener("error",e&&e.bind(null),t),this.addEventListener("load",i&&i.bind(null),t)},t.prototype.addScriptAsync=function(t,e,i,r,o,a){void 0===r&&(r=!0),e=e||n.WindowAdaptor.workingBody()||n.WindowAdaptor.workingDocument().head||n.WindowAdaptor.workingDocumentElement();var d=this.createElement("script",e.ownerDocument);d.type="text/javascript",d.src=r?s.Utilities.appendCacheBuster(t,"cbust"):t,this.registerScriptEvent(d,o,a),i&&(d.id=i),this.insertBefore(e,d,e.firstChild)},t.prototype.addScriptSync=function(t,e){e.write('<script type="text/javascript" src="'+t+'"><\/script>')},t.prototype.createIframe=function(t){var e=this.createElement("iframe");return e.name=e.id="iframe_"+u.RandomUtils.getRandom16(),e.width="0",e.height="0",e.style.display="none",e.src=t,e},t.prototype.addIframeAfterBodyTag=function(t,e){var i=this;void 0===e&&(e=150),n.WindowAdaptor.workingDocument()&&n.WindowAdaptor.workingBody()?this.insertBefore(n.WindowAdaptor.workingBody(),t,n.WindowAdaptor.workingBody().firstChild):this.setTimeout((function(){return i.addIframeAfterBodyTag(t,--e)}),20)},t.prototype.getElementById=function(t,e){if(void 0===e&&(e=n.WindowAdaptor.workingDocument()),t)return e.getElementById(t)},t.prototype.querySelectorAll=function(t,e){try{return t.querySelectorAll(e)}catch(t){}},t.prototype.getElementsByTagNameFromDomElement=function(t,e){var i=[];if(t&&e&&t.getElementsByTagName){var r=t.getElementsByTagName(e);r&&(i=s.Utilities.arrayLikeToArray(r))}return i},t.prototype.getElementType=function(t){if(t)return t.nodeName.toLowerCase()},t.prototype.getBoundingClientRect=function(t){var e={left:0,right:0,top:0,bottom:0,width:0,height:0};return t&&t.getBoundingClientRect&&(e=t.getBoundingClientRect()),e},t.prototype.getObjectSize=function(t){var e={width:0,height:0};if("object"==this.getElementType(t)){var i=this.getAttribute(t,"height"),r=this.getAttribute(t,"width");s.Utilities.isNullOrEmpty(r)&&s.Utilities.isNullOrEmpty(i)||(r=t.clientWidth,i=t.clientHeight);try{e.height=Number(i),e.width=Number(r)}catch(t){}}return e},t.prototype.getSiblingsNodes=function(t){var e=[],i=null;for(t&&t.parentNode&&(i=t.parentNode.firstChild);i;)1===i.nodeType&&i!==t&&e.push(i),i=i.nextElementSibling||i.nextSibling;return e},t.prototype.getElementChildren=function(t){var e=[];if(t.hasChildNodes())for(var i=0;i<t.childNodes.length;i++)t.childNodes[i]&&1===t.childNodes[i].nodeType&&e.push(t.childNodes[i]);return e},t.prototype.getAvailableScreenSize=function(t){void 0===t&&(t=!0);var e=t?0:null,i=t?0:null,r=n.WindowAdaptor.workingWindow()&&n.WindowAdaptor.workingWindow().screen;return r&&(e=r.availHeight,i=r.availWidth),{height:e,width:i}},t.prototype.getScreenSize=function(){var t=0,e=0;try{var i=n.WindowAdaptor.workingWindow()&&n.WindowAdaptor.workingWindow().screen;i&&(t=i.height,e=i.width)}catch(t){}return{height:t,width:e}},t.prototype.getDevicePixelRatio=function(){var t;try{t=n.WindowAdaptor.workingWindow().devicePixelRatio}catch(t){}return t},t.prototype.getInnerViewport=function(t){void 0===t&&(t=!0);var e=t?0:null,i=t?0:null;try{var r=n.WindowAdaptor.windowTop(),o=n.WindowAdaptor.workingWindow();r?(e=r.innerHeight,i=r.innerWidth):o&&(e=o.innerHeight,i=o.innerWidth)}catch(t){}return{height:e,width:i}},t.prototype.getOuterViewport=function(t,e){void 0===t&&(t=n.WindowAdaptor.workingWindow()),void 0===e&&(e=!0);var i=e?0:null,r=e?0:null;try{t&&(i=t.outerHeight,r=t.outerWidth)}catch(t){}return{height:i,width:r}},t.prototype.getViewportAssetsRelativeToScreen=function(t){var e=0,i=0;try{t&&(e=t.screenY,i=t.screenX)}catch(t){}return{top:e,left:i}},t.prototype.getIframeAssetsRelativeToScreen=function(t){void 0===t&&(t=n.WindowAdaptor.workingWindow());var e=0,i=0;try{t&&(e=t.mozInnerScreenY||t.screenTop,i=t.mozInnerScreenX||t.screenLeft)}catch(t){}return{top:e,left:i}},t.prototype.getScrollData=function(t){void 0===t&&(t=n.WindowAdaptor.workingBody());var e=0,i=0;return t&&(e=t.scrollLeft,i=t.scrollTop),{left:i,top:e}},t.prototype.smartInstanceof=function(t,e,i){try{return t instanceof i[e]||i.parent!=i&&this.smartInstanceof(t,e,i.parent)}catch(t){return!1}},t.prototype.getNavigationStartTime=function(){var t=n.WindowAdaptor.workingWindow();if(t.performance&&t.performance.timing)return n.WindowAdaptor.workingWindow().performance.timing.navigationStart},t.prototype.getElementSize=function(t){var e={width:0,height:0};try{if("object"!=this.getElementType(t)){var i=this.getBoundingClientRect(t);e.height=i.height,e.width=i.width}else e=this.getObjectSize(t)}catch(t){}return e},t.prototype.getElementStaticSize=function(t){return{width:t.innerWidth||t.clientWidth,height:t.innerHeight||t.clientHeight}},t.prototype.sendBeacon=function(t,e,i){if(void 0===e&&(e=!1),t=s.Utilities.appendCacheBuster(t,p.DvObject.getCacheBusterName()),o.OmidWrapper.isSupported())o.OmidWrapper.sendUrl(t);else if(!e&&this.sendBeaconSupported)n.WindowAdaptor.getNavigator().sendBeacon(t);else{(this.prerenderedImages&&this.prerenderedImages.length?this.prerenderedImages.pop():this.createImage()).src=t}s.Utilities.logDvSignal(t)},t.prototype.isElementAttachedToDocument=function(t){try{return"IFRAME"==t.nodeName?!!n.WindowAdaptor.getIframeWindow(t):n.WindowAdaptor.workingDocument().contains(t)}catch(t){}},t.prototype.getParentNode=function(t){return t&&t.parentNode},t.prototype.getOrientation=function(){var t,e=n.WindowAdaptor.currentWindow();return void 0!==e.orientation&&(t=parseInt(e.orientation.toString())),t},t.prototype.isAdElementHidden=function(t){var e=t.ownerDocument?t.ownerDocument.defaultView||t.ownerDocument.parentWindow:null;if(e)return this.getAdElementHiddenStatus(t,e)},t.prototype.getAdElementHiddenStatus=function(t,e){var i;try{if(!n.WindowAdaptor.isTop(e)){if(!e.frameElement)return;t=e.frameElement,e=n.WindowAdaptor.getWindowParent(e)}}catch(t){}var r,o,d=0,p=s.Utilities.getCurrentTime(),c=s.Utilities.getElementOffsetFromScreen(t),u=c.left,l=c.top;try{r=getComputedStyle(t)}catch(e){r=t.style}if(t.getBoundingClientRect){var f=t.getBoundingClientRect();o=[u+f.width/2,l+f.height/2]}else o=[u+parseInt(r.width)/2,l+parseInt(r.height)/2];try{"none"===r.display&&(d|=a.HiddenAdsReason.NoneDisplay),i=e.document.body.querySelectorAll("*");var v=!1;for([].forEach.call(i,(function(e){if(v&&e!==t&&!e.contains(t)&&!t.contains(e))try{var i=e.getBoundingClientRect(),r=s.Utilities.getElementOffsetFromScreen(e);r.left+i.width>=o[0]&&r.left<=o[0]&&r.top<=o[1]&&r.top+i.height>=o[1]&&(d|=a.HiddenAdsReason.Stacked)}catch(t){}e===t&&(v=!0)}));t;){try{r=getComputedStyle(t)}catch(e){r=t.style}r&&"none"===r.display&&(d|=a.HiddenAdsReason.NoneDisplay),r&&("hidden"===r.visibility||""!==r.opacity&&r.opacity<.8)&&(d|=a.HiddenAdsReason.HiddenVisibility);try{if(t.getBoundingClientRect){var h=t.getBoundingClientRect();h.width*h.height<100&&(d|=a.HiddenAdsReason.ZeroSize)}}catch(t){}t=t.document&&t==t.document.body?t.window.frameElement?t.window.frameElement:null:t.parentElement}}catch(t){d=-1}return d<0?d=-1e3*(s.Utilities.getCurrentTime()-p):d+=1e3*(s.Utilities.getCurrentTime()-p),d},t.prototype.getMetaTagAttributes=function(t,e){var i,n,o={};if(t)try{for(var a=r(s.Utilities.arrayLikeToArray(t.getElementsByTagName("meta"))),d=a.next();!d.done;d=a.next()){var p=d.value;if(p.getAttribute("name")===e&&p.getAttribute("content")){p.getAttribute("content").split(",").forEach((function(t){var e=t.split("=");e.length>1&&(o[e[0].trim()]=e[1].trim())}));break}}}catch(t){i={error:t}}finally{try{d&&!d.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},t}();e.BrowserAdaptorClass=l,e.BrowserAdaptor=n.WindowAdaptor.isDomlessEnvironment()?new d.BrowserOmidAdaptorClass:new l},3946:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserDetector=e.BrowserDetectorClass=void 0;var n=i(712),o=i(3868),a=i(7749),s=function(){function t(){var t=this;this.browsersList=[{id:n.Browser.Selenium,browserDetectionRuleType:n.BrowserDetectionRule.PROPERTIES_ONLY,propertiesRuleFunc:function(){return o.WindowAdaptor.workingDocumentElement().hasAttribute("webdriver")||o.WindowAdaptor.workingDocumentElement().hasAttribute("fxdriver")||o.WindowAdaptor.workingDocumentElement().hasAttribute("__webdriver_unwrapped")||o.WindowAdaptor.workingDocumentElement().hasAttribute("__webdriver_script_fn")||o.WindowAdaptor.workingDocumentElement().hasAttribute("__webdriver_evaluate")||o.WindowAdaptor.workingDocumentElement().hasAttribute("__fxdriver_evaluate")||o.WindowAdaptor.workingDocumentElement().hasAttribute("__fxdriver_unwrapped")||o.WindowAdaptor.workingDocumentElement().hasAttribute("__fxdriver_script_fn")||t.workingWindow.webdriver||t.workingWindow.domAutomation||t.workingWindow.domAutomationController||t.workingWindow._WEBDRIVER_ELEM_CACHE}},{id:n.Browser.PhantomJS,browserDetectionRuleType:n.BrowserDetectionRule.PROPERTIES_ONLY,propertiesRuleFunc:function(){return t.workingWindow._phantom||t.workingWindow.callPhantom||t.workingWindow.phantom||t.workingWindow.__nightmare}},{id:n.Browser.PuppeteerVanilla,browserDetectionRuleType:n.BrowserDetectionRule.PROPERTIES_ONLY,propertiesRuleFunc:function(){var e;return null===(e=t.workingWindow.navigator)||void 0===e?void 0:e.webdriver}},{id:n.Browser.PuppeteerExtraStealth,browserDetectionRuleType:n.BrowserDetectionRule.PROPERTIES_ONLY,propertiesRuleFunc:function(){return t.getIsExtraStealthBrowser()}},{id:n.Browser.ChromeWebView,browserDetectionRuleType:n.BrowserDetectionRule.USER_AGENT_ONLY,userAgentRegex:"(?:wv(.*?))version/[0-9]+(?:.[0-9]+)* chrome/[0-9]+(?:.[0-9]+)* mobile|version/[0-9]+(?:.[0-9]+)* chrome/[0-9]+(?:.[0-9]+)* mobile|(?:wv(.*?))version\\/[0-9]+(?:.[0-9]+)* chrome\\/[0-9]+(?:.[0-9]+)*",versionRegex:"chrome/"},{id:n.Browser.SafariWebView,browserDetectionRuleType:n.BrowserDetectionRule.USER_AGENT_AND_PROPERTIES,userAgentRegex:"(?=.*(iphone|ipod|ipad))(?=^(?:(?!safari).)*$).*$",propertiesRuleFunc:function(){return!t.workingWindow.navigator.standalone}},{id:n.Browser.IE,browserDetectionRuleType:n.BrowserDetectionRule.USER_AGENT_ONLY,userAgentRegex:"msie|trident/7.*rv:11|rv:11.*trident/7|edge/|edg/",versionRegex:"(msie |rv:| edge/|edg/)"},{id:n.Browser.Firefox,browserDetectionRuleType:n.BrowserDetectionRule.PROPERTIES_ONLY,userAgentRegex:"firefox",versionRegex:"firefox/",propertiesRuleFunc:function(){return"number"==typeof t.workingWindow.mozInnerScreenY&&"number"==typeof t.workingWindow.mozPaintCount&&t.workingWindow.InstallTrigger&&t.workingWindow.InstallTrigger.install}},{id:n.Browser.Opera,browserDetectionRuleType:n.BrowserDetectionRule.USER_AGENT_ONLY,userAgentRegex:"opr|opera",versionRegex:"(opr/|version/)"},{id:n.Browser.Chrome,browserDetectionRuleType:n.BrowserDetectionRule.PROPERTIES_ONLY,userAgentRegex:"chrome",versionRegex:"chrome/",propertiesRuleFunc:function(){return t.workingWindow.chrome&&"function"==typeof t.workingWindow.chrome.csi&&"function"==typeof t.workingWindow.chrome.loadTimes&&"boolean"==typeof t.workingDocument.webkitHidden}},{id:n.Browser.Chrome,browserDetectionRuleType:n.BrowserDetectionRule.USER_AGENT_ONLY,userAgentRegex:"crios",versionRegex:"crios/"},{id:n.Browser.Safari,browserDetectionRuleType:n.BrowserDetectionRule.PROPERTIES_ONLY,userAgentRegex:"safari|(os |os x )[0-9].*applewebkit",versionRegex:"version/",propertiesRuleFunc:function(){var e=o.WindowAdaptor.workingDocument()&&o.WindowAdaptor.workingDocument().createElement&&o.WindowAdaptor.workingDocument().createElement("p");if(e)return e.innerText=".",e.setAttribute("style","color:red; border: 1px solid blue;"),(Object.prototype.toString.call(t.workingWindow.HTMLElement).indexOf("Constructor")>0||t.workingWindow.webkitAudioPannerNode&&t.workingWindow.webkitConvertPointFromNodeToPage)&&null!=t.workingWindow.innerWidth&&null!=t.workingWindow.innerHeight&&null!=e.style.textShadow}},{id:n.Browser.Other,browserDetectionRuleType:n.BrowserDetectionRule.USER_AGENT_ONLY,userAgentRegex:"mozilla.*android.*applewebkit(?!.*chrome.*)|linux.*android.*applewebkit.* version/.*chrome"},{id:n.Browser.Other,browserDetectionRuleType:n.BrowserDetectionRule.USER_AGENT_ONLY,userAgentRegex:"aol/.*aolbuild/|aolbuild/.*aol/|puffin|maxthon|valve|silk|playstation|playstation|nintendo|wosbrowser"}],o.WindowAdaptor.isDomlessEnvironment()||(this.workingWindow=o.WindowAdaptor.workingWindow(),this.workingDocument=o.WindowAdaptor.workingDocument(),this.currentUserAgent=(a.DvTagDataObject.getUserAgent()||o.WindowAdaptor.getUserAgent()||"").toLowerCase(),this.browserData=this.determineBrowserType())}return t.prototype.getBrowserId=function(){return this.browserData&&this.browserData.browserId},t.prototype.getBrowserVersion=function(){return this.browserData&&this.browserData.browserVersion},t.prototype.getBrowserIdUserAgent=function(){return this.browserData&&this.browserData.browserIdUserAgent},t.prototype.determineBrowserType=function(){var t,e,i,o,a;try{for(var s=r(this.browsersList),d=s.next();!d.done;d=s.next()){var p=d.value;switch(p.browserDetectionRuleType){case n.BrowserDetectionRule.USER_AGENT_AND_PROPERTIES:this.validateBrowserTypeByUserAgent(p)&&this.validateBrowserTypeByPropertiesRule(p)&&(i=o=p);break;case n.BrowserDetectionRule.USER_AGENT_ONLY:this.validateBrowserTypeByUserAgent(p)&&(i=o=p);break;case n.BrowserDetectionRule.PROPERTIES_ONLY:!i&&p.userAgentRegex&&this.validateBrowserTypeByUserAgent(p)&&(i=p),!o&&this.validateBrowserTypeByPropertiesRule(p)&&(o=p)}if(i&&o)break}}catch(e){t={error:e}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return i==o&&i&&i.versionRegex&&(a=this.determineBrowserVersion(i.versionRegex)),{browserId:o&&o.id,browserVersion:a||"",browserIdUserAgent:i&&i.id}},t.prototype.validateBrowserTypeByUserAgent=function(t){return new RegExp(t.userAgentRegex).test(this.currentUserAgent)},t.prototype.validateBrowserTypeByPropertiesRule=function(t){return t.propertiesRuleFunc()},t.prototype.getIsExtraStealthBrowser=function(){var t,e,i=!1;try{var r=this.workingWindow.navigator&&Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.workingWindow.navigator),"hardwareConcurrency"),n=null===(t=null==r?void 0:r.value)||void 0===t?void 0:t.toString();n||(n=null===(e=null==r?void 0:r.get)||void 0===e?void 0:e.toString()),i=-1==(null==n?void 0:n.indexOf("native code"))}catch(t){}return i},t.prototype.determineBrowserVersion=function(t){var e=new RegExp(t+"[0-9]+(?:.[0-9]+)*"),i=this.currentUserAgent.match(e);if(i)return i[0].replace(this.currentUserAgent.match(new RegExp(t))[0],"")},t}();e.BrowserDetectorClass=s,e.BrowserDetector=new s},2756:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserOmidAdaptorClass=void 0;var r=i(6689),n=i(3380),o=i(194),a=function(){function t(){}return t.prototype.updateVisibilityProperties=function(){},t.prototype.getDevicePixelRatio=function(){},t.prototype.getVisibilityPrefix=function(){return""},t.prototype.isVisibilityChangeEventSupported=function(){return!1},t.prototype.hasFocus=function(){return!0},t.prototype.hasStrictFocus=function(){return!0},t.prototype.addEventListener=function(t,e,i,n){void 0===n&&(n=!1),r.OmidWrapper.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e,i,r){void 0===r&&(r=!1)},t.prototype.setTimeout=function(t,e){return r.OmidWrapper.setTimeout(t,e)},t.prototype.clearTimeout=function(t){r.OmidWrapper.clearTimeout(t)},t.prototype.setInterval=function(t,e){return r.OmidWrapper.setInterval(t,e)},t.prototype.clearInterval=function(t){r.OmidWrapper.clearInterval(t)},t.prototype.isBrowserSupported=function(){var t=[];return"function"==typeof t.filter&&"function"==typeof t.forEach},t.prototype.getAttribute=function(t,e){},t.prototype.getElementsByTagNameFromDocument=function(t,e){return[]},t.prototype.querySelectorAll=function(t,e){return[]},t.prototype.getElementsByClassName=function(t,e){return[]},t.prototype.querySelector=function(t,e){},t.prototype.createElement=function(t,e){throw new Error("createElement failed")},t.prototype.getElementById=function(t,e){},t.prototype.getElementsByTagNameFromDomElement=function(t,e){return[]},t.prototype.getElementType=function(t){},t.prototype.getBoundingClientRect=function(t){return{left:0,right:0,top:0,bottom:0,width:0,height:0}},t.prototype.getObjectSize=function(t){return{width:0,height:0}},t.prototype.getSiblingsNodes=function(t){return[]},t.prototype.getElementChildren=function(t){return[]},t.prototype.getAvailableScreenSize=function(t){return void 0===t&&(t=!0),{height:0,width:0}},t.prototype.getScreenSize=function(){return{height:0,width:0}},t.prototype.getInnerViewport=function(t){return void 0===t&&(t=!0),{height:0,width:0}},t.prototype.getOuterViewport=function(t,e){return void 0===e&&(e=!0),{height:0,width:0}},t.prototype.getViewportAssetsRelativeToScreen=function(t){return{top:0,left:0}},t.prototype.getIframeAssetsRelativeToScreen=function(t){return{top:0,left:0}},t.prototype.getScrollData=function(t){return{left:0,top:0}},t.prototype.smartInstanceof=function(t,e,i){return!1},t.prototype.getNavigationStartTime=function(){},t.prototype.getElementSize=function(t){return{width:0,height:0}},t.prototype.getElementStaticSize=function(t){return{width:0,height:0}},t.prototype.sendBeacon=function(t,e,i){r.OmidWrapper.sendUrl(n.Utilities.appendCacheBuster(t,o.DvObject.getCacheBusterName()))},t.prototype.insertBefore=function(t,e,i){},t.prototype.addScriptAsync=function(t,e,i,n,o,a){r.OmidWrapper.injectJavaScriptResource(t,a&&a.bind(null),o&&o.bind(null))},t.prototype.addScriptSync=function(t,e){r.OmidWrapper.injectJavaScriptResource(t)},t.prototype.createIframe=function(t){throw new Error("createIframe failed")},t.prototype.addIframeAfterBodyTag=function(t){throw new Error("addIframeAfterBodyTag failed")},t.prototype.isElementAttachedToDocument=function(t){return!0},t.prototype.getParentNode=function(t){},t.prototype.getOrientation=function(){},t.prototype.isAdElementHidden=function(t){return 0},t.prototype.getMetaTagAttributes=function(t,e){return{}},t}();e.BrowserOmidAdaptorClass=a},8379:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.NOT_FOUND_OR_ERROR=e.OmidGeometryReasonLog=e.OmidEvents=e.dvIframeAttribute=e.CallbackPrefix=e.HttpProtocol=e.ViewabilityConstants=e.BeaconConstants=void 0;var i=function(){function t(){}return t.TOTAL_BEACONS=14,t.JS_BEACON_SIZE=8,t.FLASH_BEACON_SIZE=1,t.FLASH_BEACON_URL="https://cdn.zentrick.com/openvv/2.5.4/OVVBeacon.swf",t.FRAME_RATE_CONTROL_THRESHOLD=7,t.FRAME_RATE_VIEW_THRESHOLD=5,t.SQRT_2=Math.sqrt(2),t}();e.BeaconConstants=i;var r=function(){function t(){}return t.IAB={DisplayMinimalDuration:1e3,VideoMinimalDuration:2e3,DisplayMinimalLargeAdArea:242500,MinimalAdAreaPercentageForStandardSize:50,DisplayMinimalAdAreaPercentageForLargeSize:30},t.GroupM={DisplayMinimalDuration:100,VideoMinimalDuration:15e3,VideoMinimalDurationPercentage:50,DisplayMinimalLargeAdArea:242500,VideoMinimalLargeAdArea:3e5,MinimalAdAreaPercentageForStandardSize:98,DisplayMinimalAdAreaPercentageForLargeSize:0,VideoMinimalAdAreaPercentageForLargeSize:80},t.GroupMV4={DisplayMinimalDuration:1e3,VideoMinimalDuration:15e3,VideoMinimalDurationPercentage:50,DisplayMinimalLargeAdArea:242500,VideoMinimalLargeAdArea:3e5,MinimalAdAreaPercentageForStandardSize:98,DisplayMinimalAdAreaPercentageForLargeSize:50,VideoMinimalAdAreaPercentageForLargeSize:80},t.PMX={DisplayMinimalDuration:1e3,VideoMinimalDuration:2e3,DisplayMinimalLargeAdArea:242500,VideoMinimalLargeAdArea:3e5,MinimalAdAreaPercentageForStandardSize:98,DisplayMinimalAdAreaPercentageForLargeSize:30,VideoMinimalAdAreaPercentageForLargeSize:50},t.CustomAdvertiserViewabilityStandard={DisplayMinimalLargeAdArea:242500,VideoMinimalLargeAdArea:3e5},t.RB={MinimalAdAreaPercentageForStandardSize:50},t}();e.ViewabilityConstants=r;var n=function(){function t(){}return t.Http="http:",t.Https="https:",t}();e.HttpProtocol=n,e.CallbackPrefix="dvCallback_",e.dvIframeAttribute="data-dv-frm",e.OmidEvents={sessionStart:1,sessionError:2,sessionFinish:4,impression:8,geometryChange:16,loaded:32,start:64,midpoint:128,thirdQuartile:256,complete:512,pause:1024,resume:2048,bufferStart:4096,skipped:8192,volumeChange:16384,playerStateChange:32768,adUserInteraction:65536},e.OmidGeometryReasonLog={notFound:1,hidden:2,backgrounded:4,obstructed:8,clipped:16},e.NOT_FOUND_OR_ERROR=-1},8962:function(t,e,i){var r=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.dvDefineProperty=e.getTagUniqueKeyFromVisitScriptElement=void 0;var n=i(194),o=i(3868),a=i(7749);function s(){var t="";if(!o.WindowAdaptor.isDomlessEnvironment()){var e=o.WindowAdaptor.getCurrentScript();e&&e.id&&e.src&&e.src.indexOf(a.DvTagDataObject.getInitPath())>-1&&(t=r(e.id.split("_"),2)[1])}return t}function d(t,e){t.dvDefinedProps||(t.dvDefinedProps={}),t.dvDefinedProps[e]||(t.dvDefinedProps[e]=!0,Object.defineProperty(t,e,{set:function(t){this.value=t},get:function(){var t=s();if(t){var i=n.DvObject.getDvObject().tagData[t];return i&&i[e]}}}))}if(e.getTagUniqueKeyFromVisitScriptElement=s,e.dvDefineProperty=d,n.DvObject.isRestrictedAccess()&&o.WindowAdaptor.getCurrentScript()){var p=o.WindowAdaptor.currentWindow();["$frmId","$uid"].forEach((function(t){return d(p,t)}))}},194:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DvObject=e.DvObjectClass=void 0;var r=i(712),n=i(8379),o=i(6875),a=function(){function t(){}return t.prototype.setDvGetOmidVerificationClient=function(t){this.dvGetOmidVerificationClient=t},t.prototype.getDvGetOmidVerificationClient=function(){return this.dvGetOmidVerificationClient},t.prototype.getDvObject=function(){if("undefined"!=typeof $dv)return $dv;var t=o.getCurrentWindow();if(t&&t.$dv)return t.$dv;var e=o.getWorkingWindow();return e&&e.$dv?e.$dv:{}},t.prototype.getTagUniqueKey=function(){return o.getTagUniqueKey()},t.prototype.getTagCounter=function(){return this.getDvObject().tagsCounter},t.prototype.getSharedUniqueKey=function(){return this.getDvObject().sharedUniqueKey},t.prototype.getTagScriptElem=function(){return this.getTagData().tagScriptElem},t.prototype.isES6Supported=function(){return!!this.getTagData().isES6Supported},t.prototype.hasTagData=function(){return!!this.getDvObject().tagData},t.prototype.getTagData=function(){var t=this.getDvObject(),e=this.getTagUniqueKey(),i=t.tagData[e];if(!i)throw new Error("tagData not found for tuk = "+e);return i},t.prototype.getDvtpScriptVersion=function(){return this.getTagData().dvtpScriptVersion},t.prototype.isRestrictedAccess=function(){return!!this.getDvObject().restrictedAccess},t.prototype.isInjectedAsSibling=function(){return this.hasTagData()&&!!this.getTagData().injectedAsSibling},t.prototype.isOmidForWeb=function(){return!!this.getTagData().isOmidForWeb},t.prototype.isOmid3p=function(){return!!this.getTagData().isOmid3p},t.prototype.getDvtpScriptUrl=function(){return this.getTagData().dvtpScriptUrl||""},t.prototype.getTagLoadedMS=function(){return this.getTagData().tagLoadedMS||0},t.prototype.getTagReadyState=function(){return this.getTagData().tagReadyState||"loading"},t.prototype.getVisitReadyState=function(){return this.getTagData().visitReadyState||"loading"},t.prototype.setVisitReadyState=function(t){void 0===t&&(t="loading"),this.getTagData().visitReadyState=t},t.prototype.getVisitInjectedMS=function(){return this.getTagData().visitInjectedMS||0},t.prototype.setVisitInjectedMS=function(t){void 0===t&&(t=0),this.getTagData().visitInjectedMS=t},t.prototype.getTagExecTimeMs=function(){return this.getTagData().tagExecTimeMs||0},t.prototype.setImpressionIdOnTagData=function(t){this.getTagData().$uid=t},t.prototype.setImpressionId=function(t){this.impressionId=t,this.setImpressionIdOnTagData(t)},t.prototype.getImpressionIdFromTagData=function(){return this.getTagData().$uid},t.prototype.getImpressionId=function(t){if(this.isRestrictedAccess()){var e=this.getImpressionIdFromTagData();if(e)return e}return t&&t.$uid?t.$uid:"undefined"!=typeof $uid?$uid:void 0},t.prototype.getFrameIdFromTagData=function(){return this.getTagData().$frmId},t.prototype.getFrameId=function(t){if(this.isRestrictedAccess()){var e=this.getFrameIdFromTagData();if(e)return e}return t&&t.$frmId?t.$frmId:"undefined"!=typeof $frmId?$frmId:void 0},t.prototype.getScriptUrl=function(){return this.getTagData().dvtpScriptUrl},t.prototype.getProtocol=function(){return 0===(this.getScriptUrl()||"").indexOf(n.HttpProtocol.Http)?n.HttpProtocol.Http:n.HttpProtocol.Https},t.prototype.getJSVersion=function(){return this.getTagData().dvtpScriptVersion},t.prototype.publishPubSubEvent=function(t,e,i){void 0===e&&(e=this.impressionId),void 0===i&&(i={}),this.getDvObject()&&this.getDvObject().pubSub&&t&&e&&this.getDvObject().pubSub.publish(t,e,i)},t.prototype.getDisplayCustomViewabilityConditions=function(){var t=this.getDvObject().tags[this.impressionId].cvmSettings;if(null!=t&&null!=t.adArea&&null!=t.duration&&null!=t.measureType)return{minimalAdAreaPercentage:t.adArea,minimalAdDuration:t.duration,consecutiveMode:"consecutive"==t.measureType.toLowerCase()}},t.prototype.getDisplayCustomStandardViewabilityConditions=function(){var t=this.getDvObject().tags[this.impressionId].csd;if(null!=t&&null!=t.adView&&null!=t.adDurationCap&&null!=t.isConsecutive&&null!=t.adSize)return{minimalAdAreaPercentage:t.adView,minimalAdDuration:t.adDurationCap,consecutiveMode:t.isConsecutive,minimalAdSize:t.adSize}},t.prototype.getVideoCustomViewabilityConditions=function(){var t=this.getDvObject().tags[this.impressionId].videoCustom;if(null!=t&&null!=t.adView&&null!=t.adDurationCap&&null!=t.isConsecutive&&null!=t.hasVolume)return{minimalAdAreaPercentage:t.adView,minimalAdDuration:t.adDurationCap,consecutiveMode:t.isConsecutive,requireVolume:t.hasVolume}},t.prototype.getVideoCustomStandardViewabilityConditions=function(){var t=this.getDvObject().tags[this.impressionId].csv;if(null!=t&&null!=t.adView&&null!=t.adDurationCap&&null!=t.isConsecutive&&null!=t.hasVolume&&null!=t.playerSize)return{minimalAdAreaPercentage:t.adView,minimalAdDuration:t.adDurationCap,minimalAdDurationPercent:t.adDurationPercent,minimalAdSize:t.playerSize,consecutiveMode:t.isConsecutive,requireVolume:t.hasVolume}},t.prototype.getCustomAdvertiserViewabilitySettings=function(){var t,e,i=this.getDvObject();if(i&&i.tags&&this.impressionId&&(t=$dv.tags[this.impressionId])&&(e=t.cavs)&&null!=e.standardType){var r=e.regularAd,n=e.largeAd;return{standardType:e.standardType,conditions:{regularAd:r,largeAd:n}}}},t.prototype.getKMEVideoViewabilityConditions=function(){var t=this.getDvObject().tags[this.impressionId].videoBrandVisibilty;if(null!=t&&null!=t.adView&&null!=t.adStart&&null!=t.adEnd&&null!=t.hasVolume)return{minimalAdAreaPercentage:t.adView,timeLineLeftBoundary:t.adStart,timeLineRightBoundary:t.adEnd,requireVolume:t.hasVolume}},t.prototype.getAllowJsCallback=function(){return this.getAvoParam("ajscb")},t.prototype.getIsOffScreen=function(){return this.getAvoParam("ofs")},t.prototype.getConsolidationTimeout=function(){var t=this.getAvoParam("cto");if(t&&!isNaN(t))return t},t.prototype.getIsReducedAdLocatorLatency=function(){var t=this.getAvoParam("int");if(t&&!isNaN(t))return t},t.prototype.isMobileWeb=function(){return this.getDetectedDeliveryType()==r.DetectedDeliveryType.MobileWeb},t.prototype.isMobileApp=function(){return this.getDetectedDeliveryType()==r.DetectedDeliveryType.MobileApp},t.prototype.isCTV=function(){return this.getDetectedDeliveryType()==r.DetectedDeliveryType.Ctv},t.prototype.isMobile=function(){return this.isMobileWeb()||this.isMobileApp()},t.prototype.getDetectedDeliveryType=function(){try{if(this.detectedDeliveryType||!this.impressionId)return this.detectedDeliveryType;var t=this.getDvObject().tags[this.impressionId].detectedDeliveryType;return null!=t?(this.detectedDeliveryType=t,this.detectedDeliveryType):(this.detectedDeliveryType=this.getDvObject().CommonData.detectedDeliveryType,this.detectedDeliveryType)}catch(t){}},t.prototype.isSpotxMode=function(){var t=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(t=!!this.getDvObject().tags[this.impressionId].spotXmode),t},t.prototype.getCacheBusterName=function(){var t="cbust";return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&this.getDvObject().tags[this.impressionId].cbust&&(t=this.getDvObject().tags[this.impressionId].cbust),t},t.prototype.getAllowRBViewability=function(){var t=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(t=this.getDvObject().tags[this.impressionId].allowRB),t},t.prototype.getFireOnlyImportantEvents=function(){var t=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(t=this.getDvObject().tags[this.impressionId].foie),t},t.prototype.isSIVTImpression=function(){var t=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(t=!!this.getDvObject().tags[this.impressionId].bgm),t},t.prototype.isGroupMV4VideoNativeImpression=function(){var t=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(t=!!this.getDvObject().tags[this.impressionId].gmv4ntv),t},t.prototype.isFocusStrictMode=function(){return this.getAvoParam("fcs")},t.prototype.isFlashSupported=function(){return this.getAvoParam("fls")},t.prototype.getDoubleTagImpressionID=function(){var t=this.getAdTagData();if(t&&t.dup&&"null"!=t.dup)return t.dup},t.prototype.getAvoParam=function(t){var e,i=this.getAdTagData();return i&&i.AVO&&(e=i.AVO[t]),e},t.prototype.getAdTagData=function(){var t,e=this.impressionId;return this.getDvObject().tags&&this.getDvObject().tags[e]&&(t=this.getDvObject().tags[e]),t},t}();e.DvObjectClass=a,e.DvObject=new a},7749:function(t,e,i){var r=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.DvTagDataObject=e.DvTagDataObjectClass=void 0;var n=i(3868),o=i(712),a=i(749),s=i(3380),d=i(6689),p=i(425),c=i(194),u=i(7658),l=i(630),f=function(){function t(){this.paramsCaseInsensitive={},this.paramsCaseSensitive={},this.serverPrefix="https://tps.doubleverify.com/",this.initPath="visit.js",this.errorPath="visit.jpg",this.eventPath="event.png"}return t.prototype.start=function(){this.setDvScript(),this.setDvScriptUrl(),this.dvtpScriptUrl||a.MessageHandler.sendError(o.ClientErrorType.DvTagArrangementError,new Error("url is missing")),this.setDVParam(),this.setCustomURLs()},t.prototype.getScriptElementExtractionMethod=function(){return this.scriptElementExtractionMethod},t.prototype.getParamUrlExtractionMethod=function(){return this.paramUrlExtractionMethod},t.prototype.getDVScriptUrl=function(){return this.dvtpScriptUrl},t.prototype.getDVScript=function(){return this.scriptElement},t.prototype.getCaseSensitiveParams=function(){return this.paramsCaseSensitive},t.prototype.getLowerCaseParams=function(){return this.paramsCaseInsensitive},t.prototype.getTagType=function(){return!this.paramsCaseInsensitive.tagtype||"video"!=this.paramsCaseInsensitive.tagtype.toLowerCase()&&"1"!=this.paramsCaseInsensitive.tagtype?o.DvTagType.Display:o.DvTagType.Video},t.prototype.getTagFormat=function(){return this.paramsCaseInsensitive.tagformat},t.prototype.isTagTypeValid=function(){return!this.paramsCaseInsensitive.tagtype||-1!=["display","0","video","1"].indexOf(this.paramsCaseInsensitive.tagtype.toLowerCase())},t.prototype.getClientCode=function(){return this.paramsCaseInsensitive.ctx},t.prototype.getPlacementId=function(){return this.paramsCaseInsensitive.plc},t.prototype.getAdServerSiteCode=function(){return this.paramsCaseInsensitive.sid},t.prototype.getDvApi=function(){return this.paramsCaseInsensitive.dvapi},t.prototype.getT2te=function(){return this.paramsCaseInsensitive.t2te},t.prototype.getAdServerCampaignCode=function(){return this.paramsCaseInsensitive.cmp},t.prototype.getGDPRAndGDPRConsentQueryStringPart=function(){var t=this.paramsCaseInsensitive.gdpr,e=this.paramsCaseInsensitive.gdpr_consent;return[[u.TPSDataMapping.gdpr,t],[u.TPSDataMapping.gdpr_consent,e]].map((function(t){var e=r(t,2),i=e[0],n=e[1];return i+"="+encodeURIComponent(n||"")})).join("&")+"&"},t.prototype.getClientData=function(){return{ctx:this.getClientCode()||818052,cmp:this.getAdServerCampaignCode()||1619415,sid:this.getAdServerSiteCode()||0,plc:this.getPlacementId()||0}},t.prototype.getAdID=function(){return this.paramsCaseInsensitive.dvp_gvacb||this.paramsCaseInsensitive.adid},t.prototype.getBtreg=function(){return this.paramsCaseInsensitive.btreg},t.prototype.getUserAgent=function(){return this.paramsCaseInsensitive.useragent},t.prototype.getFindClass=function(){return"1"==this.paramsCaseInsensitive.findclass},t.prototype.getAdServerId=function(){return this.paramsCaseInsensitive.adsrv},t.prototype.getBtadsrv=function(){return this.paramsCaseInsensitive.btadsrv},t.prototype.getCustomTags=function(){return this.getArrayedParams("bttag","|")},t.prototype.getCustomAttributes=function(){return this.getArrayedParams("btattb","|")},t.prototype.isSellerTag=function(){return 1==this.paramsCaseInsensitive.seltag},t.prototype.getSupplySource=function(){return this.paramsCaseInsensitive.sup},t.prototype.getVastUrl=function(){return this.paramsCaseInsensitive.wrapperurl},t.prototype.getSellerAdSize=function(){var t={width:0,height:0},e=this.paramsCaseInsensitive.unit;if(e){var i=e.toLowerCase().split("x");if(i[0]&&i[1])try{var r=parseInt(i[0]),n=parseInt(i[1]);isNaN(r)||isNaN(n)||(t.width=r,t.height=n)}catch(t){}}return t},t.prototype.setDVParam=function(){try{var t=this.getDVScriptUrl();if(!t)return;for(var e=new RegExp("[\\?\\#&]([^&#?]*)=([^&#?]*)","gi"),i=e.exec(t);null!=i;){var r=i[1].trim();if(""!=i[2]){var n=r.toLowerCase();this.paramsCaseInsensitive[n]=s.Utilities.isNullOrEmpty(this.paramsCaseInsensitive[n])?i[2]:this.paramsCaseInsensitive[n],this.paramsCaseSensitive[r]=s.Utilities.isNullOrEmpty(this.paramsCaseSensitive[r])?i[2]:this.paramsCaseSensitive[r]}i=e.exec(t)}}catch(t){a.MessageHandler.sendError(o.ClientErrorType.DvTagArrangementError,t)}},t.prototype.setCustomURLs=function(){},t.prototype.getArrayedParams=function(t,e){var i=[],r=this.paramsCaseInsensitive[t];return r&&r.length>0&&(i=r.split(e)),i},t.prototype.getServerPrefix=function(){return this.serverPrefix},t.prototype.setServerPrefix=function(t){this.serverPrefix=t},t.prototype.getInitPath=function(){return this.initPath},t.prototype.getErrorPath=function(){return this.errorPath},t.prototype.getEventPath=function(){return this.eventPath},t.prototype.setDvScriptUrl=function(){try{var t=n.WindowAdaptor.currentWindow().dvSrc?"dvtp_src_omid":"dvtp_src";if(d.OmidWrapper.isSupported()&&d.OmidWrapper.getVerificationParameters())return this.setOmidScript(t),void(this.paramUrlExtractionMethod=1);var e=c.DvObject.getDvtpScriptUrl();if(e)return this.dvtpScriptUrl=e,void(this.paramUrlExtractionMethod=2);this.scriptElement&&this.scriptElement.src&&(this.dvtpScriptUrl=this.scriptElement.src,this.paramUrlExtractionMethod=3)}catch(t){this.paramUrlExtractionMethod=4}},t.prototype.setDvScript=function(){try{if(d.OmidWrapper.isSupported()&&d.OmidWrapper.getVerificationParameters())return this.scriptElementExtractionMethod=t.ScriptElementExtractionMethodState.Omid,void(this.scriptElement={});var e=c.DvObject.getTagScriptElem();if(this.scriptElementExtractionMethod=t.ScriptElementExtractionMethodState.ExtractFromTagData,!e){var i="https://cdn.doubleverify.com/"+(n.WindowAdaptor.currentWindow().dvSrc?"dvtp_src_omid":"dvtp_src")+".js?",r=p.BrowserAdaptor.getElementsByTagNameFromDocument("script").filter((function(t){return 0===t.src.indexOf(i)})).filter((function(t){return 1!=t.dvvisit}));if(0==r.length)return this.scriptElementExtractionMethod=t.ScriptElementExtractionMethodState.NotFound,void a.MessageHandler.sendError(o.ClientErrorType.UnexpectedLostImpError,new Error("scriptElement did not find"));e=r[0],this.scriptElementExtractionMethod=t.ScriptElementExtractionMethodState.FoundInDom}this.scriptElement=e,this.scriptElement.dvvisit=1}catch(t){t.message="missing element "+t.message,a.MessageHandler.sendError(o.ClientErrorType.DvTagArrangementError,t)}},t.prototype.handleOmidForWebVerificationParams=function(){var t=d.OmidWrapper.getVerificationParameters(),e=this.extractParamsToObjFromStr(t);return e=this.manipulateOmidForWebParams(e),t=s.Utilities.serializeObjectToQueryString(e,!0)},t.prototype.extractParamsToObjFromStr=function(t){for(var e={},i=new RegExp("([^&#?]*)=([^&#?]*)","gi"),r=i.exec(t);null!=r;){if(!s.Utilities.isNullOrEmpty(r[1])&&!s.Utilities.isNullOrEmpty(r[2])){var n=r[1].trim(),o=r[2].trim();n&&o&&(e[n]=o)}r=i.exec(t)}return e},t.prototype.manipulateOmidForWebParams=function(t){var e={};Object.keys(t).forEach((function(i){e[i.toLowerCase()]=t[i]}));var i=e.ctx,r=e.cmp,n=e.plc,o=e.adsrv,a=e.sid;return e.dvp_ctx=i,e.dvp_cmp=r,e.dvp_plc=n,e.dvp_adsrv=o,e.dvp_sid=a,e.ctx="818052",e.cmp="DV517581",e.plc="20210517001",e.adsrv="0",e.sid="OMIDWeb",e.hasOwnProperty("dup")&&(e.dvp_dup=e.dup,delete e.dup),e},t.prototype.isParamManipulationRequired=function(){var t=d.OmidWrapper.getOmidAccessMode()||"",e=d.OmidWrapper.getOmidScenarioType()===l.OmidScenarioType.WEB,i=c.DvObject.isOmid3p();return e&&l.OmidAccessModeString.LIMITED==t||i&&e},t.prototype.setOmidScript=function(t){if(this.isParamManipulationRequired()){var e=this.handleOmidForWebVerificationParams();this.dvtpScriptUrl="https://cdn.doubleverify.com/"+t+".js#"+e}else this.dvtpScriptUrl="https://cdn.doubleverify.com/"+t+".js#"+d.OmidWrapper.getVerificationParameters();this.scriptElement.src=this.dvtpScriptUrl},t.ScriptElementExtractionMethodState={Omid:1,ExtractFromTagData:2,FoundInDom:3,NotFound:4},t}();e.DvTagDataObjectClass=f,e.DvTagDataObject=new f},5903:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Encoding=e.EncodingClass=void 0;var i=function(){function t(){}return t.prototype.ROT47=function(t){return this.ROTn(t,"!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~")},t.prototype.sha1hash=function(t){if(!t)return"";for(var e,i,r,n,o,a=[1518500249,1859775393,2400959708,3395469782],s=(t+=String.fromCharCode(128)).length/4+2,d=Math.ceil(s/16),p=new Array(d),c=new Array(80),u=1732584193,l=4023233417,f=2562383102,v=271733878,h=3285377520,y=0;y<d;y++){p[y]=new Array(16);for(var m=0;m<16;m++)p[y][m]=t.charCodeAt(64*y+4*m)<<24|t.charCodeAt(64*y+4*m+1)<<16|t.charCodeAt(64*y+4*m+2)<<8|t.charCodeAt(64*y+4*m+3)}p[d-1][14]=8*(t.length-1)/Math.pow(2,32),p[d-1][14]=Math.floor(p[d-1][14]),p[d-1][15]=8*(t.length-1)&4294967295;for(y=0;y<d;y++){for(var g=0;g<16;g++)c[g]=p[y][g];for(g=16;g<80;g++)c[g]=this.ROTL(c[g-3]^c[g-8]^c[g-14]^c[g-16],1);e=u,i=l,r=f,n=v,o=h;for(g=0;g<80;g++){var w=Math.floor(g/20),b=this.ROTL(e,5)+this.f(w,i,r,n)+o+a[w]+c[g]&4294967295;o=n,n=r,r=this.ROTL(i,30),i=e,e=b}u=u+e&4294967295,l=l+i&4294967295,f=f+r&4294967295,v=v+n&4294967295,h=h+o&4294967295}return this.toHexStr(u)+this.toHexStr(l)+this.toHexStr(f)+this.toHexStr(v)+this.toHexStr(h)},t.prototype.f=function(t,e,i,r){switch(t){case 0:return e&i^~e&r;case 1:case 3:return e^i^r;case 2:return e&i^e&r^i&r}},t.prototype.ROTn=function(t,e){var i,r,n,o=String(),a=e.length;for(i=0;i<t.length;i++)n=t.charAt(i),(r=e.indexOf(n))>=0&&(n=e.charAt((r+a/2)%a)),o+=n;return o},t.prototype.ROTL=function(t,e){return t<<e|t>>>32-e},t.prototype.toHexStr=function(t){for(var e="",i=7;i>=0;i--)e+=(t>>>4*i&15).toString(16);return e},t}();e.EncodingClass=i,e.Encoding=new i},712:function(t,e){var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptDynamicFlagsEnum=e.OmidAccessMode=e.CeltraTagLocatorMethod=e.GDPRCode=e.Quartile=e.ImpressionSessionTime=e.TimeInMs=e.ClientErrorType=e.ScriptExecIndicator=e.StandardSizeThreshold=e.StandardSizeType=e.NumberSubType=e.ViewableShareOfScreenNotViewReason=e.OmidImpressionReason=e.OmidGeometryLog=e.ExposureQuartileBitwise=e.HiddenAdsReason=e.MatchingTypesMessages=e.OmidSupports=e.DeviceOS=e.AdDurationCalculationType=e.AutoplayMethods=e.ReportType=e.DvTagType=e.CalculateVideoAdSizeMethod=e.EngagementAudience=e.VideoPlaybackIndicator=e.IntegrationType=e.ViewabilityIntegrationType=e.OrientationType=e.PlayerSize=e.NotViewableReason=e.BeaconPosition=e.AdCandidateState=e.BrowserDetectionRule=e.ElementTagType=e.Browser=e.Scenario=e.DetectedDeliveryType=e.FocusState=e.AdSizeState=e.VolumeState=e.BlResponse=e.ViewabilityCalculationType=e.LocatorPriority=e.LocatorMethods=void 0;var n=function(){function t(){}return t.DisplayIntegratedCeltra=1,t.DisplayDFA=2,t.DisplayFindClass=4,t.DefaultInApp=8,t.DisplayMediaPlex=16,t.DisplayParentWindow=32,t.DisplayRegex=64,t.DisplayNearestAd=128,t.DisplayIframeFallback=256,t.DisplaySpotX=512,t.VideoInAppHtml5=1024,t.VideoNonInAppVpaid=2048,t.VideoInAppVpaid=4096,t.DisplaySellerTag=8192,t.DisplayOmid=16384,t.VideoInAppInmobi=32768,t.DisplayNonIntegratedCeltra=65536,t.CustomDisplayMediaPlex=1<<17,t.CustomDisplayRegex=1<<18,t.CustomDisplaySellerTag=1<<19,t}();e.LocatorMethods=n;var o=function(){function t(){}return t.DisplaySellerTag=1e5,t.CustomDisplaySellerTag=1e5,t.DisplayIntegratedCeltra=9e3,t.DisplayMediaPlex=1e4,t.CustomDisplayMediaPlex=1e4,t.DisplaySpotX=1e4,t.DisplayRegex=1e3,t.CustomDisplayRegex=1e3,t.DisplayFindClass=1e3,t.DisplayParentWindow=900,t.DisplayDFA=250,t.DisplayNonIntegratedCeltra=120,t.DisplayNearestAd=100,t.DisplayIframeFallback=1,t.DisplayOmid=1e5,t.DefaultInApp=11e3,t.VideoNonInAppVpaid=1,t.VideoInAppHtml5=100,t.VideoInAppVpaid=200,t.VideoInAppInmobi=1e4,t}();e.LocatorPriority=o;var a=function(){function t(){}return t.Geometric=1,t.ResourceBased=2,t.FlashBeacons=4,t.SafeFrameGeometric=8,t.SafeFramePercentage=16,t.AmpIntersectionObserver=32,t.ScreenGeometric=64,t.Mraid=128,t.IntersectionObserver=512,t.Omid=1024,t.AdColonyMraid=2048,t.Mraid3=4096,t}();e.ViewabilityCalculationType=a;var s=function(){function t(){}return t.Updated=1,t.NotUpdated=2,t}();e.BlResponse=s;var d=function(){function t(){}return t.Decrease=1,t.Increase=2,t.Mute=3,t.Unmute=4,t.NoChange=5,t}();e.VolumeState=d;var p=function(){function t(){}return t.Decrease=1,t.Increase=2,t.NoChange=3,t}();e.AdSizeState=p;var c=function(){function t(){}return t.In=1,t.Out=2,t.NoChange=3,t}();e.FocusState=c;var u=function(){function t(){}return t.Unknown=0,t.Desktop=1,t.MobileWeb=2,t.MobileApp=3,t.Ctv=4,t}();e.DetectedDeliveryType=u;var l=function(){function t(){}return t.OnPage=1,t.SameDomain=2,t.CrossDomain=128,t.Domless=4,t.Restricted=8,t.InjectedAsSibling=16,t}();e.Scenario=l;var f=function(){function t(){}return t.IE=1,t.Firefox=2,t.Chrome=3,t.Opera=4,t.Safari=5,t.ChromeWebView=6,t.SafariWebView=7,t.PuppeteerExtraStealth=96,t.PuppeteerVanilla=97,t.Selenium=98,t.PhantomJS=99,t.Other=0,t}();e.Browser=f;var v=function(){function t(){}return t.IFRAME=1,t.SPAN=2,t.DIV=3,t.HTML=4,t.VIDEO=5,t.IMG=6,t.CANVAS=7,t.SVG=8,t.VIDEO_CANVAS=9,t.OTHER=0,t}();e.ElementTagType=v;var h=function(){function t(){}return t.USER_AGENT_ONLY=1,t.PROPERTIES_ONLY=2,t.USER_AGENT_AND_PROPERTIES=3,t}();e.BrowserDetectionRule=h;var y=function(){function t(){}return t.Unresolved=1,t.Selected=2,t.Destroyed=3,t.Unauthorized=4,t}();e.AdCandidateState=y;var m=function(){function t(){}return t.CONTROL=0,t.OUTER_TOP_LEFT=1,t.OUTER_TOP_RIGHT=2,t.OUTER_BOTTOM_LEFT=3,t.OUTER_BOTTOM_RIGHT=4,t.CENTER=5,t.MIDDLE_TOP_LEFT=6,t.MIDDLE_TOP_RIGHT=7,t.MIDDLE_BOTTOM_LEFT=8,t.MIDDLE_BOTTOM_RIGHT=9,t.INNER_TOP_LEFT=10,t.INNER_TOP_RIGHT=11,t.INNER_BOTTOM_LEFT=12,t.INNER_BOTTOM_RIGHT=13,t}();e.BeaconPosition=m;var g=function(){function t(){}return t.Focus=1,t.Viewport=2,t.PixelThreshold=3,t.TimeThreshold=4,t.ConsecutiveTime=5,t.Unknown=6,t.VideoNeverPlayed=7,t}();e.NotViewableReason=g;var w=function(){function t(){}return t.Unknown=0,t.PlayerSizeLowerThan300x250=1,t.PlayerSizeBetween301x251To399x299=2,t.PlayerSizeBetween400x300To639x479=3,t.PlayerSizeGreaterThan640x480=4,t}();e.PlayerSize=w;var b=function(){function t(){}return t.Unknown=0,t.Portrait=1,t.Landscape=2,t}();e.OrientationType=b;var S=function(){function t(){}return t.Unknown=0,t.Ovv=1,t.Html5=2,t.IosSdk=3,t.AndroidSDK=4,t.Mraid=5,t.Omid=6,t}();e.ViewabilityIntegrationType=S;var D=function(){function t(){}return t.NoneSupported=0,t.Vpaid=1,t.Mraid=2,t.Omid=4,t.OmidWeb=8,t}();e.IntegrationType=D;var _=function(){function t(){}return t.Unknown=0,t.Vpaid=1,t.Html5=2,t.Omid=3,t.AdColony=4,t.Inmobi=5,t}();e.VideoPlaybackIndicator=_;var E=function(){function t(){}return t.Disengaged=1,t.Engaged=2,t.NoEngagement=3,t.Interested=4,t}();e.EngagementAudience=E;var A=function(){function t(){}return t.CalculateVideoAdSizeByUnknown=0,t.CalculateVideoAdSizeByDefault=1,t.CalculateVideoAdSizeBySlot=2,t.CalculateVideoAdSizeByHTML=3,t}();e.CalculateVideoAdSizeMethod=A;var T=function(){function t(){}return t.Display=0,t.Video=1,t}();e.DvTagType=T;var O=function(){function t(){}return t.All=0,t.TPS=1,t.RTS=2,t}();e.ReportType=O;var C=function(){function t(){}return t.AutoplayAttribute=1,t.JWPlayer=2,t.Timing=4,t}();e.AutoplayMethods=C;var V=function(){function t(){}return t.Unknown=0,t.Vpaid=1,t.FirstQuartile=2,t.SecondQuartile=3,t.adComplete=4,t.Inmobi=5,t}();e.AdDurationCalculationType=V;var M=function(){function t(){}return t.Android=5,t.IOS=6,t}();e.DeviceOS=M;var P=function(){function t(){}return t.Clid=1,t.Vlid=2,t}();e.OmidSupports=P;var I=function(){function t(){}return t.Broadcast=17381297349,t.Match=23483290480,t}();e.MatchingTypesMessages=I;var B=function(){function t(){}return t.Stacked=1,t.HiddenVisibility=2,t.NoneDisplay=4,t.ZeroSize=8,t}();e.HiddenAdsReason=B;var j=function(){function t(){}return t.Viewed=1,t.Audible=2,t.Completed=4,t.FullAudible=8,t.FullOnScreen=16,t}();e.ExposureQuartileBitwise=j;var L=function(){function t(){}return t.EventNotNull=1,t.EventDataNotNull=2,t.EvenDataAdViewNotNull=4,t.EvenDataAdViewGeometryNotNull=8,t.EvenDataAdViewPercentageInViewGreaterThanZero=16,t.EvenDataAdViewGeometryWidthGreaterThanZero=32,t.EvenDataAdViewGeometryHeightGreaterThanZero=64,t.EvenDataAdViewPercentageInViewEqualToZero=128,t.EvenDataAdViewOnSceenGeometryNotNull=256,t.EvenDataAdViewOnSceenGeometryXOrYGreaterThanZero=512,t.EvenDataAdViewOnSceenGeometryAdGreaterThanZero=1024,t.EvenDataAdViewContainerGeometryNotNull=2048,t.EvenDataAdViewContainerGeometryXOrYGreaterThanZero=4096,t.EvenDataAdViewContainerGeometryAdGreaterThanZero=8192,t.EvenDataAdViewOnScreenContainerGeometryNotNull=16384,t.EvenDataAdViewOnScreenContainerGeometryXOrYGreaterThanZero=32768,t.EvenDataAdViewOnScreenContainerGeometryAdGreaterThanZero=65536,t}();e.OmidGeometryLog=L;var R=function(){function t(){}return t.ImpressionFromImpressionEvent=1,t.ImpressionFromAdSize=2,t.ImpressionFromPercentageLargerThanZero=3,t.ImpressionFromPercentageLargerThanZeroAndImageSize=4,t}();e.OmidImpressionReason=R;var x=function(){function t(){}return t.ImpressionNotViewable=1,t.NoAdSize=2,t.NoScreenSize=4,t.Measured=16,t}();e.ViewableShareOfScreenNotViewReason=x;var W=function(){function t(){}return t.Integer=1,t.Float=2,t.NaN=3,t.NullOrUndefined=4,t.Other=5,t}();e.NumberSubType=W;var k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.SpotX=2,e}(T);e.StandardSizeType=k;var U=function(){function t(){}return t.displayThreshold=5,t.videoThreshold=20,t.commonThreshold=15,t}();e.StandardSizeThreshold=U;var N=function(){function t(){}return t.TagPageLoading=1,t.TagPageInteractive=2,t.TagPageLoaded=4,t.MeasurementPageLoading=8,t.MeasurementPageInteractive=16,t.MeasurementPageLoaded=32,t.VisitPageLoading=64,t.VisitPageInteractive=128,t.VisitPageLoaded=256,t}();e.ScriptExecIndicator=N;var F=function(){function t(){}return t.InjectTagError={id:1,message:"InjectTagError",isLostImpression:!0},t.LoadTagError={id:2,message:"LoadTagError",isLostImpression:!0},t.UnexpectedLostImpError={id:4,message:"UnexpectedLostImpError",isLostImpression:!0},t.OmidSessionError={id:8,message:"OmidSessionError",isLostImpression:!0},t.OmidUnexpectedLostImpError={id:16,message:"OmidUnexpectedLostImpError",isLostImpression:!0},t.OmidLoadTagError={id:32,message:"OmidLoadTagError",isLostImpression:!0},t.OmidInjectTagError={id:64,message:"OmidInjectTagError",isLostImpression:!0},t.UnexpectedError={id:128,message:"UnexpectedError",isLostImpression:!1},t.OmidUnexpectedError={id:256,message:"OmidUnexpectedError",isLostImpression:!1},t.VisitLogicError={id:1024,message:"VisitLogicError",isLostImpression:!0},t.VisitResponseError={id:2048,message:"VisitResponseError",isLostImpression:!0},t.VisitRequestError={id:4096,message:"VisitRequestError",isLostImpression:!0},t.DomlessEnvError={id:8192,message:"DomlessEnvError",isLostImpression:!0},t.DVMatchError={id:16384,message:"DVMatchError",isLostImpression:!0},t.InvalidVisitResponseError={id:32768,message:"InvalidVisitResponseError",isLostImpression:!0},t.FailedToSendEvent={id:1<<19,message:"FailedToSendEvent",isLostImpression:!1},t.DvTagArrangementError={id:1<<20,message:"DvTagArrangementError",isLostImpression:!1},t.AdLocationError={id:1<<21,message:"AdLocationError",isLostImpression:!1},t.MeasurementError={id:1<<22,message:"MeasurementError",isLostImpression:!1},t.TPSDataCollectorError={id:1<<23,message:"TPSDataCollectorError",isLostImpression:!1},t.PostMeasuredGlobalMainError={id:1<<24,message:"PostMeasuredGlobalMainError",isLostImpression:!1},t.TagCommunicationError={id:1<<25,message:"TagCommunicationError",isLostImpression:!1},t.PreMeasuredGlobalMainError={id:1<<26,message:"PreMeasuredGlobalMainError",isLostImpression:!0},t.TagServiceError={id:1<<30,message:"TagServiceError",isLostImpression:!1},t}();e.ClientErrorType=F;var z=function(){function t(){}return t.ONE_MINUTE=6e4,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.FIFTEEN_MINUTES=15*t.ONE_MINUTE,t}();e.TimeInMs=z;var G=function(){function t(){}return t.IMPRESSION_SESSION=z.FIFTEEN_MINUTES,t.MAX_EVENT_SENDING_ALLOWED=t.IMPRESSION_SESSION+z.FIVE_MINUTES,t.LAST_MINUTE_WITHIN_IMPRESSION_SESSION=t.IMPRESSION_SESSION-z.ONE_MINUTE,t.MAX_WAIT_FOR_IMPRESSION_SERVED=4e3,t}();e.ImpressionSessionTime=G;var H=function(){function t(){}return t.Q1=1,t.Q2=2,t.Q3=3,t.Q4=4,t}();e.Quartile=H;var q=function(){function t(){}return t.Success="1",t.PostMessageNotSupported="2",t.UnknownError="3",t.FuncInvocationError="4",t.PostMessageInvocationError="5",t.WrongCallbackID="6",t.UnsuccessfulResponse="7",t.ParentError="8",t.ErrorMeasuringPerformance="9",t}();e.GDPRCode=q;var Q=function(){function t(){}return t.DOM_API_SEARCH=1,t.CUSTOM_SEARCH=2,t}();e.CeltraTagLocatorMethod=Q;var J=function(){function t(){}return t.Full=1,t.Domain=2,t.Limited=3,t}();e.OmidAccessMode=J,function(t){t[t.OmidUnderEvaluation=1]="OmidUnderEvaluation",t[t.isES6Supported=2]="isES6Supported"}(e.ScriptDynamicFlagsEnum||(e.ScriptDynamicFlagsEnum={}))},7360:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.EventBusGlobal=e.EventBus=e.EventBusClass=e.DvEvent=void 0;var n=i(3868),o=i(749),a=i(194),s=i(712),d=function(){function t(){}return t.impressionServed="ImpressionServed",t.adSelected="0",t.adDestroy="1",t.adCandidateApproved="2",t.startAdLocator="3",t.stopAdLocator="4",t.reportData="5",t.viewabilityIntervalData="6",t.boundariesViewabilityIntervalData="7",t.exposureData="8",t.iabMeasuredImpression="9",t.adCandidateLocated="10",t.adNotLocated="11",t.focusData="12",t.strictFocusData="13",t.abandonData="14",t.unloadData="15",t.adSizeData="16",t.clickData="17",t.hoverData="18",t.pauseData="19",t.resumeData="20",t.skipData="21",t.touchData="22",t.volumeData="23",t.stopData="24",t.viewportSizeData="25",t.adImpressionData="26",t.adVideoMidpointData="27",t.adVideoStartData="28",t.adVideoFirstQuartileData="29",t.adVideoThirdQuartileData="30",t.adVideoCompleteData="31",t.delayAdSelection="32",t.rtsEventData="33",t.videoStartedData="34",t.videoLoadedData="35",t.videoStartPlaying="36",t.mraidDefaultStateData="37",t.htmlRenderedData="38",t.adRenderedData="39",t.globalUnloadData="40",t.reserveAdLocator="41",t.globalKeyPressData="42",t.globalMouseMoveData="43",t.globalScrollData="44",t.globalOrientationChangeData="45",t.keyPressData="46",t.mouseMoveData="47",t.scrollData="48",t.orientationChangePortraitData="49",t.orientationchangeLandscapeData="50",t.skippableData="51",t.adSizeChangedData="52",t}();e.DvEvent=d;var p=function(){function t(){this.renderedImpressions={},this.markRenderedImpressions={},this.frameIds={},this.subscribersCallbacks={},this.previousEvents={},this.preRenderEvents={},this.subscriptionId=1,this.frameId=a.DvObject.getFrameId(n.WindowAdaptor.currentWindow()),this.previousEventsCapacity=1e3,this.excludeFrameId(this.frameId)}return t.prototype.excludeFrameId=function(t){this.frameIds[t]||(this.frameIds[t]=!0,this.addEventListener(d.adRenderedData,this.updateRenderedAd.bind(this),"excludeFrame",t))},t.prototype.addEventListener=function(t,e,i,r){var n;void 0===i&&(i=""),void 0===r&&(r=this.frameId);var o=this.addEventsListener(((n={})[t]=e,n),i,r);if(o&&o.length>0)return o[0]},t.prototype.addEventsListener=function(t,e,i){var r=this;void 0===e&&(e=""),void 0===i&&(i=this.frameId);var n=[];return this.mapToWrapperFunction(t),this.fireMultiplePreviousEvents(t,i),Object.keys(t).forEach((function(o){var a=t[o],s=r.subscribe(o,i,e,a);n.push(s)})),n},t.prototype.removeEventListener=function(t,e){var i=this;void 0===e&&(e=this.frameId),this.subscribersCallbacks[e]&&Object.keys(this.subscribersCallbacks[e]).forEach((function(r){i.subscribersCallbacks[e][r]=i.subscribersCallbacks[e][r].filter((function(e){return e.subscriptionId!=t}))}))},t.prototype.removeEventsListener=function(t,e){var i=this;void 0===e&&(e=this.frameId),t.forEach((function(t){return i.removeEventListener(t,e)}))},t.prototype.dispatchEvent=function(t,e){this.publishEvents(this.frameId,t,e)},t.prototype.subscribe=function(t,e,i,r){if("function"==typeof r&&void 0!==t&&""!=t)return this.subscriptionId++,this.subscribersCallbacks[e]=this.subscribersCallbacks[e]||{},this.subscribersCallbacks[e][t]=this.subscribersCallbacks[e][t]||[],this.subscribersCallbacks[e][t].push({func:r,subscriptionId:this.subscriptionId,actionName:i}),this.subscriptionId},t.prototype.publish=function(t,e,i){t&&e&&(this.frameIds[e]||this.renderedImpressions[e]?(this.renderedImpressions[e]&&!this.markRenderedImpressions[e]&&(this.markRenderedImpressions[e]=!0),this.publishHistoryRtnEvent(e),this.publishEvents(e,t,i)):this.storeToPreRenderEvent(e,t,i))},t.prototype.publishHistoryRtnEvent=function(t){var e=this,i=this.preRenderEvents[t];i&&Object.keys(i).forEach((function(r){return i[r].forEach((function(i){return e.publishEvents(t,r,i)}))})),this.preRenderEvents[t]={}},t.prototype.updateRenderedAd=function(t){var e=t.uid;e&&(this.renderedImpressions[e]=!0,this.publishHistoryRtnEvent(e))},t.prototype.publishEvents=function(t,e,i){var r=this;this.storeToPreviousEvents(t,e,i),this.subscribersCallbacks[t]&&this.subscribersCallbacks[t][e]&&this.subscribersCallbacks[t][e].forEach((function(n){r.runSafely(n.func,i,t,e,n.actionName)}))},t.prototype.mapToWrapperFunction=function(t){Object.keys(t).forEach((function(e){var i=t[e];e&&"function"==typeof i?t[e]=function(t,e){i(e)}:delete t[e]}))},t.prototype.storeToPreRenderEvent=function(t,e,i){this.preRenderEvents[t]=this.preRenderEvents[t]||{},this.preRenderEvents[t][e]=this.preRenderEvents[t][e]||[],this.preRenderEvents[t][e].push(i)},t.prototype.storeToPreviousEvents=function(t,e,i){this.previousEvents[t]=this.previousEvents[t]||{},this.previousEvents[t][e]=this.previousEvents[t][e]||[],this.previousEvents[t][e].length<this.previousEventsCapacity&&this.previousEvents[t][e].push(i)},t.prototype.fireMultiplePreviousEvents=function(t,e){var i,n,o=this;if(this.previousEvents[e]){var a=Object.keys(t).reduce((function(i,r){var n=t[r];return(o.previousEvents[e][r]||[]).forEach((function(t){return i.push({callback:n,data:t})})),i}),[]).sort((function(t,e){return t.data.updateTime-e.data.updateTime}));try{for(var s=r(a),d=s.next();!d.done;d=s.next()){var p=d.value;this.runSafely(p.callback,p.data,e)}}catch(t){i={error:t}}finally{try{d&&!d.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}}},t.prototype.runSafely=function(t,e,i,r,n){void 0===r&&(r=""),void 0===n&&(n="");try{t(i,e)}catch(t){o.MessageHandler.sendError(s.ClientErrorType.MeasurementError,t,"EBus "+r+" "+n)}},t}();e.EventBusClass=p,e.EventBus=new p,e.EventBusGlobal=new p},8426:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InmobiWrapper=e.InmobiWrapperClass=void 0;var r=i(3868),n=function(){function t(){}return t.prototype.isSupported=function(){if(void 0!==r.WindowAdaptor.workingWindow().inmobi&&void 0!==r.WindowAdaptor.workingWindow().inmobi.InMobiVideoEventsBuffer)return this.inmobiApiObj=r.WindowAdaptor.workingWindow().inmobi,!0},t.prototype.addEventListenerWithHistory=function(t){this.isSupported()&&this.inmobiApiObj.InMobiVideoEventsBuffer.addVideoEventListener(t)},t}();e.InmobiWrapperClass=n,e.InmobiWrapper=new n},749:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=e.MessageHandlerClass=void 0;var r=i(194),n=i(3868),o=i(425),a=i(7658),s=i(3380),d=i(7360),p=i(712),c=i(3946),u=i(6689),l=i(7429),f=i(7749),v=function(){function t(){this.waitingMessages={},this.reportedErrors={},this.messageDataObject={},this.eventListenersInitiated=!1,this.START_INTERVAL_INITIAL_VALUE=10,this.isFirstEventFired=!1}return t.prototype.sendMessage=function(t,e){void 0===e&&(e={isImportantMessage:!1,noConsolidation:!1});var i={isImportantMessage:"boolean"==typeof e?e:e.isImportantMessage,noConsolidation:"boolean"!=typeof e&&e.noConsolidation};this.initEventListeners(),this.impressionId=this.impressionId||r.DvObject.getImpressionId(n.WindowAdaptor.currentWindow()),s.Utilities.extend(t,this.waitingMessages),this.isImportantMessage=this.isImportantMessage||i.isImportantMessage,i.noConsolidation?this.sendWaitingMessages(!1):this.sendWaitingMessages()},t.prototype.appendTagUniqueKey=function(t){var e=r.DvObject.getTagUniqueKey();e&&(t.dvp_tukv=e)},t.prototype.sendMeasurementError=function(t,e,i,n){var o;void 0===i&&(i=""),void 0===n&&(n=null);var d=((o={})[a.ErrorDataMapping.timeMsUntilHasError]=s.Utilities.getTimeDiff(),o[a.ErrorDataMapping.notApplicableReason]=this.getJsErrorString(t,e,i),o[a.ErrorDataMapping.errorType]=t.id,o.jsver=s.Utilities.getVersion(),o.tgjsver=r.DvObject.getDvtpScriptVersion(),o);s.Utilities.extend(n,d),this.sendMessage(d)},t.prototype.appendIsOmid=function(t){u.OmidWrapper.isSupported()&&(t.dvp_iomd=1)},t.prototype.sendErrorSignal=function(t,e,i,d){var p;void 0===i&&(i=""),void 0===d&&(d=null);var c=this.getJsErrorString(t,e,i),u=f.DvTagDataObject.getServerPrefix(),l=f.DvTagDataObject.getErrorPath(),v=((p={ctx:818052,cmp:1619415,jsver:s.Utilities.getVersion(),tgjsver:r.DvObject.getDvtpScriptVersion(),napr:c})[a.ErrorDataMapping.errorType]=t.id,p);t.isLostImpression&&(v.dvp_isLostImp=1);try{v[a.TPSDataMapping.trafficScenarioType]=n.WindowAdaptor.getScenarioType()}catch(t){}this.appendIsOmid(v),this.appendTagUniqueKey(v),s.Utilities.extend(this.getClientDataString(),v),s.Utilities.extend(d,v);var h=""+u+l+"?"+f.DvTagDataObject.getGDPRAndGDPRConsentQueryStringPart()+s.Utilities.serializeObjectToQueryString(v,!1);o.BrowserAdaptor.sendBeacon(h.trim(),!0)},t.prototype.getClientDataString=function(){var t=f.DvTagDataObject.getClientData();return{dvp_cmp:t.cmp,dvp_ctx:t.ctx,dvp_sid:t.sid,dvp_plc:t.plc}},t.prototype.sendError=function(t,e,i,r){void 0===i&&(i=""),void 0===r&&(r=null),this.reportedErrors.hasOwnProperty(t.id)||(this.reportedErrors[t.id]=1,t.isLostImpression||t==p.ClientErrorType.FailedToSendEvent?this.sendErrorSignal(t,e,i,r):this.sendMeasurementError(t,e,i,r))},t.prototype.registerEventCall=function(t,e,i,r){var n=this;void 0===i&&(i=!0),s.Utilities.getTimeDiff()>p.ImpressionSessionTime.MAX_EVENT_SENDING_ALLOWED||(this.initEventListeners(),r=this.getEventConsolidationTimeout(r),e.eoid=l.EventIdGeneratorAdaptor.getNext(),this.consolidateMessageData(t,e),this.afterUnload||!i||isNaN(r)?this.sendDataToServer(t):o.BrowserAdaptor.setTimeout((function(){n.sendDataToServer(t)}),r))},t.prototype.getEventConsolidationTimeout=function(t){var e=t||r.DvObject.getConsolidationTimeout()||3e3;return this.restrictTimeoutMax?Math.min(e,this.restrictTimeoutMax):e},t.prototype.sendWaitingMessages=function(t,e){void 0===t&&(t=!0),s.Utilities.isEmpty(this.waitingMessages)||(this.impressionId?(!this.isImportantMessage&&r.DvObject.getFireOnlyImportantEvents()||this.registerEventCall(this.impressionId,this.waitingMessages,t,e),this.isImportantMessage=!1,this.waitingMessages={}):s.Utilities.getVisitTimeDiff()>p.ImpressionSessionTime.MAX_WAIT_FOR_IMPRESSION_SERVED&&this.sendError(p.ClientErrorType.FailedToSendEvent,void 0,"ImpressionID is missing"))},t.prototype.firePreviousEvents=function(){this.impressionId=r.DvObject.getImpressionId(n.WindowAdaptor.currentWindow());var t=this.getIntervalAndSetMaxTimeout();this.sendWaitingMessages(!0,t)},t.prototype.getIntervalAndSetMaxTimeout=function(t){return void 0===t&&(t=this.START_INTERVAL_INITIAL_VALUE),!r.DvObject.isMobile()||c.BrowserDetector.getBrowserId()!=p.Browser.Safari&&c.BrowserDetector.getBrowserId()!=p.Browser.SafariWebView||(this.restrictTimeoutMax=t=1e3),u.OmidWrapper.isSupported()&&(this.restrictTimeoutMax=500),t},t.prototype.initEventListeners=function(){var t=this;this.eventListenersInitiated||(d.EventBus.addEventListener(d.DvEvent.impressionServed,(function(){t.firePreviousEvents()}),"MessageHandler"),d.EventBus.addEventListener(d.DvEvent.globalUnloadData,this.handleUnload.bind(this)),this.eventListenersInitiated=!0)},t.prototype.consolidateMessageData=function(t,e){this.messageDataObject[t]=this.messageDataObject[t]||{},s.Utilities.extend(e,this.messageDataObject[t])},t.prototype.createEventCallUrl=function(t,e,i){void 0===i&&(i=!1),void 0===this.doubleTagImp&&(this.doubleTagImp=r.DvObject.getDoubleTagImpressionID()||"");var n=this.doubleTagImp?"dup="+this.doubleTagImp+"&":"";return f.DvTagDataObject.getServerPrefix()+f.DvTagDataObject.getEventPath()+"?impid="+t+"&"+n+f.DvTagDataObject.getGDPRAndGDPRConsentQueryStringPart()+s.Utilities.serializeObjectToQueryString(e,i)},t.prototype.sendDataToServer=function(t){try{if(!s.Utilities.isEmpty(this.messageDataObject[t])){var e=this.createEventCallUrl(t,this.messageDataObject[t],u.OmidWrapper.isSupported());this.isFirstEventFired||(e+="&"+a.TPSDataMapping.timeToFirstUpdateReportMs+"="+(s.Utilities.getCurrentTime()-s.Utilities.getScriptLoadedMS()),this.isFirstEventFired=!0),this.afterUnload&&(e+="&"+a.TPSDataMapping.totalMeasurementExecTime+"="+(s.Utilities.getCurrentTime()-s.Utilities.getScriptLoadedMS())),o.BrowserAdaptor.sendBeacon(e),this.messageDataObject[t]=null}}catch(t){}},t.prototype.getJsErrorString=function(t,e,i){var r,n=t.message+"__";i&&i.length>0&&(n+=i+"__"),e&&(n+=": "+(e.message||""),e.stack&&(n+=e.stack.split("\n").map((function(t){return t.replace(/\(.*\)/,"")})).join(""))),n=n.replace(/\n/g,"").replace(/\r/g,"").replace(/\t/g,"").replace(/\|/g,"");try{r=encodeURIComponent(n).slice(0,500)}catch(t){}return r},t.prototype.handleUnload=function(){var t=this;this.afterUnload=!0,Object.keys(this.messageDataObject).forEach((function(e,i){t.sendDataToServer(e)}))},t}();e.MessageHandlerClass=v,e.MessageHandler=new v},6681:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidWrapper=e.MraidWrapperClass=void 0;var r=i(3868),n=i(749),o=i(7360),a=i(1800),s=i(363),d=i(3380),p=i(712),c=function(){function t(){this.isMraidReady=!1,this.readyState=!1,this.maxIterations=20,this.errorReported=!1;var t=r.WindowAdaptor.workingWindow();this.setMraid(t),this.mraidObject&&this.readyCheck()}return t.prototype.getReadyState=function(){return this.readyState},t.prototype.isOperaMedia=function(){return"AdMarvel"==this.runMraidFunctionSafely("getVendor")},t.prototype.isAdColony=function(){var t=this.runMraidFunctionSafely("getVendor");return t&&"string"==typeof t&&"adcolony"==t.toLowerCase()},t.prototype.getIsMraidReady=function(){return this.isMraidReady||this.updateIsMraidReady()},t.prototype.isSupported=function(){return!!this.mraidObject},t.prototype.getIntegrationType=function(){return p.IntegrationType.Mraid},t.prototype.runMraidFunctionSafely=function(t){try{return this.mraidObject[t]()}catch(t){}},t.prototype.runMraidRegisterSafely=function(t,e){try{e.toString=function(){return"func"+s.RandomUtils.getRandom16()},this.mraidObject.addEventListener(t,e)}catch(t){}},t.prototype.setMraid=function(t){this.mraidObject=r.WindowAdaptor.objectLookup(t,"mraid",this.maxIterations)},t.prototype.reportMraidLookup=function(t){var e=this;r.WindowAdaptor.isDomlessEnvironment()||(n.MessageHandler.sendMessage({dvp_mrdms:d.Utilities.getCurrentTime()}),this.mraidObject||null==r.WindowAdaptor.workingDocument().readyState||"complete"==r.WindowAdaptor.workingDocument().readyState||t.addEventListener("load",(function(i){r.WindowAdaptor.objectLookup(t,"mraid",e.maxIterations)&&n.MessageHandler.sendMessage({dvp_mrdfnd:1})})))},t.prototype.getMraid=function(){return this.mraidObject},t.prototype.reportEnvironmentDetails=function(){this.mraidEnvObjectCache=this.mraidEnvObjectCache||r.WindowAdaptor.objectLookup(r.WindowAdaptor.currentWindow(),"MRAID_ENV",this.maxIterations),this.mraidEnvObjectCache&&n.MessageHandler.sendMessage({dvp_mrdsdk:this.mraidEnvObjectCache.sdk,dvp_mrdsdkv:this.mraidEnvObjectCache.sdkVersion,dvp_mrdv:this.mraidEnvObjectCache.version,dvp_mrdapid:this.mraidEnvObjectCache.appId})},t.prototype.getAdViewablePercentage=function(){var t=this.runMraidFunctionSafely("isViewable");return null==t?null:t?100:0},t.prototype.readyCheck=function(){"loading"==this.runMraidFunctionSafely("getState")?this.runMraidRegisterSafely("ready",this.readyCallback.bind(this)):this.readyCallback(),this.runMraidRegisterSafely("stateChange",this.updateIsMraidReady.bind(this))},t.prototype.setReadyState=function(){this.readyState=!0,o.EventBus.dispatchEvent(o.DvEvent.mraidDefaultStateData,new a.EventData),n.MessageHandler.sendMessage({dvp_mrstt:1})},t.prototype.readyCallback=function(){this.setReadyState(),this.updateIsMraidReady(),this.registerToMraidErrorEvent()},t.prototype.updateIsMraidReady=function(){if(this.isMraidReady)return this.isMraidReady;var t=this.runMraidFunctionSafely("isViewable");return("default"==this.runMraidFunctionSafely("getState")||t)&&(this.isMraidReady=!0,this.readyState||this.setReadyState()),this.isMraidReady},t.prototype.registerToMraidErrorEvent=function(){var t=this;this.runMraidRegisterSafely("error",(function(e,i){t.errorReported||(n.MessageHandler.sendMessage({dvp_mrwer:"MraidWrapper:"+i+":"+e.substring(0,60)}),t.errorReported=!0)}))},t}();e.MraidWrapperClass=c,e.MraidWrapper=new c},6671:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidVerificationClientWrapper=void 0;var r=i(194),n=i(712),o=i(749),a=i(6689),s=i(3380),d="undefined"!=typeof $dv&&$dv||{},p=function(){function t(t){var e=this;this.onSessionEvent=function(t){switch(t.type){case"sessionStart":e.onSessionStart(t);break;case"sessionFinish":e.onSessionFinish(t);break;case"sessionError":e.onSessionError(t)}},this.isReady=!1,this.init(t),this.isSupported()&&this.registerSessionObserver()}return t.prototype.ready=function(t){this.isReady?t():this.readyCB=t},t.prototype.onSessionStart=function(t){this.isReady=!0,t=t||{},a.OmidWrapper.init(this.omidVCInstance,t,this.vendorKey),d.omidSessionData=t,d.omidSessionStartTime=(new Date).getTime(),"function"==typeof this.readyCB&&this.readyCB()},t.prototype.onSessionFinish=function(t){this.isReady=!1},t.prototype.onSessionError=function(t){this.isReady=!1;var e=((t=t||{}).data||{}).message||"onSessionError_Error";o.MessageHandler.sendError(n.ClientErrorType.OmidSessionError,{message:e})},t.prototype.registerSessionObserver=function(){this.omidVCInstance&&this.omidVCInstance.registerSessionObserver(this.onSessionEvent,this.vendorKey)},t.prototype.isSupported=function(){if(void 0===this.omidVCIsSupported)try{this.omidVCIsSupported=this.omidVCInstance.isSupported()}catch(t){this.omidVCIsSupported=!1}return this.omidVCIsSupported},t.prototype.setVendorKey=function(){var e=r.DvObject.getDvtpScriptUrl();if(this.vendorKey=t.DefaultVendorKey,e)try{this.vendorKey=s.Utilities.getParamValue(e,"vendor_key")||this.vendorKey}catch(e){this.vendorKey=t.DefaultVendorKey}},t.prototype.init=function(t){if(t){this.setVendorKey();try{this.omidVCInstance=new t,d.omidJsClient=this.omidVCInstance,d.omidVendorKey=this.vendorKey}catch(t){}}},t.VerificationClientVersion="1.2.6-iab634",t.DefaultVendorKey="doubleverify.com-omid",t}();e.OmidVerificationClientWrapper=p},6689:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidWrapper=e.OmidWrapperClass=void 0;var r=i(194),n=i(712),o=i(630),a=function(){function t(){this.omidDefaultVendorKey="doubleverify.com-omid";var t=r.DvObject.getDvObject();t&&(this.omidJsClient=t.omidJsClient,this.omidSessionData=t.omidSessionData,this.omidVendorKey=t.omidVendorKey||this.omidDefaultVendorKey,this.init(t.omidJsClient,t.omidSessionData,t.omidVendorKey))}return t.prototype.init=function(t,e,i){this.omidJsClient=t,this.omidSessionData=e,this.omidVendorKey=i||this.omidDefaultVendorKey},t.prototype.isSupported=function(){return this.omidJsClient&&this.omidJsClient.isSupported()},t.prototype.getIntegrationType=function(){var t=this.getOmidContext();return t&&t.environment&&"web"==t.environment.toLowerCase()?n.IntegrationType.OmidWeb:n.IntegrationType.Omid},t.prototype.getSessionData=function(){return this.omidSessionData},t.prototype.addEventListener=function(t,e){if(this.omidJsClient)return this.omidJsClient.addEventListener(t,e)},t.prototype.registerSessionObserver=function(t){if(this.omidJsClient)return this.omidJsClient.registerSessionObserver(t,this.omidVendorKey)},t.prototype.setTimeout=function(t,e){if(this.omidJsClient)return this.omidJsClient.setTimeout(t,e)},t.prototype.clearTimeout=function(t){this.omidJsClient&&this.omidJsClient.clearTimeout(t)},t.prototype.setInterval=function(t,e){if(this.omidJsClient)return this.omidJsClient.setInterval(t,e)},t.prototype.clearInterval=function(t){this.omidJsClient&&this.omidJsClient.clearInterval(t)},t.prototype.getVerificationParameters=function(){var t,e=this.getSessionData();return e&&e.data&&(t=e.data.verificationParameters),t},t.prototype.sendUrl=function(t){this.omidJsClient&&this.omidJsClient.sendUrl(t)},t.prototype.injectJavaScriptResource=function(t,e,i){void 0===e&&(e=function(){}),void 0===i&&(i=function(){}),this.omidJsClient&&this.omidJsClient.injectJavaScriptResource(t,e,i)},t.prototype.getOmidNativePartnerName=function(){var t,e=this.getOmidContext();return e&&e.omidNativeInfo&&e.omidNativeInfo.partnerName&&(t=e.omidNativeInfo.partnerName),t},t.prototype.getOmidJSPartnerName=function(){var t,e=this.getOmidContext();return e&&e.omidJsInfo&&e.omidJsInfo.partnerName&&(t=e.omidJsInfo.partnerName),t},t.prototype.getOmidVendorKeyIndex=function(t){if(t)return t.replace(this.omidDefaultVendorKey,"")||"0"},t.prototype.getOmidContext=function(){var t,e=this.getSessionData()&&this.getSessionData().data;return e&&e.context&&(t=e.context),t},t.prototype.getOmidScenarioType=function(){var t=this.getOmidContext();return null==t?void 0:t.environment},t.prototype.getOmidAccessMode=function(){var t;return null===(t=this.getOmidContext())||void 0===t?void 0:t.accessMode},t.prototype.getOmidAccessModeNumber=function(t){return new Map([[o.OmidAccessModeString.FULL,n.OmidAccessMode.Full],[o.OmidAccessModeString.DOMAIN,n.OmidAccessMode.Domain],[o.OmidAccessModeString.LIMITED,n.OmidAccessMode.Limited]]).get(t)},t}();e.OmidWrapperClass=a,e.OmidWrapper=new a},363:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.RandomUtils=e.RandomUtilsClass=void 0;var r=i(3868),n=i(3380),o=function(){function t(){}return t.prototype.getRandom16=function(){return(n.Utilities.getCurrentTime()+""+Math.floor(1e6*Math.random())).substr(0,16)},t.prototype.getRandom32=function(){return n.Utilities.getCurrentTime().toString(36)+(this.getRandom24ByCrypto()||this.getRandom24())},t.prototype.getRandom24ByCrypto=function(){if(r.WindowAdaptor.isCryptoSupported()){var t=new Uint32Array(4);return crypto.getRandomValues(t),n.Utilities.arrayLikeToArray(t).map((function(t){return("00000000"+t.toString(36)).substr(-6)})).join("")}},t.prototype.getRandom24=function(){return(Math.random().toString(36)+"000000000000").substr(2,12)+(Math.random().toString(36)+"000000000000").substr(2,12)},t}();e.RandomUtilsClass=o,e.RandomUtils=new o},1723:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractRenderLogic=void 0;var r=i(3868),n=i(7360),o=i(1800),a=i(749),s=i(194),d=function(){function t(){this.wasAdRenderedCalled=!1}return t.prototype.publishAdRenderedDataAfterImpressionServed=function(){var t=s.DvObject.getDvObject();t.pubSub&&t.pubSub.excludeFrameId&&n.EventBus.addEventListener(n.DvEvent.impressionServed,(function(){s.DvObject.publishPubSubEvent(n.DvEvent.adRenderedData,s.DvObject.getFrameId(r.WindowAdaptor.currentWindow()),new o.AdRenderedEventData(s.DvObject.getImpressionId(r.WindowAdaptor.currentWindow())))}),"PreRenderLogic")},t.prototype.isAdRendered=function(){return this.wasAdRenderedCalled},t.prototype.adRendered=function(){this.wasAdRenderedCalled=!0,this.publishAdRenderedDataAfterImpressionServed()},t.fireRenderedEvent=function(){a.MessageHandler.sendMessage({prndr:0},!0)},t}();e.AbstractRenderLogic=d},5414:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultRenderLogic=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){t.prototype.adRendered.call(this)},e.prototype.isSupported=function(){return!0},e}(i(1723).AbstractRenderLogic);e.DefaultRenderLogic=o},2905:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.MraidInMobiRenderLogic=void 0;var o=i(6681),a=i(1723),s=i(3868),d=i(7749),p=i(712),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wasViewable=!1,e.maxIterations=20,e}return n(e,t),e.prototype.start=function(){o.MraidWrapper.getAdViewablePercentage()?t.prototype.adRendered.call(this):o.MraidWrapper.runMraidRegisterSafely("viewableChange",this.mraidViewableChangeUpdate.bind(this))},e.prototype.mraidViewableChangeUpdate=function(e){e&&!this.wasViewable&&(this.wasViewable=!0,t.prototype.adRendered.call(this),a.AbstractRenderLogic.fireRenderedEvent())},e.prototype.isSupported=function(){return d.DvTagDataObject.getTagType()==p.DvTagType.Display&&o.MraidWrapper.isSupported()&&s.WindowAdaptor.objectLookup(s.WindowAdaptor.currentWindow(),"imraid",this.maxIterations)&&s.WindowAdaptor.objectLookup(s.WindowAdaptor.currentWindow(),"inmobi",this.maxIterations)},e}(a.AbstractRenderLogic);e.MraidInMobiRenderLogic=c},4263:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.MraidRenderLogic=void 0;var o=i(7360),a=i(6681),s=i(1723),d=i(3868),p=i(425),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMraidRendered=!1,e.isPageVisibilityRendered=!1,e.isPageVisibilitySupported=!1,e}return n(e,t),e.prototype.start=function(){this.isPageVisibilitySupported=p.BrowserAdaptor.isVisibilityChangeEventSupported(),this.checkMraidRender(),this.isPageVisibilitySupported&&this.checkPageVisibilityRender(),this.checkOverallRendered(!1)},e.prototype.checkMraidRender=function(){a.MraidWrapper.getReadyState()?this.isMraidRendered=!0:this.mraidDefaultStateDataEventHandler=o.EventBus.addEventListener(o.DvEvent.mraidDefaultStateData,this.mraidDefaultStateCallback.bind(this))},e.prototype.mraidDefaultStateCallback=function(){this.isMraidRendered=!0,this.mraidDefaultStateDataEventHandler&&o.EventBus.removeEventListener(this.mraidDefaultStateDataEventHandler),this.checkOverallRendered(!0)},e.prototype.checkPageVisibilityRender=function(){if("prerender"!=d.WindowAdaptor.getVisibilityState())this.isPageVisibilityRendered=!0;else{var t=p.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";p.BrowserAdaptor.addEventListener(t,this.visibilityChangeCallback.bind(this),d.WindowAdaptor.workingDocument())}},e.prototype.visibilityChangeCallback=function(){this.isPageVisibilityRendered||"prerender"!=d.WindowAdaptor.getVisibilityState()&&(this.isPageVisibilityRendered=!0,this.checkOverallRendered(!0))},e.prototype.checkOverallRendered=function(e){(!this.isPageVisibilitySupported&&this.isMraidRendered||this.isPageVisibilitySupported&&this.isPageVisibilityRendered&&this.isMraidRendered)&&(t.prototype.adRendered.call(this),e&&s.AbstractRenderLogic.fireRenderedEvent())},e.prototype.isSupported=function(){return a.MraidWrapper.isSupported()},e}(s.AbstractRenderLogic);e.MraidRenderLogic=c},98:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.OmidRenderLogic=void 0;var o=i(1723),a=i(712),s=i(749),d=i(6689),p=i(3380),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wasRendered=!1,e.numOfOmidGeometryDvpSending=0,e.omidGeometryDvpValue=-1,e}return n(e,t),e.prototype.start=function(){d.OmidWrapper.addEventListener("impression",this.omidImpressionCallback.bind(this)),d.OmidWrapper.addEventListener("geometryChange",this.omidGeometryChangeCallback.bind(this))},e.prototype.omidImpressionCallback=function(t){var e,i;if(!this.wasRendered){var r={};r.dvp_omrld=a.OmidImpressionReason.ImpressionFromImpressionEvent,t&&t.data&&t.data.adView&&t.data.adView.geometry&&t.data.adView.geometry.height>0&&t.data.adView.geometry.width>0&&(r.dvp_omimpadms=p.Utilities.getTimeDiff()),r.dvp_omtt=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.mediaType,r.dvp_omct=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.creativeType,s.MessageHandler.sendMessage(r),this.adRenderedByCallback()}},e.prototype.adRenderedByCallback=function(){this.wasRendered=!0,t.prototype.adRendered.call(this),o.AbstractRenderLogic.fireRenderedEvent()},e.prototype.omidGeometryChangeCallback=function(t){try{var e=0;t&&(e+=a.OmidGeometryLog.EventNotNull,t.data&&(e+=a.OmidGeometryLog.EventDataNotNull,t.data.adView&&(e+=a.OmidGeometryLog.EvenDataAdViewNotNull,null!=t.data.adView.percentageInView&&(0==t.data.adView.percentageInView?e+=a.OmidGeometryLog.EvenDataAdViewPercentageInViewEqualToZero:t.data.adView.percentageInView>0&&(e+=a.OmidGeometryLog.EvenDataAdViewPercentageInViewGreaterThanZero)),t.data.adView.geometry&&(e+=a.OmidGeometryLog.EvenDataAdViewGeometryNotNull,t.data.adView.geometry.width>0&&(e+=a.OmidGeometryLog.EvenDataAdViewGeometryWidthGreaterThanZero),t.data.adView.geometry.height>0&&(e+=a.OmidGeometryLog.EvenDataAdViewGeometryHeightGreaterThanZero)),t.data.adView.onScreenGeometry&&(e+=a.OmidGeometryLog.EvenDataAdViewOnSceenGeometryNotNull,(t.data.adView.onScreenGeometry.x>0||t.data.adView.onScreenGeometry.y>0)&&(e+=a.OmidGeometryLog.EvenDataAdViewOnSceenGeometryXOrYGreaterThanZero),(t.data.adView.onScreenGeometry.width>0||t.data.adView.onScreenGeometry.height>0)&&(e+=a.OmidGeometryLog.EvenDataAdViewOnSceenGeometryAdGreaterThanZero)),t.data.adView.containerGeometry&&(e+=a.OmidGeometryLog.EvenDataAdViewContainerGeometryNotNull,(t.data.adView.containerGeometry.x>0||t.data.adView.containerGeometry.y>0)&&(e+=a.OmidGeometryLog.EvenDataAdViewContainerGeometryXOrYGreaterThanZero),(t.data.adView.containerGeometry.width>0||t.data.adView.containerGeometry.height>0)&&(e+=a.OmidGeometryLog.EvenDataAdViewContainerGeometryAdGreaterThanZero)),t.data.adView.onScreenContainerGeometry&&(e+=a.OmidGeometryLog.EvenDataAdViewOnScreenContainerGeometryNotNull,(t.data.adView.onScreenContainerGeometry.x>0||t.data.adView.onScreenContainerGeometry.y>0)&&(e+=a.OmidGeometryLog.EvenDataAdViewOnScreenContainerGeometryXOrYGreaterThanZero),(t.data.adView.onScreenContainerGeometry.width>0||t.data.adView.onScreenContainerGeometry.height>0)&&(e+=a.OmidGeometryLog.EvenDataAdViewOnScreenContainerGeometryAdGreaterThanZero))))),this.numOfOmidGeometryDvpSending<2&&this.omidGeometryDvpValue!=e&&e>0&&(this.reportWithinSessionTime({dvp_omgm:e}),this.omidGeometryDvpValue=e,this.numOfOmidGeometryDvpSending++)}catch(t){}if(!this.wasRendered&&t&&t.data&&t.data.adView&&t.data.adView.geometry){var i=t.data.adView.geometry.width>0&&t.data.adView.geometry.height>0,r=t.data.adView.percentageInView>0;(r||i)&&(this.reportWithinSessionTime({dvp_omrld:i&&r?a.OmidImpressionReason.ImpressionFromPercentageLargerThanZeroAndImageSize:i?a.OmidImpressionReason.ImpressionFromAdSize:a.OmidImpressionReason.ImpressionFromPercentageLargerThanZero}),this.adRenderedByCallback())}},e.prototype.isSupported=function(){return d.OmidWrapper.isSupported()},e.prototype.reportWithinSessionTime=function(t){s.MessageHandler.sendMessage(t)},e}(o.AbstractRenderLogic);e.OmidRenderLogic=c},6898:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageVisibilityRenderLogic=void 0;var o=i(425),a=i(3868),s=i(1723),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wasRendered=!1,e}return n(e,t),e.prototype.start=function(){if("prerender"!=a.WindowAdaptor.getVisibilityState())t.prototype.adRendered.call(this);else{var e=o.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";o.BrowserAdaptor.addEventListener(e,this.visibilitychangeCallback.bind(this),a.WindowAdaptor.workingDocument())}},e.prototype.visibilitychangeCallback=function(){this.wasRendered||"prerender"!=a.WindowAdaptor.getVisibilityState()&&(this.wasRendered=!0,t.prototype.adRendered.call(this),s.AbstractRenderLogic.fireRenderedEvent())},e.prototype.isSupported=function(){return o.BrowserAdaptor.isVisibilityChangeEventSupported()},e}(s.AbstractRenderLogic);e.PageVisibilityRenderLogic=d},7026:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.RenderLogicFactory=e.RenderLogicFactoryClass=void 0;var n=i(2905),o=i(4263),a=i(98),s=i(6898),d=i(5414),p=function(){function t(){}return t.prototype.getRenderLogic=function(){return this.selectedRenderLogic||(this.selectedRenderLogic=this.selectSupportedRenderLogic()),this.selectedRenderLogic},t.prototype.prioritizedRenderLogicImplementations=function(){return[a.OmidRenderLogic,n.MraidInMobiRenderLogic,o.MraidRenderLogic,s.PageVisibilityRenderLogic,d.DefaultRenderLogic]},t.prototype.selectSupportedRenderLogic=function(){var t,e;try{try{for(var i=r(this.prioritizedRenderLogicImplementations()),n=i.next();!n.done;n=i.next()){var o=new(0,n.value);if(o.isSupported())return o}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}}catch(t){}return new d.DefaultRenderLogic},t}();e.RenderLogicFactoryClass=p,e.RenderLogicFactory=new p},6806:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SafeFrameObject=e.SafeFrameObjectClass=void 0;var i=function(){function t(){}return t.prototype.isGeometricSupported=function(t){return t.$sf&&t.$sf.ext&&t.$sf.ext.geom&&t.$sf.ext.geom()&&t.$sf.ext.geom().win&&t.$sf.ext.geom().win.h>0&&t.$sf.ext.geom().win.w>0},t.prototype.isInviewSupported=function(t){return!!t.$sf&&!!t.$sf.ext&&!!t.$sf.ext.inViewPercentage},t.prototype.getViewport=function(t){if(this.isGeometricSupported(t)){var e=t.$sf.ext.geom();return{height:Math.floor(e.win.h),width:Math.floor(e.win.w)}}},t.prototype.getInViewPercentage=function(t){if(this.isInviewSupported(t))return t.$sf.ext.inViewPercentage()},t.prototype.getAssetVisibleDimension=function(t){var e={width:0,height:0,left:0,right:0,top:0,bottom:0},i=t.$sf.ext.geom();return e.width=parseInt(i.self.w),e.height=parseInt(i.self.h),i.par&&(e.top=parseInt(i.self.t)-parseInt(i.par.t),e.bottom=e.top+e.height,e.left=parseInt(i.self.l)-parseInt(i.par.l),e.right=e.left+e.width),e},t.prototype.isSafeFrameExists=function(t){try{return!!t.$sf}catch(t){}},t.prototype.getUrlReferrer=function(t){try{return t.$sf&&t.$sf.ext&&t.$sf.ext.hostURL&&t.$sf.ext.hostURL()}catch(t){}},t}();e.SafeFrameObjectClass=i,e.SafeFrameObject=new i},3322:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptDynamicFlags=void 0;var r=i(749),n=i(7658),o=i(7360),a=function(){function t(){this.impServed=!1,o.EventBus.addEventListener(o.DvEvent.impressionServed,this.handleImpressionServed.bind(this))}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getFlags=function(){return this.flags},t.prototype.turnOn=function(t){var e;this.flags|=t,this.impServed&&r.MessageHandler.sendMessage(((e={})[n.TPSDataMapping.scriptDynamicFlags]=this.flags,e))},t.prototype.handleImpressionServed=function(){var t;this.impServed=!0,r.MessageHandler.sendMessage(((t={})[n.TPSDataMapping.scriptDynamicFlags]=this.flags,t))},t}();e.ScriptDynamicFlags=a},7429:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.EventIdGeneratorAdaptor=e.SequenceIdGeneratorClass=void 0;var i=function(){function t(){this.sequenceId=1}return t.prototype.getNext=function(){return this.sequenceId++},t}();e.SequenceIdGeneratorClass=i,e.EventIdGeneratorAdaptor=new i},3971:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.StandardSizes=e.StandardSizesClass=void 0;var r=i(712),n=function(){function t(){this.DisplayStandardSizes=[{width:88,height:[31]},{width:100,height:[150]},{width:120,height:[20,60,90,240,600,800]},{width:125,height:[125]},{width:160,height:[600,800]},{width:168,height:[28]},{width:180,height:[150,160,600]},{width:184,height:[90]},{width:200,height:[90,112,200,446]},{width:215,height:[125]},{width:216,height:[36]},{width:220,height:[90]},{width:234,height:[60]},{width:240,height:[133,400]},{width:250,height:[60,250,300,360,600]},{width:270,height:[202,460]},{width:272,height:[220]},{width:275,height:[300]},{width:292,height:[30]},{width:300,height:[31,50,90,100,200,225,250,268,413,600,618,850,1050]},{width:310,height:[175]},{width:315,height:[300]},{width:320,height:[20,50,75,100,320,360,480]},{width:336,height:[280,600,850]},{width:350,height:[50,200]},{width:375,height:[20,60,150]},{width:400,height:[225]},{width:405,height:[303]},{width:415,height:[20]},{width:440,height:[225,300]},{width:468,height:[60]},{width:550,height:[310,480]},{width:580,height:[400]},{width:600,height:[400]},{width:610,height:[100]},{width:613,height:[460]},{width:640,height:[90,360,480]},{width:700,height:[400,500]},{width:728,height:[90,120]},{width:745,height:[90]},{width:750,height:[30,100,200]},{width:800,height:[600]},{width:900,height:[240]},{width:930,height:[180,600]},{width:950,height:[90]},{width:954,height:[60]},{width:960,height:[90]},{width:970,height:[30,66,90,250,415,550]},{width:980,height:[90,120]},{width:1e3,height:[125]},{width:1008,height:[150]},{width:1140,height:[200]},{width:1250,height:[155]},{width:1280,height:[100]},{width:1680,height:[900]}],this.sizeCompare=function(t,e){return t.width>e.width?1:t.width<e.width?-1:0},this.SpotXStandardSizes=[{width:320,height:[240]},{width:400,height:[300]},{width:450,height:[338]},{width:500,height:[375]},{width:600,height:[800]},{width:640,height:[360]},{width:854,height:[480]}].concat(this.DisplayStandardSizes).sort(this.sizeCompare),this.VideoStandardSizes=[{width:150,height:[90]},{width:270,height:[150]},{width:300,height:[150,340]},{width:320,height:[570]},{width:360,height:[100,640]},{width:375,height:[210,670]},{width:415,height:[740]},{width:420,height:[240]},{width:450,height:[250]},{width:480,height:[270]},{width:510,height:[290]},{width:580,height:[330]},{width:610,height:[340]},{width:670,height:[380]},{width:740,height:[410]},{width:770,height:[1020]},{width:780,height:[440]},{width:800,height:[450]},{width:900,height:[500]},{width:1020,height:[580,770]},{width:1280,height:[720,800]},{width:1330,height:[660]},{width:1370,height:[770]},{width:1440,height:[900]},{width:1540,height:[860]},{width:1920,height:[1080]}].concat(this.DisplayStandardSizes).sort(this.sizeCompare)}return t.prototype.getSizesTable=function(t){switch(t){case r.StandardSizeType.Display:return this.DisplayStandardSizes;case r.StandardSizeType.Video:return this.VideoStandardSizes;default:return this.SpotXStandardSizes}},t.prototype.getNearestAdSize=function(t,e,i){var n=this.getSizesTable(e);switch(i){case r.StandardSizeThreshold.displayThreshold:return this.getNearestStandardAdSize(t,r.StandardSizeThreshold.displayThreshold,n);case r.StandardSizeThreshold.videoThreshold:return this.getNearestStandardAdSize(t,r.StandardSizeThreshold.videoThreshold,n);default:return this.getNearestStandardAdSize(t,r.StandardSizeThreshold.commonThreshold,n)}},t.prototype.isStandardAdSize=function(t,e,i){return null!=this.getNearestAdSize(t,e,i)},t.prototype.getNearestStandardAdSize=function(t,e,i){var r=null;if(t&&t.width&&t.height)for(var n=t.width,o=t.height,a=i.length,s=0,d=0,p=Number.MAX_VALUE,c=Number.MAX_VALUE;d<a&&n+e>=i[d].width;){var u=Math.abs(n-i[d].width);if(u<=e){s=i[d].height.length;for(var l=0;l<s&&o+e>=i[d].height[l];){var f=Math.abs(o-i[d].height[l]);if(f<=e)if(u+f<p)c=i[d].width*i[d].height[l],p=u+f,r={width:i[d].width,height:i[d].height[l]};else if(u+f==p){var v=i[d].width*i[d].height[l];v<c&&(c=v,r={width:i[d].width,height:i[d].height[l]})}l++}}d++}return r},t}();e.StandardSizesClass=n,e.StandardSizes=new n},3380:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Utilities=e.UtilitiesClass=void 0;var r=i(712),n=i(363),o=i(3868),a=function(){function t(){this.loadTime=this.getCurrentTime(),this.MAX_GET_URL_LENGTH=8040}return t.prototype.isExceedingMaxUrlLength=function(t){return t>this.MAX_GET_URL_LENGTH},t.prototype.getScriptLoadedMS=function(){return this.loadTime},t.prototype.setLoadVisitTime=function(){this.loadVisitTime=this.getCurrentTime()},t.prototype.getVersion=function(){return 1837},t.prototype.getCurrentTime=function(){return(Date.now||(new Date).getTime)()},t.prototype.getNavigationStartTime=function(t){var e=t?o.WindowAdaptor.windowTop():dvWindow;return e&&e.performance&&e.performance.timing&&e.performance.timing.navigationStart},t.prototype.getTimeDiff=function(t){return t||(t=this.getCurrentTime()),Math.abs(t-this.loadTime)},t.prototype.getVisitTimeDiff=function(){var t=this.getCurrentTime();return Math.abs(t-(this.loadVisitTime||t))},t.prototype.getTimeDiffNoAbs=function(t){return t||(t=this.getCurrentTime()),t-this.loadTime},t.prototype.merge=function(t,e){if(t&&e)return t.concat(e).filter((function(t,e,i){return i.indexOf(t)==e}))},t.prototype.isEmpty=function(t){return!t||0==Object.keys(t).length},t.prototype.isNullOrEmpty=function(t){return null==t||""===t},t.prototype.extend=function(t,e){t&&!this.isEmpty(t)&&e&&Object.keys(t).forEach((function(i){return e[i]=t[i]}))},t.prototype.times=function(t,e){t>0&&(e(),this.times(t-1,e))},t.prototype.mapData=function(t,e,i){var r=this;return void 0===i&&(i=!1),Object.keys(e).reduce((function(n,o){var a=e[o];return a&&!r.isNullOrEmpty(t[o])&&(n[a]=t[o],i&&delete e[o]),n}),{})},t.prototype.startsWith=function(t,e,i){return void 0===i&&(i=!1),t=i?t.toLowerCase():t,e=i?e.toLowerCase():e,0==t.indexOf(e,0)},t.prototype.deepComparison=function(t,e,i){var r=this,n=0;return t&&e?(Object.keys(i).filter((function(i){return!r.equal(t[i],e[i],!0)})).forEach((function(t){n|=i[t]})),n):-1},t.prototype.removeDuplicateValues=function(t,e){var i=this;t&&e&&Object.keys(t).filter((function(r){return i.isNullOrEmpty(t[r])||t[r]==e[r]})).forEach((function(e){return delete t[e]}))},t.prototype.equal=function(t,e,i){return void 0===i&&(i=!1),(t=i&&t&&t.toString().toLowerCase()||t)==(e=i&&e&&e.toString().toLowerCase()||e)||this.isNullOrEmpty(t)&&this.isNullOrEmpty(e)},t.prototype.getElementsDistance=function(t,e){var i=-1;if(t&&e)if(t==e)i=0;else{var r=this.getElementParentsList(t),n=this.getElementParentsList(e);if(r[0]!=n[0])i=-1;else{for(;r.length>0&&n.length>0&&r[0]==n[0];)r.shift(),n.shift();i=r.length+n.length}}else i=-1;return i},t.prototype.getElementParent=function(t){if(t)return t.parentNode},t.prototype.getElementParentsList=function(t){var e=[];if(t)for(var i=this.getElementParent(t);i;)e.unshift(i),i=this.getElementParent(i);return e},t.prototype.isInAppSupported=function(t){return t&&t.some((function(t){return t==r.DetectedDeliveryType.MobileApp}))},t.prototype.isCtvSupported=function(t){return t&&t.some((function(t){return t==r.DetectedDeliveryType.Ctv}))},t.prototype.isLargeAd=function(t,e,i){return!(!t||i)&&t.height*t.width>=e},t.prototype.getIabVisiblePercentage=function(t,e){var i=t.percentage,r=t.offScreenPercentage;return null!=r&&e?r:i},t.prototype.isIabPageInFocus=function(t,e){return e?t.strictFocus:t.focus},t.prototype.isVideoElement=function(t){return t&&t.nodeName&&"video"==t.nodeName.toLocaleLowerCase()},t.prototype.appendCacheBuster=function(t,e){return this.appendParamToQueryString(t,e,n.RandomUtils.getRandom16())},t.prototype.appendParamToQueryString=function(t,e,i){var r="";return null!=t&&0==t.indexOf("http")&&(-1!=t.indexOf("?")?"&"!=t.slice(-1)&&(r="&"):r="?",t=""+t+r+e+"="+i),t},t.prototype.resolveMacros=function(t,e){var i=Object.keys(e).reduce((function(t,i){return t[i.toUpperCase()]=e[i],t}),{});return t.replace("[DV_PROTOCOL]",i.DV_PROTOCOL).replace("[PROTOCOL]",i.PROTOCOL).replace(/\[(.*?)\]/g,(function(t,e){var r=i[e];return e.indexOf("URL")>-1&&r?decodeURIComponent(r):(null==r&&(r="["+e+"]"),encodeURIComponent(r))}))},t.prototype.updateDynamicParamsFlags=function(t,e){t&&t.length>0&&e&&(e.dvf=t.filter((function(t){return!!t})).join(","))},t.prototype.getQueryString=function(t,i,r,n){var o=e.Utilities.mapData(t,n);return e.Utilities.extend(i,o),this.updateDynamicParamsFlags(r,o),this.serializeObjectToQueryString(o,!1)},t.prototype.serializeObjectToQueryString=function(t,e){return Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(i){return i+"="+(e?encodeURIComponent(t[i]):t[i])})).join("&").trim()},t.prototype.isQueryLengthBelowBrowserLimit=function(t,e,i,r,n){var o=!0;try{o=this.getQueryString(t,e,i,r).length+n.length<=7e3}catch(t){}return o},t.prototype.getElementVisiblePercentage=function(t,e){if(t&&e&&null!=e.height&&null!=e.width){if(this.checkIfElementOutOfViewport(t,e)||t.width<=0||t.height<=0)return 0;var i=this.getVisibleWidth(t,e),r=this.getVisibleHeight(t,e);return Math.round(i*r/(t.width*t.height)*100)}},t.prototype.checkIfElementOutOfViewport=function(t,e){return t.bottom<=0||t.bottom<=0||t.right<=0||t.top>=e.height||t.left>=e.width},t.prototype.getVisibleHeight=function(t,e){var i=t.height;return t.top<0?i=t.height+t.top:t.top+t.height>e.height&&(i=e.height-t.top),Math.min(i,e.height)},t.prototype.getVisibleWidth=function(t,e){var i=t.width;return t.left<0?i=t.width+t.left:t.left+t.width>e.width&&(i=e.width-t.left),Math.min(i,e.width)},t.prototype.arrayLikeToArray=function(t){if(t)return Array.prototype.slice.call(t)},t.prototype.DOMStringListToArray=function(t){var e=[];return t&&(e=Array.prototype.slice.call(t)),e},t.prototype.isHostTypeURL=function(t){try{var e=new URL(t);return this.isNullOrEmpty(e.pathname)||"/"==e.pathname}catch(t){}},t.prototype.getElementOffsetFromScreen=function(t){var e=0,i=0;try{if(t.getBoundingClientRect()){var r=t.getBoundingClientRect();e=r.left,i=r.top}for(t=t.parentElement;t;){if(t.tagName&&"iframe"===t.tagName.toLowerCase()&&t.getBoundingClientRect()){var n=t.getBoundingClientRect();e+=n.left,i+=n.top}t=t.parentElement}}catch(t){e=-1,i=-1}return{top:i,left:e}},t.prototype.isPercentageCriteriaPassed=function(t){return!(null==t||t>100||t<0)&&100*Math.random()<=t},t.prototype.getValBetweenMinAndMax=function(t,e,i){return t>e?t<i?t:i:e},t.prototype.isEmptyObject=function(t){return 0===Object.keys(t).length},t.prototype.getNumberSubType=function(t){return this.isNullOrEmpty(t)?r.NumberSubType.NullOrUndefined:isNaN(t)?r.NumberSubType.NaN:isFinite(t)?t%1==0?r.NumberSubType.Integer:r.NumberSubType.Float:r.NumberSubType.Other},t.prototype.logIfNotAnInteger=function(t,e,i){var n=this.getNumberSubType(t);n!=r.NumberSubType.Integer&&(e[i]=n)},t.prototype.getParamValue=function(t,e){if(null!=t){var i=new RegExp("[\\?#&]("+e+")=([^&#?]*)","gi").exec(t);if(null!=i&&null!=i[2])return i[2]}return null},t.prototype.checkIfObjIsPartiallyInArray=function(t,e){return e.filter((function(e){var i=!0;return Object.keys(t).forEach((function(r){i=i&&e[r]===t[r]})),i})).length>0?t:{}},t.prototype.getRandom=function(){for(var t=1,e=Math.floor(10*Math.random())+1,i=0;i<e;++i)t*=Math.random();return t},t.prototype.generateGuid=function(){return(new Date).getTime()*this.getRandom()+""},t.prototype.logDvSignal=function(t){try{var e=o.WindowAdaptor.workingWindow().$logDvSignal;e&&"function"==typeof e&&e(t)}catch(t){}},t.prototype.extractElementType=function(t){var e;switch(null===(e=null==t?void 0:t.tagName)||void 0===e?void 0:e.toUpperCase()){case"IFRAME":return r.ElementTagType.IFRAME;case"SPAN":return r.ElementTagType.SPAN;case"DIV":return r.ElementTagType.DIV;case"HTML":return r.ElementTagType.HTML;case"VIDEO":return r.ElementTagType.VIDEO;case"CANVAS":return r.ElementTagType.CANVAS;case"SVG":return r.ElementTagType.SVG;case"VIDEO-CANVAS":return r.ElementTagType.VIDEO_CANVAS;case"IMG":return r.ElementTagType.IMG;default:return r.ElementTagType.OTHER}},t.prototype.isNumber=function(t){return"number"==typeof t&&isFinite(t)},t}();e.UtilitiesClass=a,e.Utilities=new a},1966:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackAdaptor=e.VideoPlaybackAdaptorClass=void 0;var r=i(3868),n=function(){function t(){}return t.prototype.getOvvObject=function(){return r.WindowAdaptor.currentWindow().$ovv||r.WindowAdaptor.workingWindow().$ovv},t.prototype.getADCObject=function(){return r.WindowAdaptor.workingWindow().ADCAdUnitEventManager},t}();e.VideoPlaybackAdaptorClass=n,e.VideoPlaybackAdaptor=new n},2897:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.FlashOVVWrapper=void 0;var r=i(425),n=i(1966),o=i(712),a=function(){function t(t){this.previousEvents=[],this.adVolume=null,this.callbacks={},this.viewabilityIntegrationType=o.ViewabilityIntegrationType.Ovv;var e=n.VideoPlaybackAdaptor.getOvvObject();if(e){this.player=this.findPlayer(t),e.subscribe(["AdSkippableStateChange","AdSkipped","AdUserClose","AdStarted","AdImpression","AdVideoStart","AdStopped","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdExpandedChange","AdPaused","AdPlaying","AdVolumeChange","AdClickThru"],t,this.eventHandler.bind(this),!0)}}return t.prototype.eventHandler=function(t,e){try{"AdVolumeChange"==e.eventName&&e.ovvArgs&&null!=e.ovvArgs.ovvData.volume&&this.setAdVolume(e.ovvArgs.ovvData.volume),this.publish(e.eventName)}catch(t){}},t.prototype.findPlayer=function(t){try{for(var e=r.BrowserAdaptor.getElementsByTagNameFromDocument("embed"),i=0;i<e.length;i++)if(e[i][t]||e[i]["onJsReady"+t])return e[i];var n=r.BrowserAdaptor.getElementsByTagNameFromDocument("object");for(i=0;i<n.length;i++)if(n[i][t]||n[i]["onJsReady"+t])return n[i]}catch(t){}return null},t.prototype.getPlayer=function(){return this.player},t.prototype.getSlot=function(){return this.player},t.prototype.getAdDuration=function(){},t.prototype.getAdSkippableState=function(){},t.prototype.getPreviousEvents=function(){return this.previousEvents},t.prototype.getAdVolume=function(){return this.adVolume},t.prototype.setAdVolume=function(t){this.adVolume=t},t.prototype.subscribe=function(t,e){this.callbacks[e]?this.callbacks[e].push(t):this.callbacks[e]=[t]},t.prototype.publish=function(t){if(this.previousEvents.push(t),this.callbacks[t])for(var e in this.callbacks[t])this.callbacks[t][e](t)},t.prototype.executeDVClientCallback=function(){},t}();e.FlashOVVWrapper=a},3121:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DvVideoWrapper=void 0;var i=function(){function t(){this.subscriptionId=1,this.subscribers={},this.previousEvents={}}return t.prototype.subscribe=function(t,e,i){var r=this,n=[],o=function(n){t.some((function(t){return t==r.previousEvents[e][n].eventName}))&&i(e,a.previousEvents[e][n])},a=this;for(var s in this.previousEvents[e])o(s);for(var s in t)this.subscribers[t[s]+e]||(this.subscribers[t[s]+e]=[]),this.subscriptionId++,this.subscribers[t[s]+e].push({func:i,subscriptionId:this.subscriptionId}),n.push(this.subscriptionId);return n},t.prototype.unsubscribe=function(t){var e=this;t.forEach((function(t){Object.keys(e.subscribers).forEach((function(i){e.subscribers[i]=e.subscribers[i].filter((function(e){return e.subscriptionId!=t}))}))}))},t.prototype.publish=function(t,e,i){if(this.previousEvents[e]||(this.previousEvents[e]=[]),this.previousEvents[e].push(i),t&&e&&this.subscribers[t+e]instanceof Array)for(var r=0;r<this.subscribers[t+e].length;r++){var n=this.subscribers[t+e][r].func;n&&"function"==typeof n&&n(e,i)}},t}();e.DvVideoWrapper=i},1063:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.VpaidWrapper=e.VpaidWrapperClass=void 0;var n=i(7749),o=i(3868),a=i(425),s=i(3350),d=i(3121),p=i(2897),c=i(712),u=i(749),l=i(8379),f=function(){function t(){}return t.prototype.start=function(){try{var t={name:"VpaidWrapper",message:void 0};if(n.DvTagDataObject.getTagType()!=c.DvTagType.Video)return;this.currentWindow=o.WindowAdaptor.currentWindow(),this.adid=n.DvTagDataObject.getAdID(),this.adid?(this.dvVpaid=new d.DvVideoWrapper,this.vpaidWrapper=this.getVpaidWrapper(),this.vpaidWrapper?this.createAdAsset(this.adid)?this.subscribeToVpaidEvents(this.vpaidEventHandler.bind(this))?this.handlePreviousEvents():t.message="Failed to subscribe vpaid events":t.message="Failed to create ad asset":t.message="Failed to get vpaid wrapper"):t.message="Failed to get adid",t.message&&(this.dvVpaid=void 0,u.MessageHandler.sendMessage({dvp_vperr:t.message}))}catch(t){this.dvVpaid=void 0,u.MessageHandler.sendError(c.ClientErrorType.MeasurementError,t,"VPaidWrapper")}},t.prototype.getDvVpaid=function(){return this.dvVpaid},t.prototype.isSupported=function(){try{return"function"==typeof o.WindowAdaptor.workingWindow().getVPAIDAd||this.adid&&"function"==typeof o.WindowAdaptor.workingWindow()[this.adid]}catch(t){return!1}},t.prototype.getIntegrationType=function(){return c.IntegrationType.Vpaid},t.prototype.getVpaidWrapper=function(){try{if("function"==typeof o.WindowAdaptor.workingWindow()[this.adid]){var t=o.WindowAdaptor.workingWindow()[this.adid]();return t.viewabilityIntegrationType=c.ViewabilityIntegrationType.Html5,t}return new p.FlashOVVWrapper(this.adid)}catch(t){return}},t.prototype.getPrevEvents=function(){return this.vpaidWrapper.getPreviousEvents?"function"==typeof this.vpaidWrapper.getPreviousEvents?this.vpaidWrapper.getPreviousEvents():this.vpaidWrapper.getPreviousEvents:[]},t.prototype.handlePreviousEvents=function(){var t,e,i=this.getPrevEvents();try{for(var n=r(i),o=n.next();!o.done;o=n.next()){var a=o.value;this.vpaidEventHandler(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.getAdVolume=function(){return this.vpaidWrapper.getAdVolume()},t.prototype.getAdMute=function(){var t=this.getPlayer();if(t){var e=t.muted;if(void 0===e)return 0;if("boolean"==typeof e)return Number(e)}return l.NOT_FOUND_OR_ERROR},t.prototype.vpaidEventHandler=function(t){if(this.dvVpaid){var e={eventName:t,eventTime:void 0,ovvArgs:{ovvData:{objLeft:void 0,objRight:void 0,objTop:void 0,objBottom:void 0,percentViewable:void 0,volume:this.getAdVolume(),muted:this.getAdMute(),adSkippableState:this.getAdSkippableState()}}};this.dvVpaid.publish(t,this.adid,e)}},t.prototype.subscribeToVpaidEvents=function(t){try{return this.vpaidWrapper.subscribe((function(){t("AdLoaded")}),"AdLoaded"),this.vpaidWrapper.subscribe((function(){t("AdImpression")}),"AdImpression"),this.vpaidWrapper.subscribe((function(){t("AdStopped")}),"AdStopped"),this.vpaidWrapper.subscribe((function(){t("AdError")}),"AdError"),this.vpaidWrapper.subscribe((function(){t("AdStarted")}),"AdStarted"),this.vpaidWrapper.subscribe((function(){t("AdSkipped")}),"AdSkipped"),this.vpaidWrapper.subscribe((function(){t("AdPaused")}),"AdPaused"),this.vpaidWrapper.subscribe((function(){t("AdSizeChange")}),"AdSizeChange"),this.vpaidWrapper.subscribe((function(){t("AdPlaying")}),"AdPlaying"),this.vpaidWrapper.subscribe((function(){t("AdExpandedChange")}),"AdExpandedChange"),this.vpaidWrapper.subscribe((function(){t("AdSkippableStateChange")}),"AdSkippableStateChange"),this.vpaidWrapper.subscribe((function(){t("AdLinearChange")}),"AdLinearChange"),this.vpaidWrapper.subscribe((function(){t("AdVideoStart")}),"AdVideoStart"),this.vpaidWrapper.subscribe((function(){t("AdUserAcceptInvitation")}),"AdUserAcceptInvitation"),this.vpaidWrapper.subscribe((function(){t("AdUserClose")}),"AdUserClose"),this.vpaidWrapper.subscribe((function(){t("AdUserMinimize")}),"AdUserMinimize"),this.vpaidWrapper.subscribe((function(){t("AdClickThru")}),"AdClickThru"),this.vpaidWrapper.subscribe((function(){t("AdInteraction")}),"AdInteraction"),this.vpaidWrapper.subscribe((function(){t("AdDurationChange")}),"AdDurationChange"),this.vpaidWrapper.subscribe((function(){t("AdRemainingTimeChange")}),"AdRemainingTimeChange"),this.vpaidWrapper.subscribe((function(){t("AdVolumeChange")}),"AdVolumeChange"),this.vpaidWrapper.subscribe((function(){t("AdVideoFirstQuartile")}),"AdVideoFirstQuartile"),this.vpaidWrapper.subscribe((function(){t("AdVideoMidpoint")}),"AdVideoMidpoint"),this.vpaidWrapper.subscribe((function(){t("AdVideoThirdQuartile")}),"AdVideoThirdQuartile"),this.vpaidWrapper.subscribe((function(){t("AdVideoComplete")}),"AdVideoComplete"),!0}catch(t){return!1}},t.prototype.getPlayer=function(){var t;try{t="function"==typeof this.vpaidWrapper.getPlayer?this.vpaidWrapper.getPlayer():this.vpaidWrapper.getPlayer,a.BrowserAdaptor.smartInstanceof(t,"HTMLElement",this.currentWindow)||(t=this.vpaidWrapper.getSlot())}catch(e){t=void 0}return t},t.prototype.getAdSkippableState=function(){var t;try{t="function"==typeof this.vpaidWrapper.getAdSkippableState?this.vpaidWrapper.getAdSkippableState():this.vpaidWrapper.adSkippableState}catch(t){}return t},t.prototype.getAdDuration=function(){var t;try{t="function"==typeof this.vpaidWrapper.getAdDuration?this.vpaidWrapper.getAdDuration():this.vpaidWrapper.adDuration}catch(t){}return t},t.prototype.getExecuteDVClientCallback=function(){if("function"==typeof this.vpaidWrapper.executeDVClientCallback)return this.vpaidWrapper.executeDVClientCallback},t.prototype.createAdAsset=function(t){var e=this.getPlayer(),i=this.getAdDuration(),r=this.getAdSkippableState();if(e){var n=this.getExecuteDVClientCallback(),o=new s.AdAsset(t,e,i,r,n);return this.dvVpaid.asset=o,this.dvVpaid.viewabilityIntegrationType=this.vpaidWrapper.viewabilityIntegrationType,!0}return!1},t}();e.VpaidWrapperClass=f,e.VpaidWrapper=new f},3868:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.WindowAdaptor=e.WindowAdaptorClass=void 0;var n=i(3380),o=i(2614),a=i(194),s=i(8379),d=i(712),p=function(){function t(){this.topWinAvailable=!0,this.maxIterations=1e3,this.trafficScenarioType=0}return t.prototype.currentWindow=function(){return dvWindow},t.prototype.currentDocument=function(){return document},t.prototype.workingWindow=function(){return a.DvObject.isInjectedAsSibling()?this.currentWindow():this.currentWindow().parent},t.prototype.workingDocument=function(t){var e;return void 0===t&&(t=this.workingWindow()),t&&(e=t.document),e},t.prototype.workingBody=function(t){var e;return void 0===t&&(t=this.workingDocument()),t&&(e=t.body),e},t.prototype.workingDocumentElement=function(){var t,e=this.workingDocument();return e&&(t=e.documentElement),t},t.prototype.windowTop=function(t){if(this.topWinAvailable||t)try{if(t)return this.currentWindow().top;if(this.currentWindow().top.document)return this.currentWindow().top}catch(t){this.topWinAvailable=!1}},t.prototype.isTop=function(t){return t==this.windowTop(!0)},t.prototype.documentTop=function(){var t,e=this.windowTop();return e&&(t=e.document),t},t.prototype.getWindowParent=function(t,e){try{if(e)return t.parent;if(t.parent.document)return t.parent}catch(t){}},t.prototype.windowName=function(){return this.currentWindow().name||(this.currentWindow().frameElement?this.currentWindow().frameElement.id:"")},t.prototype.getFrameElement=function(t){try{return t!==this.currentWindow()&&(this.getScenarioType()&d.Scenario.CrossDomain)===d.Scenario.CrossDomain?null:t&&t.frameElement}catch(t){}},t.prototype.getIframeWindow=function(t){if(t)return t.contentWindow},t.prototype.getDefaultWindow=function(t){try{if(!t||!t.ownerDocument)return;return t.ownerDocument.defaultView}catch(t){}},t.prototype.getElementWindowDimensions=function(t){try{var e=this.getDefaultWindow(t);return e?{height:(i=e).innerHeight,width:i.innerWidth}:null}catch(t){}var i},t.prototype.isDomlessEnvironment=function(){return!1},t.prototype.isIOS=function(){try{var t=this.workingWindow().navigator;return(/iPhone|iPad|iPod|\(Apple TV|iOS|Coremedia|CFNetwork\/.*Darwin/i.test(t.userAgent)||t.vendor&&"apple, inc."===t.vendor.toLowerCase())&&!this.workingWindow().MSStream}catch(t){}},t.prototype.getWindowProtocol=function(){return s.HttpProtocol.Https},t.prototype.setTopAccessibleWindow=function(){var t=this.workingWindow();try{for(var e=0;!this.isTop(t)&&e<this.maxIterations;){var i=this.getWindowParent(t,!0);if(!i.document)break;t=i,e++}}catch(t){}this.topAccessibleWindow=t},t.prototype.getTopAccessibleWindow=function(){return this.topAccessibleWindow||this.setTopAccessibleWindow(),this.topAccessibleWindow},t.prototype.setScenarioType=function(){this.isTop(this.workingWindow())?this.trafficScenarioType|=d.Scenario.OnPage:this.isTop(this.getTopAccessibleWindow())?this.trafficScenarioType|=d.Scenario.SameDomain:this.trafficScenarioType|=d.Scenario.CrossDomain,a.DvObject.isRestrictedAccess()&&(this.trafficScenarioType|=d.Scenario.Restricted),a.DvObject.isInjectedAsSibling()&&(this.trafficScenarioType|=d.Scenario.InjectedAsSibling)},t.prototype.getScenarioType=function(){return this.trafficScenarioType||this.setScenarioType(),this.trafficScenarioType},t.prototype.objectLookup=function(t,e,i){try{var r=t[e];if(r)return r;if(!this.isTop(t)&&i>0)return this.objectLookup(this.getWindowParent(t,!0),e,i-1)}catch(t){}},t.prototype.getUserAgent=function(){return this.workingWindow().navigator&&this.workingWindow().navigator.userAgent},t.prototype.monitorScriptsPerformance=function(t,e){var i,o,a,s,d={};try{if(!t.performance||!t.performance.getEntries)return d;var p=t.performance.getEntries();try{for(var c=r(p),u=c.next();!u.done;u=c.next()){var l=u.value,f=l.name.match(/.*\/(.+?)\./);if(f&&f[1]){var v=f[1].replace(/\d+$/,""),h=e[v];if(h&&h.length){try{for(var y=(a=void 0,r(h)),m=y.next();!m.done;m=y.next()){var g=m.value;d[v+"_"+g]=Math.round(l[g])}}catch(t){a={error:t}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}if(delete e[v],n.Utilities.isEmpty(e))break}}}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}catch(t){}return d},t.prototype.monitorFrameScriptsPerformance=function(t,e){var i,o,a={};if(!t.frames||!t.frames.length)return a;try{for(var s=r(n.Utilities.arrayLikeToArray(t.frames)),d=s.next();!d.done;d=s.next()){var p=d.value;if(a=this.monitorScriptsPerformance(p,e),n.Utilities.isEmpty(e))return a}}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},t.prototype.getVisibilityState=function(){try{return this.workingDocument().visibilityState}catch(t){}},t.prototype.getNavigator=function(){return this.currentWindow().navigator},t.prototype.isCryptoSupported=function(){return"undefined"!=typeof crypto},t.prototype.isMessageChannelSupported=function(){return"undefined"!=typeof MessageChannel},t.prototype.isPostMessageSupported=function(t){return void 0===t&&(t=this.workingWindow()),t&&"function"==typeof t.postMessage},t.prototype.isNodeSupported=function(){return"undefined"!=typeof Node},t.prototype.getCurrentScript=function(){return this.currentDocument().currentScript},t.prototype.isPerformanceAPISupported=function(){var t=this.currentWindow();return!(!t.performance||"function"!=typeof t.performance.mark||"function"!=typeof t.performance.measure||"function"!=typeof t.performance.getEntriesByName)},t.prototype.getNumberOfCores=function(){if(this.getNavigator())return this.getNavigator().hardwareConcurrency},t}();e.WindowAdaptorClass=p;var c=a.DvObject.getDvObject(),u=c&&c.isDomlessEnvironment;e.WindowAdaptor=u?new o.WindowOmidAdaptorClass:new p},2614:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.WindowOmidAdaptorClass=e.WindowMock=void 0;var r=i(712),n=i(8379),o=function(){function t(){}return t.prototype.getWindowMockInstance=function(){return{location:{protocol:"https:"},document:{body:{insertBefore:function(t,e){}},getElementById:function(t){},createElement:function(t){},querySelectorAll:function(t){}}}},t}();e.WindowMock=o;var a=function(){function t(){this.windowMock=dvWindow}return t.prototype.currentWindow=function(){return this.windowMock},t.prototype.currentDocument=function(){return this.currentWindow().document},t.prototype.workingWindow=function(){return this.currentWindow()},t.prototype.workingBody=function(){return this.currentWindow().document.body},t.prototype.workingDocument=function(){return this.currentDocument()},t.prototype.workingDocumentElement=function(){},t.prototype.windowTop=function(t){return this.currentWindow()},t.prototype.isTop=function(t){return!0},t.prototype.documentTop=function(){return this.currentDocument()},t.prototype.getWindowParent=function(t,e){},t.prototype.windowName=function(){return""},t.prototype.getIframeWindow=function(t){},t.prototype.getFrameElement=function(t){},t.prototype.getDefaultWindow=function(t){},t.prototype.isDomlessEnvironment=function(){return!0},t.prototype.isIOS=function(){return!0},t.prototype.getWindowProtocol=function(){return n.HttpProtocol.Https},t.prototype.getTopAccessibleWindow=function(){return this.workingWindow()},t.prototype.getScenarioType=function(){return r.Scenario.Domless},t.prototype.objectLookup=function(t,e,i){},t.prototype.getUserAgent=function(){},t.prototype.monitorScriptsPerformance=function(t,e){return{}},t.prototype.monitorFrameScriptsPerformance=function(t,e){return{}},t.prototype.getVisibilityState=function(){},t.prototype.getNavigator=function(){},t.prototype.isCryptoSupported=function(){return"undefined"!=typeof crypto},t.prototype.isMessageChannelSupported=function(){return!1},t.prototype.isPostMessageSupported=function(){return!1},t.prototype.isNodeSupported=function(){return"undefined"!=typeof Node},t.prototype.getCurrentScript=function(){},t.prototype.isPerformanceAPISupported=function(){return!1},t.prototype.getNumberOfCores=function(){},t}();e.WindowOmidAdaptorClass=a},630:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidAccessModeString=e.OmidScenarioType=void 0,e.OmidScenarioType={APP:"app",WEB:"web"},e.OmidAccessModeString={FULL:"full",DOMAIN:"domain",LIMITED:"limited"}},5492:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdColonyMethod=e.AdColonyMethodClass=void 0;var r=i(712),n=i(6681),o=i(425),a=function(){function t(){this.exposureChangeRegistered=!1}return t.prototype.isSupported=function(t){var e,i,r,o,a;try{if(!n.MraidWrapper.isSupported())return!1;var s=(a=n.MraidWrapper.runMraidFunctionSafely("getSDKVersion")).split(".");e=s[0],i=s[1],r=e>3||3==e&&i>=4,o=n.MraidWrapper.isAdColony()}catch(t){}return!(!r||!o)&&(t.mraidVersion=a.toString(),!0)},t.prototype.registerExposureChange=function(){this.exposureChangeRegistered||(n.MraidWrapper.runMraidRegisterSafely("exposureChange",this.handleExposureChangeEvent.bind(this)),this.exposureChangeRegistered=!0)},t.prototype.getAdCandidateAssets=function(t){if(n.MraidWrapper.getIsMraidReady())return this.registerExposureChange(),{viewportSize:this.getViewportSize(),screenSize:this.getScreenSize(),adGeometric:n.MraidWrapper.runMraidFunctionSafely("getDefaultPosition"),percentage:this.viewabilityPercentage,viewabilityCalculationType:this.getMethodId()}},t.prototype.getViewportSize=function(){return n.MraidWrapper.runMraidFunctionSafely("getScreenSize")},t.prototype.getScreenSize=function(){var t,e,i,r=this.getViewportSize();return r?(e=r.height,i=r.width):(e=(t=o.BrowserAdaptor.getScreenSize()).height,i=t.width),{height:e,width:i}},t.prototype.getMethodId=function(){return r.ViewabilityCalculationType.AdColonyMraid},t.prototype.destroyAdCandidateMethod=function(){},t.prototype.handleExposureChangeEvent=function(t){this.viewabilityPercentage=t},t}();e.AdColonyMethodClass=a,e.AdColonyMethod=new a},8253:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AmpIntersectionObserverMethod=e.AmpIntersectionObserverMethodClass=void 0;var o=i(425),a=i(712),s=i(3868),d=i(3946),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(t){var e=t.windowElement,i=d.BrowserDetector.getBrowserId()!=a.Browser.IE||parseInt(d.BrowserDetector.getBrowserVersion())>11,r=(s.WindowAdaptor.getScenarioType()&a.Scenario.CrossDomain)===a.Scenario.CrossDomain;return i&&r&&!(!e.context||!e.context.observeIntersection)},e.prototype.getAdCandidateAssets=function(t){var e=t.domElement,i=this.getContainerSize(t);this.init(t);var r=o.BrowserAdaptor.getBoundingClientRect(e),n=this.getAdViewablePercentage(t),a=this.getAdPosition(t);return{viewportSize:this.getViewportSize(t.windowElement),containerSize:i,screenSize:this.getScreenSize(),adGeometric:{x:a.left,y:a.top,width:r.width,height:r.height},percentage:n,viewabilityCalculationType:this.getMethodId()}},e.prototype.getViewportSize=function(t){return o.BrowserAdaptor.getOuterViewport(t)},e.prototype.getMethodId=function(){return a.ViewabilityCalculationType.AmpIntersectionObserver},e.prototype.destroyAdCandidateMethod=function(t){t.ampIntersectionObserverStopFunction&&t.ampIntersectionObserverStopFunction()},e.prototype.getAdViewablePercentage=function(t){return t.intersectionObserverData?100*t.intersectionObserverData.intersectionRatio:0},e.prototype.getAdPosition=function(t){if(!t.intersectionObserverData)return{top:0,left:0};var e=t.intersectionObserverData.boundingClientRect;return{top:e.top,left:e.left}},e.prototype.init=function(t){if(!t.ampIntersectionObserverStopFunction){var e=t.windowElement,i=this.visibilityChangeCallback.bind(this,t);t.ampIntersectionObserverStopFunction=e.context.observeIntersection(i)}},e.prototype.visibilityChangeCallback=function(t,e){e.forEach((function(e){return t.intersectionObserverData=e}))},e}(i(7537).WebCalculationMethodBase);e.AmpIntersectionObserverMethodClass=p,e.AmpIntersectionObserverMethod=new p},2434:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){window.isReady=!1,window.animateFrameRate=0;var t=0,e=0,i=requestAnimationFrame||webkitRequestAnimationFrame,r=function(e){t++,i(r)};i(r),setInterval((function(){t<10&&i(r),window.animateFrameRate=t-e,e=t}),100),setTimeout((function(){window.isReady=!0}),250)}},2087:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.FlashBeacons=e.FlashBeaconsClass=void 0;var r=i(425),n=i(194),o=i(712),a=i(3868),s=i(8379),d=i(5999),p=i(3946),c=function(){function t(){}return t.prototype.isSupported=function(){var t=p.BrowserDetector.getBrowserId()==o.Browser.IE;return n.DvObject.isFlashSupported()&&t&&(a.WindowAdaptor.getScenarioType()&o.Scenario.CrossDomain)===o.Scenario.CrossDomain},t.prototype.getAdCandidateAssets=function(t){t.flashBeacons||this.createFlashBeacons(t);var e,i=t.domElement,n=r.BrowserAdaptor.getBoundingClientRect(i);return this.checkBeaconsMechanism(t)&&(e=d.BeaconsAdaptor.getElementVisiblePercentageWithBeacons(t.flashBeacons,this.isBeaconViewable.bind(this))),{viewportSize:this.getViewportSize(t.windowElement),screenSize:this.getScreenSize(),adGeometric:{x:0,y:0,width:n.width,height:n.height},percentage:e,viewabilityCalculationType:this.getMethodId()}},t.prototype.getViewportSize=function(t){return r.BrowserAdaptor.getOuterViewport(t)},t.prototype.getScreenSize=function(){return r.BrowserAdaptor.getScreenSize()},t.prototype.getMethodId=function(){return o.ViewabilityCalculationType.FlashBeacons},t.prototype.destroyAdCandidateMethod=function(t){var e=a.WindowAdaptor.workingDocument(t.windowElement),i=a.WindowAdaptor.workingBody(e);t.flashBeacons&&t.flashBeacons.forEach((function(t){return i.removeChild(t)}))},t.prototype.isBeaconViewable=function(t){var e=this.getFlashBeacon(t);return e.isViewable&&e.isViewable()},t.prototype.createFlashBeacons=function(t){t.flashBeacons=[];var e=a.WindowAdaptor.workingDocument(t.windowElement),i=a.WindowAdaptor.workingBody(e),n=r.BrowserAdaptor.createElement("div");i.appendChild(n);for(var o=[],p=0;p<s.BeaconConstants.TOTAL_BEACONS;p++){var c=e.createElement("div");c.id="OVVBeaconContainer_"+p,c.style.position="absolute",c.style.zIndex="-99999";var u='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" \n                              width="'+s.BeaconConstants.FLASH_BEACON_SIZE+'" height="'+s.BeaconConstants.FLASH_BEACON_SIZE+'">\n                           <param name="movie" value="'+s.BeaconConstants.FLASH_BEACON_URL+'" />\n                           <param name="quality" value="low" />\n                           <param name="flashvars" value="id='+p+"&index="+p+'" />\n                           <param name="bgcolor" value="#ffffff" />\n                           <param name="wmode" value="transparent" />\n                           <param name="allowScriptAccess" value="always" />\n                           <param name="allowFullScreen" value="false" />\n                           <object id="OVVBeacon_'+p+'" type="application/x-shockwave-flash" data="'+s.BeaconConstants.FLASH_BEACON_URL+'" \n                              width="'+s.BeaconConstants.FLASH_BEACON_SIZE+'" height="'+s.BeaconConstants.FLASH_BEACON_SIZE+'">\n                           <param name="quality" value="low" />\n                           <param name="flashvars" value="id='+p+"&index="+p+'" />\n                           <param name="bgcolor" value="#ff0000" />\n                           <param name="wmode" value="transparent" />\n                           <param name="allowScriptAccess" value="always" />\n                           <param name="allowFullScreen" value="false" />\n                         </object>';c.innerHTML=u,i.insertBefore(c,i.firstChild),o.push(c)}t.flashBeacons=o,d.BeaconsAdaptor.positionBeacons(t.domElement,o,s.BeaconConstants.FLASH_BEACON_SIZE)},t.prototype.checkBeaconsMechanism=function(t){if(!t.flashBeacons||0==t.flashBeacons.length)return!1;var e=this.getFlashBeacon(t.flashBeacons[0]);return e.isViewable&&!e.isViewable()},t.prototype.getFlashBeacon=function(t){return t.getElementsByTagName("object")[1]},t}();e.FlashBeaconsClass=c,e.FlashBeacons=new c},4254:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.GeometricMethod=e.GeometricMethodClass=void 0;var o=i(425),a=i(3868),s=i(712),d=i(3380),p=i(749),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return!((a.WindowAdaptor.getScenarioType()&s.Scenario.CrossDomain)===s.Scenario.CrossDomain)},e.prototype.getAdCandidateAssets=function(t){var e=t.domElement,i=t.windowElement,r=this.getAssetVisibleDimension(e,i),n=this.getAssetPercentageInViewRelativeToDirectParent(e,i),o=this.getViewportSize(),a=this.getContainerSize(t),s=this.getOffScreenAssetVisibleDimension(r,i),p=this.getOffScreenViewportSize(i),c=d.Utilities.getElementVisiblePercentage(r,o);c&&n&&(c*=n);var u=d.Utilities.getElementVisiblePercentage(s,p);return{viewportSize:o,containerSize:a,screenSize:this.getScreenSize(),adGeometric:{y:r.top,x:r.left,width:r.width,height:r.height},percentage:c,offScreenPercentage:u,viewabilityCalculationType:this.getMethodId()}},e.prototype.getViewportSize=function(){return o.BrowserAdaptor.getInnerViewport()},e.prototype.getMethodId=function(){return s.ViewabilityCalculationType.Geometric},e.prototype.getBoundariesViewability=function(t){var e=t.domElement,i=this.getAssetVisibleDimension(e,t.windowElement),r=this.getViewportSize(),n={topLeft:!0,topRight:!0,bottomLeft:!0,bottomRight:!0};return(i.top<0||i.top>r.height)&&(n.topLeft=n.topRight=!1),(i.bottom<0||i.bottom>r.height)&&(n.bottomLeft=n.bottomRight=!1),(i.left<0||i.left>r.width)&&(n.bottomLeft=n.topLeft=!1),(i.right<0||i.right>r.width)&&(n.bottomRight=n.topRight=!1),n},e.prototype.getOffScreenViewportSize=function(t){var e={width:this.getViewportSize().width,height:this.getViewportSize().height},i=o.BrowserAdaptor.getViewportAssetsRelativeToScreen(t),r=o.BrowserAdaptor.getOuterViewport(t).height-e.height,n=i.top+r,a=o.BrowserAdaptor.getScreenSize();return i.left<0?e.width+=i.left:i.left>0&&i.left+e.width>a.width&&(e.width=a.width-i.left),n>0&&n+e.height>a.height&&(e.height=a.height-n),e},e.prototype.getAssetVisibleDimension=function(t,e){var i={width:0,height:0,left:0,right:0,top:0,bottom:0},r=a.WindowAdaptor.getWindowParent(e);try{if(t&&(i=this.getElementPositionRelativeToViewport(t,e),e!=r)){var n=this.getAssetVisibleDimension(e.frameElement,r);i.bottom=Math.min(i.bottom,n.bottom),i.top=Math.max(i.top,n.top),i.right=Math.min(i.right,n.right),i.left=Math.max(i.left,n.left),i.width=i.right-i.left,i.height=i.bottom-i.top}}catch(t){}return i},e.prototype.getAssetPercentageInViewRelativeToDirectParent=function(t,e){try{var i=this.getAssetVisibleDimension(t,e);if(t){var r=o.BrowserAdaptor.getBoundingClientRect(t),n=r.right-r.left,a=(r.bottom-r.top)*n;if(a<=0)return;return i.height*i.width/a}}catch(t){p.MessageHandler.sendError(s.ClientErrorType.MeasurementError,t,"percentage_in_view_geometric_calculation_err")}},e.prototype.getOffScreenAssetVisibleDimension=function(t,e){var i=o.BrowserAdaptor.getViewportAssetsRelativeToScreen(e).left,r={left:t.left,right:t.right,top:t.top,bottom:t.bottom,height:t.height,width:t.width};return i<0&&(r.left+=i,r.right+=i),r},e.prototype.getElementPositionRelativeToViewport=function(t,e){var i={left:0,right:0,top:0,bottom:0,width:0,height:0},r=a.WindowAdaptor.getWindowParent(e),n=o.BrowserAdaptor.getBoundingClientRect(t);return e!=r&&(i=this.getElementPositionRelativeToViewport(e.frameElement,r)),i={left:n.left+i.left,right:n.right+i.left,top:n.top+i.top,bottom:n.bottom+i.top,width:n.width,height:n.height}},e}(i(7537).WebCalculationMethodBase);e.GeometricMethodClass=c,e.GeometricMethod=new c},9965:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.IntersectionObserverMethod=e.IntersectionObserverMethodClass=void 0;var o=i(425),a=i(712),s=i(3868),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.threshold=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],e}return n(e,t),e.prototype.isSupported=function(t){return(s.WindowAdaptor.getScenarioType()&a.Scenario.CrossDomain)===a.Scenario.CrossDomain&&this.isIntersectionObserverSupported(t.windowElement)},e.prototype.isIntersectionObserverSupported=function(t){return"IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype},e.prototype.getAdCandidateAssets=function(t){var e=t.domElement,i=this.getContainerSize(t);this.init(t);var r=o.BrowserAdaptor.getBoundingClientRect(e),n=this.getAdViewablePercentage(t),a=this.getAdPosition(t);return{viewportSize:this.getViewportSize(t.windowElement),containerSize:i,screenSize:this.getScreenSize(),adGeometric:{x:a.left,y:a.top,width:r.width,height:r.height},percentage:n,viewabilityCalculationType:this.getMethodId()}},e.prototype.getViewportSize=function(t){return o.BrowserAdaptor.getOuterViewport(t)},e.prototype.getMethodId=function(){return a.ViewabilityCalculationType.IntersectionObserver},e.prototype.destroyAdCandidateMethod=function(t){t.intersectionObserverObj&&t.intersectionObserverObj.unobserve(t.domElement)},e.prototype.getAdViewablePercentage=function(t){return t.intersectionObserverData&&t.intersectionObserverData.intersectionRatio?100*t.intersectionObserverData.intersectionRatio:0},e.prototype.getAdPosition=function(t){var e={top:0,left:0};return t.intersectionObserverData&&t.intersectionObserverData.intersectionRect&&(e={top:t.intersectionObserverData.intersectionRect.top,left:t.intersectionObserverData.intersectionRect.left}),e},e.prototype.init=function(t){if(!t.intersectionObserverObj){var e=t.domElement,i=this.visibilityChangeCallback.bind(this,t);t.intersectionObserverObj=new t.windowElement.IntersectionObserver(i,{threshold:this.threshold}),t.intersectionObserverObj.observe(e)}},e.prototype.visibilityChangeCallback=function(t,e){e.forEach((function(e){return t.intersectionObserverData=e}))},e}(i(7537).WebCalculationMethodBase);e.IntersectionObserverMethodClass=d,e.IntersectionObserverMethod=new d},8781:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Mraid3Method=e.Mraid3MethodClass=void 0;var r=i(712),n=i(6681),o=i(425),a=function(){function t(){this.exposureChangeRegistered=!1}return t.prototype.isSupported=function(t){var e,i;try{e=(i=n.MraidWrapper.runMraidFunctionSafely("getVersion")).split(".")[0]}catch(t){}return!(!n.MraidWrapper.isSupported()||"3"!=e)&&(t.mraidVersion=i,!0)},t.prototype.registerExposureChange=function(){this.exposureChangeRegistered||(n.MraidWrapper.runMraidRegisterSafely("exposureChange",this.handleExposureChangeEvent.bind(this)),this.exposureChangeRegistered=!0)},t.prototype.handleExposureChangeEvent=function(t){this.viewabilityPercentage=t.exposedPercentage},t.prototype.getAdCandidateAssets=function(t){if(n.MraidWrapper.getIsMraidReady())return this.registerExposureChange(),{viewportSize:this.getViewportSize(),screenSize:this.getScreenSize(),adGeometric:n.MraidWrapper.runMraidFunctionSafely("getDefaultPosition"),percentage:null!=this.viewabilityPercentage?this.viewabilityPercentage:n.MraidWrapper.getAdViewablePercentage(),viewabilityCalculationType:this.getMethodId()}},t.prototype.getViewportSize=function(){return n.MraidWrapper.runMraidFunctionSafely("getScreenSize")},t.prototype.getScreenSize=function(){var t,e,i,r=this.getViewportSize();return r?(e=r.height,i=r.width):(e=(t=o.BrowserAdaptor.getScreenSize()).height,i=t.width),{height:e,width:i}},t.prototype.getMethodId=function(){return r.ViewabilityCalculationType.Mraid3},t.prototype.destroyAdCandidateMethod=function(){},t}();e.Mraid3MethodClass=a,e.Mraid3Method=new a},8317:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidMethod=e.MraidMethodClass=void 0;var r=i(712),n=i(6681),o=i(425),a=function(){function t(){}return t.prototype.isSupported=function(t){return!!n.MraidWrapper.isSupported()&&(t.mraidVersion=n.MraidWrapper.runMraidFunctionSafely("getVersion"),!0)},t.prototype.getAdCandidateAssets=function(t){if(n.MraidWrapper.getIsMraidReady()){var e=n.MraidWrapper.runMraidFunctionSafely("getDefaultPosition"),i={height:(o=void 0===(r=e)?{}:r).height,width:o.width};return{viewportSize:this.getViewportSize(),containerSize:i,screenSize:this.getScreenSize(),adGeometric:n.MraidWrapper.runMraidFunctionSafely("getDefaultPosition"),percentage:n.MraidWrapper.getAdViewablePercentage(),viewabilityCalculationType:this.getMethodId()}}var r,o},t.prototype.getViewportSize=function(){return n.MraidWrapper.runMraidFunctionSafely("getScreenSize")},t.prototype.getScreenSize=function(){var t,e,i,r=this.getViewportSize();return r?(e=r.height,i=r.width):(e=(t=o.BrowserAdaptor.getScreenSize()).height,i=t.width),{height:e,width:i}},t.prototype.getMethodId=function(){return r.ViewabilityCalculationType.Mraid},t.prototype.destroyAdCandidateMethod=function(){},t}();e.MraidMethodClass=a,e.MraidMethod=new a},8996:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidMethod=e.OmidMethodClass=void 0;var r=i(712),n=i(6689),o=i(425),a=i(8379),s=i(7360),d=i(1800),p=i(749),c=i(3380),u=function(){function t(){}return t.prototype.isSupported=function(t){return n.OmidWrapper.isSupported()},t.prototype.getAdCandidateAssets=function(t){this.init(t);var e,i,r,n=t.omidViewport,o=t.omidContainerSize,p=0;if(t.omidAdView&&(e=t.omidAdView.percentageInView,i=t.omidAdView.geometry,r=t.omidAdView.reasons),Array.isArray(r)&&r.length){r.forEach((function(t){return p|=a.OmidGeometryReasonLog[t]}));var c=t.omidGeometryReasonsBitWise|p;p&&c!=t.omidGeometryReasonsBitWise&&(t.omidGeometryReasonsBitWise=c,s.EventBus.dispatchEvent(s.DvEvent.reportData,new d.AdCandidateEventData(t)))}return{viewportSize:n,screenSize:this.getScreenSize(null,t),adGeometric:i,percentage:e,viewabilityCalculationType:this.getMethodId(),containerSize:o}},t.prototype.getViewportSize=function(t,e){return e.omidViewport},t.prototype.getScreenSize=function(t,e){var i,r,n,a=this.getViewportSize(null,e);return a?(r=a.height,n=a.width):(r=(i=o.BrowserAdaptor.getScreenSize()).height,n=i.width),{height:r,width:n}},t.prototype.getMethodId=function(){return r.ViewabilityCalculationType.Omid},t.prototype.destroyAdCandidateMethod=function(){},t.prototype.init=function(t){var e=this;t.omidInitialized||(t.omidInitialized=!0,["geometryChange","impression"].forEach((function(i){return n.OmidWrapper.addEventListener(i,e.geometryChangeCallback.bind(e,t,i))})))},t.prototype.geometryChangeCallback=function(t,e,i){if(i&&i.data){var r=i.data;r.adView&&(t.omidAdView=r.adView,"geometryChange"===e&&!t.omidFirstAdSizeFromGeometryMs&&r.adView.geometry&&r.adView.geometry.width>0&&r.adView.geometry.height>0&&(t.omidFirstAdSizeFromGeometryMs=c.Utilities.getTimeDiff(),t.omidContainerSize=this.extractContainerSize(i),p.MessageHandler.sendMessage({dvp_omfadsfgms:t.omidFirstAdSizeFromGeometryMs}))),r.viewport&&(t.omidViewport=r.viewport)}},t.prototype.extractContainerSize=function(t){var e;try{var i=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.adView,r=null==i?void 0:i.measuringElement,n=function(t){var e=void 0===t?{}:t;return{height:e.height,width:e.width}};if(r)return n(i.containerGeometry);var o=null==i?void 0:i.geometry;if(o)return n(o)}catch(t){}},t}();e.OmidMethodClass=u,e.OmidMethod=new u},986:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceBased=e.ResourceBasedClass=void 0;var o=i(425),a=i(712),s=i(3868),d=i(3380),p=i(8379),c=i(5999),u=i(3946),l=i(2434),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){var t=(u.BrowserDetector.getBrowserId()==a.Browser.Safari||u.BrowserDetector.getBrowserId()==a.Browser.SafariWebView)&&!/^[3-8]/.test(u.BrowserDetector.getBrowserVersion())||(u.BrowserDetector.getBrowserId()==a.Browser.Chrome||u.BrowserDetector.getBrowserId()==a.Browser.ChromeWebView)&&parseInt(u.BrowserDetector.getBrowserVersion())>=50;return(s.WindowAdaptor.getScenarioType()&a.Scenario.CrossDomain)===a.Scenario.CrossDomain&&t},e.prototype.getAdCandidateAssets=function(t){t.resourceBasedBeacons||this.createFrameBeacons(t);var e,i=this.getContainerSize(t),r=t.domElement,n=o.BrowserAdaptor.getBoundingClientRect(r);if(this.checkBeaconsMechanism(t)){var s=t.resourceBasedBeacons[a.BeaconPosition.CONTROL];e=c.BeaconsAdaptor.getElementVisiblePercentageWithBeacons(t.resourceBasedBeacons,this.isBeaconViewable.bind(this,s))}return{viewportSize:this.getViewportSize(t.windowElement),containerSize:i,screenSize:this.getScreenSize(),adGeometric:{x:0,y:0,width:n.width,height:n.height},percentage:e,viewabilityCalculationType:this.getMethodId()}},e.prototype.getViewportSize=function(t){return o.BrowserAdaptor.getOuterViewport(t)},e.prototype.getMethodId=function(){return a.ViewabilityCalculationType.ResourceBased},e.prototype.destroyAdCandidateMethod=function(t){if(t.resourceBasedBeacons){var e=t.resourceBasedBeacons[0].parentElement,i=s.WindowAdaptor.workingDocument(t.windowElement);s.WindowAdaptor.workingBody(i).removeChild(e),t.resourceBasedBeacons=null}},e.prototype.getBoundariesViewability=function(t){t.resourceBasedBeacons||this.createFrameBeacons(t);var e={topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1};if(!this.checkBeaconsMechanism(t))return e;for(var i=t.resourceBasedBeacons[a.BeaconPosition.CONTROL],r=1;r<=4;r++){var n=t.resourceBasedBeacons[r];if(this.isBeaconViewable(i,n))switch(r){case a.BeaconPosition.OUTER_TOP_LEFT:e.topLeft=!0;break;case a.BeaconPosition.OUTER_TOP_RIGHT:e.topRight=!0;break;case a.BeaconPosition.OUTER_BOTTOM_LEFT:e.bottomLeft=!0;break;case a.BeaconPosition.OUTER_BOTTOM_RIGHT:e.bottomRight=!0}}return e},e.prototype.isBeaconViewable=function(t,e){var i=s.WindowAdaptor.getIframeWindow(t).animateFrameRate;return s.WindowAdaptor.getIframeWindow(e).animateFrameRate-i>p.BeaconConstants.FRAME_RATE_VIEW_THRESHOLD},e.prototype.createFrameBeacons=function(t){t.resourceBasedBeacons=[];var e=s.WindowAdaptor.workingDocument(t.windowElement),i=o.BrowserAdaptor.createElement("div");s.WindowAdaptor.workingBody(e).appendChild(i);var r=[];d.Utilities.times(p.BeaconConstants.TOTAL_BEACONS,(function(){var t=o.BrowserAdaptor.createElement("iframe");t.width=p.BeaconConstants.JS_BEACON_SIZE.toString(),t.height=p.BeaconConstants.JS_BEACON_SIZE.toString(),t.style.position="absolute",t.frameBorder="0",t.style.visibility="hidden",i.appendChild(t);var e=t.contentDocument.createElement("script");e.innerHTML="("+l.default.toString()+")()",t.contentDocument.body.appendChild(e),r.push(t)})),t.resourceBasedBeacons=r,c.BeaconsAdaptor.positionBeacons(t.domElement,r,p.BeaconConstants.JS_BEACON_SIZE)},e.prototype.checkBeaconsMechanism=function(t){if(!t.resourceBasedBeacons||0==t.resourceBasedBeacons.length)return!1;var e=t.resourceBasedBeacons[a.BeaconPosition.CONTROL],i=s.WindowAdaptor.getIframeWindow(e),r=i.animateFrameRate;return i.isReady&&r<p.BeaconConstants.FRAME_RATE_CONTROL_THRESHOLD},e}(i(7537).WebCalculationMethodBase);e.ResourceBasedClass=f,e.ResourceBased=new f},6662:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScreenGeometricMethod=e.ScreenGeometricMethodClass=void 0;var o=i(425),a=i(712),s=i(3946),d=i(3868),p=i(3380),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(t){var e=t.windowElement,i=(d.WindowAdaptor.getScenarioType()&a.Scenario.CrossDomain)===a.Scenario.CrossDomain,r=s.BrowserDetector.getBrowserId()==a.Browser.IE&&null!=e.screenTop&&null!=e.screenLeft,n=s.BrowserDetector.getBrowserId()==a.Browser.Firefox&&null!=e.mozInnerScreenX&&null!=e.mozInnerScreenY;return i&&(r||n)},e.prototype.getAdCandidateAssets=function(t){var e=t.domElement,i=this.getViewportSize(t.windowElement),r=this.getContainerSize(t),n={width:0,height:0,left:0,right:0,top:0,bottom:0},a=o.BrowserAdaptor.getViewportAssetsRelativeToScreen(t.windowElement),s=o.BrowserAdaptor.getIframeAssetsRelativeToScreen(t.windowElement),d=s.left-a.left,c=s.top-a.top,u=o.BrowserAdaptor.getBoundingClientRect(e);n.left=d+u.left,n.right=d+u.right,n.top=c+u.top,n.bottom=c+u.bottom,n.width=u.width,n.height=u.height;var l=p.Utilities.getElementVisiblePercentage(n,i);return{viewportSize:this.getViewportSize(t.windowElement),containerSize:r,screenSize:this.getScreenSize(),adGeometric:{x:n.left,y:n.top,width:n.width,height:n.height},percentage:l,viewabilityCalculationType:this.getMethodId()}},e.prototype.getViewportSize=function(t){return o.BrowserAdaptor.getOuterViewport(t)},e.prototype.getMethodId=function(){return a.ViewabilityCalculationType.ScreenGeometric},e}(i(7537).WebCalculationMethodBase);e.ScreenGeometricMethodClass=c,e.ScreenGeometricMethod=new c},7537:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCalculationMethodBase=void 0;var r=i(3868),n=i(425),o=function(){function t(){}return t.prototype.getContainerSize=function(t){try{return r.WindowAdaptor.getElementWindowDimensions(t.domElement)}catch(t){}},t.prototype.getScreenSize=function(){return n.BrowserAdaptor.getScreenSize()},t.prototype.destroyAdCandidateMethod=function(t){},t}();e.WebCalculationMethodBase=o},7815:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenAdsDataCollector=void 0;var o=i(912),a=i(194),s=i(425),d=i(3868),p=i(712),c=i(7749),u=i(3380),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return!(d.WindowAdaptor.isDomlessEnvironment()||(d.WindowAdaptor.getScenarioType()&p.Scenario.CrossDomain)===p.Scenario.CrossDomain)},e.prototype.startCollectData=function(t){var e=0;try{var i=c.DvTagDataObject.isSellerTag(),r=u.Utilities.isPercentageCriteriaPassed(5),n=a.DvObject.isCTV()||a.DvObject.isMobileApp()||t.supportedDeliveryType.some((function(t){return t==p.DetectedDeliveryType.MobileApp||t==p.DetectedDeliveryType.Ctv}));e=!r||i||n||!t.domElement?0:s.BrowserAdaptor.isAdElementHidden(t.domElement)}catch(t){e=-1}t.hiddenAdsIndicator=e},e.prototype.stopCollectData=function(t){},e}(o.BaseAdDataCollector);e.HiddenAdsDataCollector=l},1194:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AutoplayDataCollector=void 0;var o=i(912),a=i(7749),s=i(712),d=i(3939),p=i(7360),c=i(9205),u=i(6942),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==s.DvTagType.Video},e.prototype.startCollectData=function(t){var e=p.EventBus.addEventListener(p.DvEvent.videoStartPlaying,this.checkIsAutoplay.bind(this));t.autoplayEventSubscriptionIds.push(e)},e.prototype.stopCollectData=function(t){p.EventBus.removeEventListener(t.autoplayEventSubscriptionIds[0])},e.prototype.getSupportedAutoplayMethods=function(t){return[d.DetectAutoplayByAutoplayAttribute,c.DetectAutoplayByTime,u.DetectAutoplayByJWPlayer].filter((function(e){return e.isSupported(t)}))},e.prototype.checkIsAutoplay=function(t){var e=t.adCandidate;if(void 0===e.autoplayDetectionMethod){var i=e,r=this.getSupportedAutoplayMethods(e);i.autoplayDetectionMethod=0,r.forEach((function(t){t.isAutoplayed(e)&&(i.autoplayDetectionMethod=i.autoplayDetectionMethod|t.getMethodId())}))}},e}(o.BaseAdDataCollector);e.AutoplayDataCollector=l},3939:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DetectAutoplayByAutoplayAttribute=e.DetectAutoplayByAutoplayAttributeClass=void 0;var r=i(712),n=i(3380),o=i(425),a=function(){function t(){}return t.prototype.isSupported=function(t){return t&&n.Utilities.isVideoElement(t.domElement)},t.prototype.getMethodId=function(){return r.AutoplayMethods.AutoplayAttribute},t.prototype.isAutoplayed=function(t){return o.BrowserAdaptor.getAttribute(t.domElement,"autoplay")||!1},t}();e.DetectAutoplayByAutoplayAttributeClass=a,e.DetectAutoplayByAutoplayAttribute=new a},6942:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DetectAutoplayByJWPlayer=e.DetectAutoplayByJWPlayerClass=void 0;var r=i(712),n=i(3868),o=function(){function t(){}return t.prototype.isSupported=function(){return"function"==typeof n.WindowAdaptor.workingWindow().jwplayer},t.prototype.getMethodId=function(){return r.AutoplayMethods.JWPlayer},t.prototype.isAutoplayed=function(){var t=!1,e=n.WindowAdaptor.workingWindow().jwplayer(),i=e&&e.getConfig&&e.getConfig();return i&&(t=i.autostart),t},t}();e.DetectAutoplayByJWPlayerClass=o,e.DetectAutoplayByJWPlayer=new o},9205:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DetectAutoplayByTime=e.DetectAutoplayByTimeClass=void 0;var r=i(3380),n=i(712),o=i(425),a=function(){function t(){this.isAutoplayedTimeThreshold=1e3}return t.prototype.isSupported=function(){return!0},t.prototype.getMethodId=function(){return n.AutoplayMethods.Timing},t.prototype.isAutoplayed=function(t){var e=o.BrowserAdaptor.getNavigationStartTime(),i=!1;return e&&(i=t.videoStartTime-r.Utilities.getTimeDiff(e)<=this.isAutoplayedTimeThreshold),i},t}();e.DetectAutoplayByTimeClass=a,e.DetectAutoplayByTime=new a},912:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdDataCollector=void 0;var r=i(7360),n=function(){function t(){var t;this.isSupported()&&r.EventBus.addEventsListener(((t={})[r.DvEvent.adCandidateApproved]=this.startCollectDataWrapper.bind(this),t[r.DvEvent.adDestroy]=this.stopCollectDataWrapper.bind(this),t))}return t.prototype.startCollectDataWrapper=function(t){this.startCollectData(t.adCandidate)},t.prototype.stopCollectDataWrapper=function(t){this.stopCollectData(t.adCandidate)},t}();e.BaseAdDataCollector=n},7449:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGlobalDataCollector=void 0;var r=i(7360),n=function(){function t(){var t;this.isSupported()&&(this.startCollectData(),r.EventBus.addEventsListener(((t={})[r.DvEvent.adCandidateApproved]=this.registerToGlobalEvent.bind(this),t)))}return t.prototype.processAdDataWrapper=function(t){this.processAdData(t.adCandidate)},t.prototype.registerToGlobalEvent=function(t){r.EventBus.addEventListener(this.getGlobalEventName(),this.processAdDataWrapper.bind(this,t))},t}();e.BaseGlobalDataCollector=n},9615:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.BoundariesViewabilityDataCollector=void 0;var o=i(986),a=i(4254),s=i(7360),d=i(1800),p=i(712),c=i(912),u=i(6689),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return!u.OmidWrapper.isSupported()},e.prototype.startCollectData=function(t){if(t.supportedDeliveryType.some((function(t){return t==p.DetectedDeliveryType.MobileWeb}))){var e=this.getSupportedMethod(t);if(!e)return;s.EventBus.addEventListener(s.DvEvent.viewabilityIntervalData,this.handleViewabilityData.bind(this,e))}},e.prototype.stopCollectData=function(t){o.ResourceBased.destroyAdCandidateMethod(t)},e.prototype.getArea=function(t){if(t&&t.width&&t.height)return t.width*t.height},e.prototype.handleViewabilityData=function(t,e){var i=e.adCandidate,r=e.relevantData,n=this.getArea(r.adGeometric),o=this.getArea(r.viewportSize);n&&o&&n<o||this.publishAdBoundariesViewabilityData(t,i)},e.prototype.getSupportedMethod=function(t){return[a.GeometricMethod,o.ResourceBased].filter((function(e){return e.isSupported(t)}))[0]},e.prototype.publishAdBoundariesViewabilityData=function(t,e){var i=t.getBoundariesViewability(e);s.EventBus.dispatchEvent(s.DvEvent.boundariesViewabilityIntervalData,new d.AdCandidateEventData(e,{boundariesViewability:i}))},e}(c.BaseAdDataCollector);e.BoundariesViewabilityDataCollector=l},5593:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionAdSizeDataCollector=void 0;var o=i(7360),a=i(912),s=i(1800),d=i(6689),p=i(425),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.interval=100,e}return n(e,t),e.prototype.isSupported=function(){return!d.OmidWrapper.isSupported()},e.prototype.startCollectData=function(t){var e=this;t.adSizeIntervalId=p.BrowserAdaptor.setInterval((function(){try{e.handleAdSize(t)}catch(t){}}),this.interval)},e.prototype.handleAdSize=function(t){var e=t.domElement,i={width:e.clientWidth,height:e.clientHeight};i.width&&i.height&&this.reportData(t,{adSize:i})},e.prototype.reportData=function(t,e){o.EventBus.dispatchEvent(o.DvEvent.adSizeData,new s.AdCandidateEventData(t,e))},e.prototype.stopCollectData=function(t){p.BrowserAdaptor.clearInterval(t.adSizeIntervalId)},e}(a.BaseAdDataCollector);e.InteractionAdSizeDataCollector=c},6762:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionClickDataCollector=void 0;var o=i(7353),a=i(7360),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getEventNameToListen=function(){return"click"},e.prototype.getEventNameToReport=function(){return a.DvEvent.clickData},e}(o.InteractionElementEventDataCollector);e.InteractionClickDataCollector=s},7353:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionElementEventDataCollector=void 0;var o=i(7360),a=i(425),s=i(912),d=i(1800),p=i(6689),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return!p.OmidWrapper.isSupported()},e.prototype.startCollectData=function(t){var e=this.getEventNameToListen(),i=this.handleElementEvent.bind(this,t);t.domEvents[e]=i,a.BrowserAdaptor.addEventListener(e,i,t.domElement)},e.prototype.handleElementEvent=function(t){o.EventBus.dispatchEvent(this.getEventNameToReport(),new d.AdCandidateEventData(t))},e.prototype.stopCollectData=function(t){var e=this.getEventNameToListen();a.BrowserAdaptor.removeEventListener(e,t.domEvents[e],t.domElement)},e}(s.BaseAdDataCollector);e.InteractionElementEventDataCollector=c},6054:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionHoverDataCollector=void 0;var o=i(7353),a=i(7360),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getEventNameToListen=function(){return"mouseover"},e.prototype.getEventNameToReport=function(){return a.DvEvent.hoverData},e}(o.InteractionElementEventDataCollector);e.InteractionHoverDataCollector=s},9242:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionTouchDataCollector=void 0;var o=i(7353),a=i(7360),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getEventNameToListen=function(){return"touchstart"},e.prototype.getEventNameToReport=function(){return a.DvEvent.touchData},e}(o.InteractionElementEventDataCollector);e.InteractionTouchDataCollector=s},2237:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionUnloadDataCollector=void 0;var o=i(425),a=i(3868),s=i(7360),d=i(3380),p=i(194),c=i(1800),u=i(6689),l=i(7449),f=i(712),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.startCollectData=function(){this.registerToDomEnvironment(),this.registerToOmidEnvironment(),this.timeoutId=o.BrowserAdaptor.setTimeout(this.reportDueToTimeout.bind(this),f.ImpressionSessionTime.LAST_MINUTE_WITHIN_IMPRESSION_SESSION)},e.prototype.getGlobalEventName=function(){return s.DvEvent.globalUnloadData},e.prototype.processAdData=function(t){t.timeUntilUnloadMs=d.Utilities.getTimeDiff(),s.EventBus.dispatchEvent(s.DvEvent.unloadData,new c.AdCandidateEventData(t)),s.EventBus.dispatchEvent(s.DvEvent.reportData,new c.AdCandidateEventData(t)),t.wasAdStopped=!0},e.prototype.isSupported=function(){return!0},e.prototype.registerToDomEnvironment=function(){var t=this;this.domEvents={},s.EventBus.addEventListener(s.DvEvent.impressionServed,this.registerToVisibilityChange.bind(this),"InteractionUnloadDataCollector");var e=this.handleUnload.bind(this);["beforeunload","unload","pagehide"].forEach((function(i){t.domEvents[i]=e,o.BrowserAdaptor.addEventListener(i,e,a.WindowAdaptor.workingWindow()),o.BrowserAdaptor.addEventListener(i,e,a.WindowAdaptor.currentWindow())}))},e.prototype.registerToOmidEnvironment=function(){u.OmidWrapper.isSupported()&&u.OmidWrapper.registerSessionObserver(this.handleOmidUnload.bind(this))},e.prototype.reportDueToTimeout=function(){this.timeMsUntilUnload||this.handleUnload()},e.prototype.registerToVisibilityChange=function(){var t=this.handleUnloadForVisibilityChange.bind(this);if(p.DvObject.isMobile()&&o.BrowserAdaptor.isVisibilityChangeEventSupported()){this.lastVisibilityState=a.WindowAdaptor.currentDocument().visibilityState;var e=o.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";o.BrowserAdaptor.addEventListener(e,t,a.WindowAdaptor.workingDocument()),this.domEvents[e]=t}},e.prototype.handleUnloadForVisibilityChange=function(){var t=a.WindowAdaptor.currentDocument().visibilityState;this.lastVisibilityState!=t&&"hidden"===t&&this.handleUnload(),this.lastVisibilityState=t},e.prototype.isMaxTimePassed=function(){var t=d.Utilities.getTimeDiff();return!(!this.timeMsUntilUnload&&t<f.ImpressionSessionTime.MAX_EVENT_SENDING_ALLOWED)||(this.timeMsUntilUnload=t,!1)},e.prototype.handleUnload=function(){this.isMaxTimePassed()||this.unloadFired||(s.EventBus.dispatchEvent(this.getGlobalEventName(),new c.EventData),this.unloadFired=!0)},e.prototype.handleOmidUnload=function(t){"sessionFinish"===t.type&&this.handleUnload()},e}(l.BaseGlobalDataCollector);e.InteractionUnloadDataCollector=v},7196:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.OmidInteractionDataCollector=void 0;var o=i(7360),a=i(912),s=i(1800),d=i(6689),p=i(8379),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return d.OmidWrapper.isSupported()},e.prototype.startCollectData=function(t){var e=this;Object.keys(p.OmidEvents).forEach((function(i){return d.OmidWrapper.addEventListener(i,e.handleOmidEvent.bind(e,i,t))}))},e.prototype.handleOmidEvent=function(t,e,i){var r;if("adUserInteraction"===t)"click"===(null===(r=null==i?void 0:i.data)||void 0===r?void 0:r.interactionType)&&o.EventBus.dispatchEvent(o.DvEvent.clickData,new s.AdCandidateEventData(e))},e.prototype.stopCollectData=function(t){},e}(a.BaseAdDataCollector);e.OmidInteractionDataCollector=c},1606:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionKeyPressDataCollector=void 0;var o=i(7449),a=i(7360),s=i(3868),d=i(425),p=i(1800),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return!0},e.prototype.getGlobalEventName=function(){return a.DvEvent.globalKeyPressData},e.prototype.startCollectData=function(){var t=s.WindowAdaptor.workingWindow(),e=s.WindowAdaptor.getTopAccessibleWindow();d.BrowserAdaptor.addEventListener("keypress",this.handleKeyPressEvent.bind(this),t),e!=t&&d.BrowserAdaptor.addEventListener("keypress",this.handleKeyPressEvent.bind(this),e)},e.prototype.handleKeyPressEvent=function(){a.EventBus.dispatchEvent(this.getGlobalEventName(),new p.EventData)},e.prototype.processAdData=function(t){a.EventBus.dispatchEvent(a.DvEvent.keyPressData,new p.AdCandidateEventData(t))},e}(o.BaseGlobalDataCollector);e.PageInteractionKeyPressDataCollector=c},9198:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionMouseMoveDataCollector=void 0;var o=i(7449),a=i(7360),s=i(425),d=i(1800),p=i(3868),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return!0},e.prototype.getGlobalEventName=function(){return a.DvEvent.globalMouseMoveData},e.prototype.startCollectData=function(){var t=p.WindowAdaptor.workingWindow(),e=p.WindowAdaptor.getTopAccessibleWindow();s.BrowserAdaptor.addEventListener("mousemove",this.handleMouseMoveEvent.bind(this),t),s.BrowserAdaptor.addEventListener("touchmove",this.handleMouseMoveEvent.bind(this),t),e!=t&&(s.BrowserAdaptor.addEventListener("mousemove",this.handleMouseMoveEvent.bind(this),e),s.BrowserAdaptor.addEventListener("touchmove",this.handleMouseMoveEvent.bind(this),e))},e.prototype.handleMouseMoveEvent=function(){a.EventBus.dispatchEvent(this.getGlobalEventName(),new d.EventData)},e.prototype.processAdData=function(t){a.EventBus.dispatchEvent(a.DvEvent.mouseMoveData,new d.AdCandidateEventData(t))},e}(o.BaseGlobalDataCollector);e.PageInteractionMouseMoveDataCollector=c},6789:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionOrientationChangedDataCollector=void 0;var o=i(7449),a=i(7360),s=i(1800),d=i(425),p=i(3868),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return void 0!==d.BrowserAdaptor.getOrientation()},e.prototype.getGlobalEventName=function(){return a.DvEvent.globalOrientationChangeData},e.prototype.startCollectData=function(){var t=p.WindowAdaptor.workingWindow();d.BrowserAdaptor.addEventListener("orientationchange",this.handleOrientationChangeEvent.bind(this),t)},e.prototype.handleOrientationChangeEvent=function(){a.EventBus.dispatchEvent(this.getGlobalEventName(),new s.EventData)},e.prototype.processAdData=function(t){90==Math.abs(d.BrowserAdaptor.getOrientation())?a.EventBus.dispatchEvent(a.DvEvent.orientationChangePortraitData,new s.AdCandidateEventData(t)):a.EventBus.dispatchEvent(a.DvEvent.orientationchangeLandscapeData,new s.AdCandidateEventData(t))},e}(o.BaseGlobalDataCollector);e.PageInteractionOrientationChangedDataCollector=c},5747:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionScrollDataCollector=void 0;var o=i(7449),a=i(7360),s=i(1800),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return!0},e.prototype.getGlobalEventName=function(){return a.DvEvent.globalScrollData},e.prototype.startCollectData=function(){a.EventBus.addEventListener(a.DvEvent.viewabilityIntervalData,this.handleViewabilityIntervalDataEvent.bind(this))},e.prototype.handleViewabilityIntervalDataEvent=function(t){var e=t.relevantData,i=e.adGeometric;e.adGeometric&&(this.adGeometric?this.adGeometric.y==i.y&&this.adGeometric.x==i.x||(this.adGeometric=i,a.EventBus.dispatchEvent(this.getGlobalEventName(),new s.EventData)):this.adGeometric=i)},e.prototype.processAdData=function(t){a.EventBus.dispatchEvent(a.DvEvent.scrollData,new s.AdCandidateEventData(t))},e}(o.BaseGlobalDataCollector);e.PageInteractionScrollDataCollector=d},2452:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.FocusDataCollector=void 0;var o=i(7360),a=i(425),s=i(3868),d=i(912),p=i(1800),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return!0},e.prototype.startCollectData=function(t){var e=t.domEvents,i=this.handleFocus.bind(this,t);if(this.handleFocus(t),a.BrowserAdaptor.isVisibilityChangeEventSupported()){var r=a.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";a.BrowserAdaptor.addEventListener(r,i,s.WindowAdaptor.workingDocument(t.windowElement)),e[r]=i}},e.prototype.handleFocus=function(t){try{var e=a.BrowserAdaptor.hasFocus();o.EventBus.dispatchEvent(o.DvEvent.focusData,new p.AdCandidateEventData(t,{focus:e}))}catch(t){}},e.prototype.stopCollectData=function(t){if(a.BrowserAdaptor.isVisibilityChangeEventSupported()){var e=a.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";a.BrowserAdaptor.removeEventListener(e,t.domEvents[e],s.WindowAdaptor.workingDocument(t.windowElement))}},e}(d.BaseAdDataCollector);e.FocusDataCollector=c},6195:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.StrictFocusDataCollector=void 0;var o=i(7360),a=i(425),s=i(3868),d=i(912),p=i(1800),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return!0},e.prototype.startCollectData=function(t){this.handleFocus(t),s.WindowAdaptor.windowTop()&&(t.strictFocusInterval=a.BrowserAdaptor.setInterval(this.handleFocus.bind(this,t),200))},e.prototype.handleFocus=function(t){try{var e=null==a.BrowserAdaptor.hasStrictFocus()||a.BrowserAdaptor.hasStrictFocus();o.EventBus.dispatchEvent(o.DvEvent.strictFocusData,new p.AdCandidateEventData(t,{focus:e}))}catch(t){}},e.prototype.stopCollectData=function(t){a.BrowserAdaptor.clearInterval(t.strictFocusInterval)},e}(d.BaseAdDataCollector);e.StrictFocusDataCollector=c},1776:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackDataCollector=void 0;var o=i(912),a=i(7542),s=i(1768),d=i(3115),p=i(4753),c=i(7749),u=i(7360),l=i(712),f=i(1800),v=i(8191),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return c.DvTagDataObject.getTagType()==l.DvTagType.Video},e.prototype.startCollectData=function(t){t.videoPlaybackIndicator=t.videoPlaybackIndicatorDvp=l.VideoPlaybackIndicator.Unknown,t.videoPlayback=this.getSupportedVideoPlayback(t),t.videoPlayback&&(t.videoPlayback.startCollectData(t),t.videoPlaybackIndicator=t.videoPlaybackIndicatorDvp=t.videoPlayback.getIndicator(),u.EventBus.dispatchEvent(u.DvEvent.reportData,new f.AdCandidateEventData(t)))},e.prototype.stopCollectData=function(t){t.videoPlayback&&t.videoPlayback.stopCollectData(t)},e.prototype.getSupportedVideoPlayback=function(t){return[s.VideoPlaybackByOmid,p.VideoPlaybackByAdColonyVpaid,v.VideoPlaybackByInmobi,d.VideoPlaybackByVpaid,a.VideoPlaybackByHtml5].filter((function(e){return e.isSupported(t)}))[0]},e}(o.BaseAdDataCollector);e.VideoPlaybackDataCollector=h},4753:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByAdColonyVpaid=e.VideoPlaybackByAdColonyVpaidClass=void 0;var r=i(1966),n=i(7360),o=i(1800),a=i(712),s=function(){function t(){this.vpaidEventMapping={AdImpression:n.DvEvent.adImpressionData,AdVideoComplete:n.DvEvent.adVideoCompleteData,AdVideoFirstQuartile:n.DvEvent.adVideoFirstQuartileData,AdVideoMidpoint:n.DvEvent.adVideoMidpointData,AdVideoStart:n.DvEvent.adVideoStartData,AdVideoThirdQuartile:n.DvEvent.adVideoThirdQuartileData,AdPaused:n.DvEvent.pauseData,AdPlaying:n.DvEvent.resumeData,AdVolumeChange:n.DvEvent.volumeData}}return t.prototype.isSupported=function(){return this.adc=r.VideoPlaybackAdaptor.getADCObject(),!!this.adc},t.prototype.getIndicator=function(){return a.VideoPlaybackIndicator.AdColony},t.prototype.startCollectData=function(t){var e=this;Object.keys(this.vpaidEventMapping).forEach((function(i){e.adc.subscribe(i,e.handleVpaidEvent.bind(e,i,t))}))},t.prototype.stopCollectData=function(t){},t.prototype.getVpaidVolume=function(t){return isNaN(t)?null:t},t.prototype.handleVpaidEvent=function(t,e,i){var r;if("AdVolumeChange"==t){if(!i)return;var a=this.getVpaidVolume(i.deviceVolume),s=null!=a?a:this.getVpaidVolume(i.volume);null!=s&&-1!=s&&(r={volume:s})}n.EventBus.dispatchEvent(this.vpaidEventMapping[t],new o.AdCandidateEventData(e,r))},t}();e.VideoPlaybackByAdColonyVpaidClass=s,e.VideoPlaybackByAdColonyVpaid=new s},7542:function(t,e,i){var r=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},n=this&&this.__spreadArray||function(t,e){for(var i=0,r=e.length,n=t.length;i<r;i++,n++)t[n]=e[i];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByHtml5=e.VideoPlaybackByHtml5Class=void 0;var o=i(7360),a=i(1800),s=i(425),d=i(3380),p=i(712),c=function(){function t(){this.html5EventMapping={playing:o.DvEvent.adVideoStartData,pause:o.DvEvent.pauseData,play:o.DvEvent.resumeData,volumechange:o.DvEvent.volumeData,ended:o.DvEvent.adVideoCompleteData},this.quartileEvents=[o.DvEvent.adVideoFirstQuartileData,o.DvEvent.adVideoMidpointData,o.DvEvent.adVideoThirdQuartileData,o.DvEvent.adVideoCompleteData],this.eventsToReportOnlyOnce=n([o.DvEvent.adVideoCompleteData,o.DvEvent.adVideoStartData],r(this.quartileEvents))}return t.prototype.isSupported=function(t){return d.Utilities.isInAppSupported(t.supportedDeliveryType)&&d.Utilities.isVideoElement(t.domElement)},t.prototype.getIndicator=function(){return p.VideoPlaybackIndicator.Html5},t.prototype.startCollectData=function(t){var e=this,i=this.updateAdPlaybackTime.bind(this,t);s.BrowserAdaptor.addEventListener("timeupdate",i,t.domElement),t.domEvents.timeupdate=i,Object.keys(this.html5EventMapping).forEach((function(i){var r=e.handleHtml5Event.bind(e,t,e.html5EventMapping[i]);s.BrowserAdaptor.addEventListener(i,r,t.domElement),t.domEvents[i]=r}))},t.prototype.stopCollectData=function(t){Object.keys(this.html5EventMapping).forEach((function(e){s.BrowserAdaptor.removeEventListener(e,t.domEvents[e],t.domElement)})),s.BrowserAdaptor.removeEventListener("timeupdate",t.domEvents.timeupdate,t.domElement)},t.prototype.updateAdPlaybackTime=function(t){var e=t.domElement;if(e.duration){e.currentTime&&!t.videoPlaybackHtml5AdPlaybackTimeInitialized&&(t.videoPlaybackHtml5AdPlaybackTimeInitialized=!0,this.publishEvents(o.DvEvent.resumeData,t));var i=e.duration/4;if(e.currentTime>=t.videoPlaybackHtml5QuartileId*i){var r=this.quartileEvents[t.videoPlaybackHtml5QuartileId-1];this.publishEvents(r,t),t.videoPlaybackHtml5QuartileId++}}},t.prototype.handleHtml5Event=function(t,e){var i,r=t.domElement;e==o.DvEvent.volumeData&&(i={volume:r.volume}),this.publishEvents(e,t,i)},t.prototype.publishEvents=function(t,e,i){this.eventsToReportOnlyOnce.some((function(e){return e==t}))&&e.videoPlaybackHtml5Events.some((function(e){return e==t}))||(t==o.DvEvent.adVideoCompleteData&&this.stopCollectData(e),e.videoPlaybackHtml5Events.push(t),o.EventBus.dispatchEvent(t,new a.AdCandidateEventData(e,i)))},t}();e.VideoPlaybackByHtml5Class=c,e.VideoPlaybackByHtml5=new c},8191:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByInmobi=e.VideoPlaybackByInmobiClass=void 0;var r=i(7360),n=i(712),o=i(1800),a=i(3380),s=i(8426),d=function(){function t(){this.inmobiEventMapping={AdLoaded:r.DvEvent.videoLoadedData,AdVideoComplete:r.DvEvent.adVideoCompleteData,AdVideoFirstQuartile:r.DvEvent.adVideoFirstQuartileData,AdVideoMidpoint:r.DvEvent.adVideoMidpointData,AdVideoStart:r.DvEvent.adVideoStartData,AdVideoThirdQuartile:r.DvEvent.adVideoThirdQuartileData,AdPaused:r.DvEvent.pauseData,AdPlaying:r.DvEvent.resumeData,AdVolumeChange:r.DvEvent.volumeData}}return t.prototype.isSupported=function(){return s.InmobiWrapper.isSupported()},t.prototype.getIndicator=function(){return n.VideoPlaybackIndicator.Inmobi},t.prototype.startCollectData=function(t){s.InmobiWrapper.addEventListenerWithHistory(this.handleInmobiEvent.bind(this,t))},t.prototype.stopCollectData=function(t){},t.prototype.handleInmobiEvent=function(t,e){if(e&&this.inmobiEventMapping[e.type]){var i,n={};if("AdVolumeChange"==e.type&&e.detail)null!=(i=a.Utilities.isNullOrEmpty(e.detail.adVolume)||isNaN(e.detail.adVolume)?null:e.detail.adVolume)&&-1!=i&&(n={volume:i});if("AdLoaded"==e.type&&e.detail&&e.detail.duration&&e.detail.duration>0)t.adDuration=e.detail.duration,a.Utilities.logIfNotAnInteger(t.adDuration,t,"adDurationDataValidation"),null!=(i=a.Utilities.isNullOrEmpty(e.detail.volume)||isNaN(e.detail.volume)?null:e.detail.volume)&&-1!=i&&(n={volume:i});r.EventBus.dispatchEvent(this.inmobiEventMapping[e.type],new o.AdCandidateEventData(t,n))}},t}();e.VideoPlaybackByInmobiClass=d,e.VideoPlaybackByInmobi=new d},1768:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByOmid=e.VideoPlaybackByOmidClass=void 0;var r=i(7360),n=i(1800),o=i(6689),a=i(712),s=function(){function t(){this.omidEventMapping={impression:r.DvEvent.adImpressionData,complete:r.DvEvent.adVideoCompleteData,firstQuartile:r.DvEvent.adVideoFirstQuartileData,midpoint:r.DvEvent.adVideoMidpointData,start:r.DvEvent.adVideoStartData,thirdQuartile:r.DvEvent.adVideoThirdQuartileData,pause:r.DvEvent.pauseData,resume:r.DvEvent.resumeData,skipped:r.DvEvent.skipData,volumeChange:r.DvEvent.volumeData}}return t.prototype.isSupported=function(){return o.OmidWrapper.isSupported()},t.prototype.getIndicator=function(){return a.VideoPlaybackIndicator.Omid},t.prototype.startCollectData=function(t){var e=this;Object.keys(this.omidEventMapping).forEach((function(i){o.OmidWrapper.addEventListener(i,e.omidEventCallback.bind(e,t,i))}))},t.prototype.stopCollectData=function(t){},t.prototype.omidEventCallback=function(t,e,i){var o;if("start"==e||"volumeChange"==e&&i&&i.data){var a=isNaN(i.data.videoPlayerVolume)?null:i.data.videoPlayerVolume,s=isNaN(i.data.deviceVolume)?null:i.data.deviceVolume,d=void 0;null!=a&&null!=s?d=a*s:null!=a?d=a:null!=s&&(d=s),null!=d&&-1!=d&&(o={volume:d})}"start"==e&&i&&i.data&&(t.videoLength=i.data.videoDuration,r.EventBus.dispatchEvent(this.omidEventMapping.volumeChange,new n.AdCandidateEventData(t,o))),r.EventBus.dispatchEvent(this.omidEventMapping[e],new n.AdCandidateEventData(t,o))},t}();e.VideoPlaybackByOmidClass=s,e.VideoPlaybackByOmid=new s},3115:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByVpaid=e.VideoPlaybackByVpaidClass=void 0;var r=i(7749),n=i(7360),o=i(1800),a=i(712),s=i(1063),d=i(3380),p=function(){function t(){this.vpaidEventMapping={AdImpression:n.DvEvent.adImpressionData,AdLoaded:n.DvEvent.videoLoadedData,AdStarted:n.DvEvent.videoStartedData,AdVideoComplete:n.DvEvent.adVideoCompleteData,AdVideoFirstQuartile:n.DvEvent.adVideoFirstQuartileData,AdVideoMidpoint:n.DvEvent.adVideoMidpointData,AdVideoStart:n.DvEvent.adVideoStartData,AdVideoThirdQuartile:n.DvEvent.adVideoThirdQuartileData,AdUserClose:n.DvEvent.abandonData,AdPaused:n.DvEvent.pauseData,AdPlaying:n.DvEvent.resumeData,AdSkipped:n.DvEvent.skipData,AdStopped:n.DvEvent.stopData,AdVolumeChange:n.DvEvent.volumeData,AdSkippableStateChange:n.DvEvent.skippableData}}return t.prototype.isSupported=function(){return this.adID=r.DvTagDataObject.getAdID(),this.vpaid=s.VpaidWrapper.getDvVpaid(),!!this.adID&&!!this.vpaid&&s.VpaidWrapper.isSupported()},t.prototype.getIndicator=function(){return a.VideoPlaybackIndicator.Vpaid},t.prototype.startCollectData=function(t){t.videoPlaybackByVpaidEventSubscriptionIds=this.vpaid.subscribe(Object.keys(this.vpaidEventMapping),this.adID,this.handleVpaidEvent.bind(this,t));var e=this.vpaid.asset&&this.vpaid.asset.adDuration;e&&e>0&&e<180&&(t.adDuration=1e3*e,d.Utilities.logIfNotAnInteger(t.adDuration,t,"adDurationDataValidation"),t.adDurationCalculationType=a.AdDurationCalculationType.Vpaid),this.vpaid.asset&&this.vpaid.asset.adSkippable&&(t.adSkippableMs=d.Utilities.getTimeDiff())},t.prototype.stopCollectData=function(t){this.vpaid.unsubscribe(t.videoPlaybackByVpaidEventSubscriptionIds)},t.prototype.handleVpaidEvent=function(t,e,i){if(i&&i.eventName){var r=i.eventName;if(this.vpaidEventMapping[r]){var a,s=i.ovvArgs&&i.ovvArgs.ovvData;if(s){if("AdVolumeChange"==i.eventName||"AdVideoStart"==i.eventName){var p=d.Utilities.isNullOrEmpty(s.volume)||isNaN(s.volume)?null:s.volume;null!=p&&-1!=p&&(p<0?t.vpaidVolumeLessThanZero=p:p?t.vpaidVolumeGreaterThanZero=(t.vpaidVolumeGreaterThanZero||0)+1:t.vpaidVolumeEqualToZero=(t.vpaidVolumeEqualToZero||0)+1,a={volume:p}),"AdVolumeChange"===i.eventName&&void 0===t.volumeChanged&&(t.volumeChanged=1),"AdVideoStart"===i.eventName&&void 0===t.adStartedVolume&&null!==p&&(t.adStartedVolume=p),"AdVideoStart"===i.eventName&&void 0===t.adStartedMuted&&null!==s.muted&&void 0!==s.muted&&(t.adStartedMuted=s.muted)}if("AdSkippableStateChange"==i.eventName){var c=d.Utilities.isNullOrEmpty(s.adSkippableState)?null:s.adSkippableState;null!=c&&(a={adSkippable:c})}}n.EventBus.dispatchEvent(this.vpaidEventMapping[r],new o.AdCandidateEventData(t,a))}}},t}();e.VideoPlaybackByVpaidClass=p,e.VideoPlaybackByVpaid=new p},3081:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},a=this&&this.__spreadArray||function(t,e){for(var i=0,r=e.length,n=t.length;i<r;i++,n++)t[n]=e[i];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityDataCollector=void 0;var s=i(986),d=i(4254),p=i(9965),c=i(6662),u=i(7360),l=i(1800),f=i(7749),v=i(8253),h=i(712),y=i(8317),m=i(912),g=i(8996),w=i(2087),b=i(194),S=i(3380),D=i(425),_=i(5492),E=i(749),A=i(8781),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isSupported=function(){return!0},e.prototype.startCollectData=function(t){S.Utilities.isInAppSupported(t.supportedDeliveryType)||u.EventBus.addEventListener(u.DvEvent.impressionServed,this.impressionServed.bind(this,t),"ViewabilityDataCollector"),u.EventBus.addEventListener(u.DvEvent.adVideoCompleteData,this.adVideoComplete.bind(this)),this.viewabilityInterval=f.DvTagDataObject.getTagType()==h.DvTagType.Video?200:100;var e=t.viewabilityCalculationMethod||this.getSupportedMethod(t);e&&(t.viewabilityCalculationMethod=e,t.viewabilityCalculationType=e.getMethodId(),this.publishAdViewabilityData(t),t.viewabilityIntervalId=D.BrowserAdaptor.setInterval(this.publishAdViewabilityData.bind(this,t),this.viewabilityInterval))},e.prototype.impressionServed=function(t){w.FlashBeacons.isSupported()&&!b.DvObject.isMobileApp()&&(t.viewabilityCalculationMethod&&t.viewabilityCalculationMethod.destroyAdCandidateMethod(t),t.viewabilityCalculationMethod=w.FlashBeacons,t.viewabilityCalculationType=w.FlashBeacons.getMethodId())},e.prototype.stopCollectData=function(t){this.stopViewabilityInterval(t)},e.prototype.adVideoComplete=function(t){this.stopViewabilityInterval(t.adCandidate)},e.prototype.stopViewabilityInterval=function(t){t.viewabilityIntervalId&&(D.BrowserAdaptor.clearInterval(t.viewabilityIntervalId),t.viewabilityCalculationMethod&&t.viewabilityCalculationMethod.destroyAdCandidateMethod(t),t.viewabilityIntervalId=void 0)},e.prototype.getSupportedMethod=function(t){var e,i=[g.OmidMethod];return S.Utilities.isInAppSupported(t.supportedDeliveryType)?e=a(a([],o(i)),[_.AdColonyMethod,A.Mraid3Method,y.MraidMethod]):(e=[d.GeometricMethod,p.IntersectionObserverMethod,v.AmpIntersectionObserverMethod,s.ResourceBased,c.ScreenGeometricMethod],S.Utilities.isCtvSupported(t.supportedDeliveryType)||(e=a([g.OmidMethod],o(e)))),e.filter((function(e){return e.isSupported(t)}))[0]},e.prototype.publishAdViewabilityData=function(t){try{var e=t.viewabilityCalculationMethod.getAdCandidateAssets(t);e&&u.EventBus.dispatchEvent(u.DvEvent.viewabilityIntervalData,new l.AdCandidateEventData(t,e)),this.checkIfElementAttachedToDocoment(t)}catch(t){E.MessageHandler.sendError(h.ClientErrorType.MeasurementError,t)}},e.prototype.checkIfElementAttachedToDocoment=function(t){t.timeMsUntilAdNotAttached||D.BrowserAdaptor.isElementAttachedToDocument(t.domElement)||(t.timeMsUntilAdNotAttached=S.Utilities.getTimeDiff(),u.EventBus.dispatchEvent(u.DvEvent.reportData,new l.AdCandidateEventData(t)))},e}(m.BaseAdDataCollector);e.ViewabilityDataCollector=T},455:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdCandidateData=void 0;var r=i(712),n=function(){function t(t){this.state=r.AdCandidateState.Unresolved,this.priority=1,this.domEvents={},this.wasAdStopped=!1,this.isPaused=!1,this.videoPlaybackHtml5QuartileId=1,this.videoPlaybackHtml5Events=[],this.playingTimeStamps=[],this.lastVideoIsPlayingStatus=!1,this.volumeDurationQuartileId=1,this.IABAdViewableForXSecondsViewedTime=0,this.iabViewablitiyTimeToCheck=[5,10,15],this.IABAdViewableForXSecondsdurationRequirement=5e3,this.boundariesViewed={topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1},this.iabViewedTime=0,this.iabVideoQuartileId=1,this.iabVideoQuartileViewed=0,this.videoFullQuartileViewabilityId=1,this.videoFullQuartileAudibleId=1,this.notViewableReasonWasInFocus=!1,this.notViewableReasonWasInViewPort=!1,this.notViewableReasonConsecutiveViewTime=0,this.notViewableReasonCumulativeViewTime=0,this.notViewableReasonWasViewed=!1,this.notViewableReasonVideoPlayed=!1,this.customViewedTime=0,this.customStandardViewedTime=0,this.customAdvertiserStandardViewedTime=0,this.kmeStartMeasure=!1,this.kmeConditionsFailed=!1,this.groupMViewedTime=0,this.groupMV4DisplayViewedTime=0,this.groupMV4VideoReachExtensionViewedTime=0,this.groupMV4VideoNativeViewedTime=0,this.groupMV4DisplayViewedTimeLog=0,this.pmxViewedTime=0,this.videoBucketsQuartileId=1,this.viewabilityIntervalDataCalled=!1,this.autoplayEventSubscriptionIds=[],this.videoPlaybackByVpaidEventSubscriptionIds=[],this.domElement=t}return t.prototype.markAdQuartile=function(t,e){switch(e){case 1:this.exposureFirstQuartileBitwise=this.exposureFirstQuartileBitwise|t;break;case 2:this.exposureSecondQuartileBitwise=this.exposureSecondQuartileBitwise|t;break;case 3:this.exposureThirdQuartileBitwise=this.exposureThirdQuartileBitwise|t;break;case 4:this.exposureFourthQuartileBitwise=this.exposureFourthQuartileBitwise|t}},t}();e.AdCandidateData=n},5261:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraDomAdData=void 0;var o=function(t){function e(e,i,r,n){var o=t.call(this,i,r,n)||this;return o.celtraTagSearchMethod=e,o.domElement=i,o.depth=r,o.isFullyLoaded=n,o}return n(e,t),e}(i(8564).DomAdData);e.CeltraDomAdData=o},7658:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TPSDataMapping=e.RTSDataMapping=e.AdDataMappingToReport=e.ExposureDataMapping=e.ErrorDataMapping=e.PerformanceMetricsDataMapping=e.EngagementDataMapping=void 0,e.EngagementDataMapping={engagementMeasurementStatus:"engms",isEngagementEligible:"engisel",adCandidatesLocatorMethods:"msrcanlm",numberOfAdCandidates:"msrcannum"},e.PerformanceMetricsDataMapping={tagLoadTimeMs:"tltms",tagExecTimeMs:"tetms",measurementScriptLoadTimeMs:"msltms",measurementScriptExecTimeMs:"msetms",visitLoadTimeMs:"vltms",visitExecTimeMs:"vetms",scriptExecIndicator:"sei"},e.ErrorDataMapping={timeMsUntilHasError:"ishems",notApplicableReason:"napr",errorType:"cerrt"},e.ExposureDataMapping={isViewabilityEligible:"isvelg",viewabilityIntegrationType:"vit"},e.AdDataMappingToReport={timeMsUntilAdMeasured:"ismms",unadjustedTimeMsUntilAdMeasured:"isumms",isViewabilityEligible:"isvelg",notViewableReason:"nvr",groupMTimeMsUntilAdMeasured:"isgmmims",groupMV4TimeMsUntilAdMeasured:"isgmv4mims",adElementType:"elmtp",largestChildElementHeight:"lceh",largestChildElementWidth:"lcew",viewabilityDisplayBucketsUnloadTime:"isbxdms",b0:"b0",b1:"b1",b2:"b2",b3:"b3",b4:"b4",b5:"b5",b6:"b6",b7:"b7",b8:"b8",b9:"b9",b10:"b10",b11:"b11",napt:"napt",isq1ms:"isq1ms",q1b0:"q1b0",q1b1:"q1b1",q1b2:"q1b2",q1b3:"q1b3",q1b4:"q1b4",q1b5:"q1b5",q1napt:"q1napt",isq2ms:"isq2ms",q2b0:"q2b0",q2b1:"q2b1",q2b2:"q2b2",q2b3:"q2b3",q2b4:"q2b4",q2b5:"q2b5",q2napt:"q2napt",isq3ms:"isq3ms",q3b0:"q3b0",q3b1:"q3b1",q3b2:"q3b2",q3b3:"q3b3",q3b4:"q3b4",q3b5:"q3b5",q3napt:"q3napt",isq4ms:"isq4ms",q4b0:"q4b0",q4b1:"q4b1",q4b2:"q4b2",q4b3:"q4b3",q4b4:"q4b4",q4b5:"q4b5",q4napt:"q4napt",q1ad:"q1ad",q2ad:"q2ad",q3ad:"q3ad",q4ad:"q4ad",maxVideoVolume:"avmax",minVideoVolume:"avmin",adHeight:"adhgt",adWidth:"adwdth",normalizedAdWidth:"norwdth",normalizedAdHeight:"norhgt",accumulativeTimeOrientationLandscape:"tmsl",accumulativeTimeOrientationPortrait:"tmsp",isEngagementEligible:"engisel",avgViewableShareOfScreen:"vsos",shareOfScreenNotMeasuredReason:"dvp_vsosnmr",shareOfScreenReadFromViewportReport:"dvp_vsosrfvp",viewPortMetaTagWidth:"dvp_mvpw",viewPortMetaTagHeight:"dvp_mvph",viewPortMetaTagInitialScale:"dvp_mvpis",viewPortMetaTagScalable:"dvp_mvpiss",minViewportWidth:"dvp_minvpw",minViewportHeight:"dvp_minvph",maxViewportWidth:"dvp_maxvpw",maxViewportHeight:"dvp_maxvph",accumulativeTimeInFocus:"attif",looseFocusFalseBucket:"lffb",looseFocusTrueBucket:"lftb",strictFocusFalseBucket:"sffb",strictFocusTrueBucket:"sftb",adDuration:"vad",adDurationCalculationType:"dvp_vadt",adVideoTimeLine:"vattp",timeUntilUnloadMs:"dvp_unl",depth:"msrdp",locatorMethods:"naral",viewabilityCalculationType:"vct",viewportHeight:"vphgt",viewportWidth:"vpwdth",adContainerHeight:"chgt",adContainerWidth:"cwdth",isInvalidContainerSize:"invcs",screenHeight:"scrhgt",screenWidth:"scrwdth",startPercentage:"strp",adVisibleOnload:"advisonl",rBV1PassedMs:"isrbpms",timeMsUntilAdViewed:"isiabvms",unadjustedTimeMsUntilAdViewed:"isuiabvms",groupMTimeMsUntilAdViewed:"isgmpims",groupMV4DisplayTimeMsUntilAdViewed:"isgmv4dpims",groupMV4DisplayTimeMsUntilAdViewedLog:"dvp_gmv4p",pmxTimeMsUntilAdViewed:"ispmxpms",customTimeMsUntilAdViewed:"iscvmvms",customStandardTimeMsUntilAdViewed:"iscspms",kmeTimeMsUntilAdViewed:"isbvmvms",customAdvertiserStandardType:"cavst",customAdvertiserStandardTimeMsUntilAdViewed:"iscavspms",videoPlaybackIndicatorDvp:"dvp_vpb",videoPlaybackIndicator:"vpm",isVideoPreRendered:"prplyd",timeMsUntilVideoPlayed:"dvp_plydms",groupMV4VideoReachExtensionTimeMsUntilAdViewed:"isgmv4vrpims",groupMV4VideoNativeTimeMsUntilAdViewed:"isgmv4vnpims",timeMsUntilAdAudibleAndViewableOnCompletionMs:"qcmpiabva",lastTimeMsVolumeMute:"admutems",timeMsUntilVolumeMeasured:"isavmms",q1vpend:"q1vpend",q2vpend:"q2vpend",q3vpend:"q3vpend",q4vpend:"q4vpend",q1ps:"q1ps",q2ps:"q2ps",q3ps:"q3ps",q4ps:"q4ps",q1iabvms:"q1iabvms",q2iabvms:"q2iabvms",q3iabvms:"q3iabvms",q4iabvms:"q4iabvms",exposureFirstQuartileBitwise:"q1ei",exposureSecondQuartileBitwise:"q2ei",exposureThirdQuartileBitwise:"q3ei",exposureFourthQuartileBitwise:"q4ei",adSkippedTime:"isadskippedms",adSkippableMs:"adskippblems",initialOrientationType:"inor",timeMsUntilTouch:"engtchms",timeMsUntilHover:"enghvms",timeMsUntilClick:"engclkms",timeMsUntilAdSizeIncrease:"engsincms",timeMsUntilAdSizeDecrease:"engsdcms",timeMsUntilAdLocated:"engalms",timeMsUntilFocusIn:"engifcsms",timeMsUntilFocusOut:"engofcsms",timeMsUntilMouseMove:"engmsmvms",timeMsUntilKeyPress:"engkpssms",timeMsUntilScroll:"engscrlms",timeMsUntilOrientationChangeToPortrait:"engocptms",timeMsUntilOrientationChangeToLandscape:"engoclpms",timeMsUntilVolumeIncrease:"engvlincms",timeMsUntilVolumeDecrease:"engvldcms",timeMsUntilVolumeUnMute:"engvlumms",timeMsUntilVolumeMute:"engvlmtms",timeMsUntilPause:"engvpsdms",timeMsUntilResume:"engvrsmms",timeMsUntilSkip:"engvskpms",timeMsUntilAbandon:"engvabnms",engagementAudienceDisengaged:"dvp_engaud",engagementAudienceEngaged:"dvp_engaud",engagementAudienceNoEngagement:"dvp_engaud",engagementAudienceInterested:"dvp_engaud",videoViewabilityIntervalDataAdSizeMethod:"dvp_vvasm",videoViewabilityIntervalDataAdSize:"dvp_vvas",preVideoAdLoaded:"dvp_in1",preVideoAdStarted:"dvp_in2",preVideoAdImpression:"dvp_in3",preVideoAdStopped:"dvp_in4",autoplayDetectionMethod:"dvp_autpm",mraidVersion:"dvp_mraidver",hiddenAdsIndicator:"dvp_hdnAd",adEngagement:"dvp_adEng",pageEngagement:"dvp_pageEng",noEngagement:"dvp_noEng",volumeChanged:"dvp_volch",adStartedVolume:"dvp_svlm",adStartedMuted:"dvp_smut",vpaidVolumeLessThanZero:"dvp_vpvlz",vpaidVolumeGreaterThanZero:"dvp_vpvgz",vpaidVolumeEqualToZero:"dvp_vpvez",maxVolumeLessThanZero:"dvp_mvltz",maxVolumeGreaterThanZero:"dvp_mvgrz",maxVolumeEqualToZero:"dvp_mvez",quartileVolumeLessThanZero:"dvp_qvltz",quartileVolumeGreaterThanZero:"dvp_qvgrz",quartileVolumeEqualZero:"dvp_qvez",omidEvents:"dvp_omev",omidGeometryReasonsBitWise:"dvp_omgr",omidTimeMsUntilStartSession:"dvp_omstsms",omidTimeMsUntilImpression:"dvp_omimms",omidTimeMsUntilStartVideo:"dvp_omstms",omidTimeMsUntilEndVideo:"dvp_omensms",omidContainerGeometryHeight:"dvp_ocgh",omidContainerGeometryWidth:"dvp_ocgw",omidMeasuringElement:"dvp_ome",omidWebClientEnvironmentLog:"dvp_omdwbclenv",omidEnvironmentDvp:"dvp_omdenv",omidAdSessionType:"omdsessiontype",omidPartnerName:"dvp_omdnpn",omidPartnerVersion:"dvp_omdnpv",omidJSImplementer:"dvp_omdjsimp",omidJSServiceVersion:"dvp_omdjssv",omidJSSessionClientVersion:"dvp_omdjsscv",omidJSPartnerName:"dvp_omdjspn",omidJSPartnerVersion:"dvp_omdjspv",omidCustomReferenceData:"dvp_omdcrd",shareOfScreenLastDevicePixelRatio:"dvp_dpr",devicePixelRatioChanged:"dvp_sosdprc",screenSizeChanged:"dvp_sosssc",adSizeChanged:"dvp_sosadc",timeMsUntilAdNotAttached:"dvp_anatd",q1vpendDataValidation:"dvp_valq1vpend",q2vpendDataValidation:"dvp_valq2vpend",q3vpendDataValidation:"dvp_valq3vpend",q4vpendDataValidation:"dvp_valq4vpend",adDurationDataValidation:"dvp_valvad",percentageDataValidation:"dvp_valpct",viewportWidthDataValidation:"dvp_valvpwdth",viewportHeightDataValidation:"dvp_valvphgt"},e.RTSDataMapping={timeMsUntilAdMeasured:"IABMeasuredImpression",timeMsUntilAdViewed:"IABViewableImpression",groupMTimeMsUntilAdMeasured:"GroupMMeasuredImpression",groupMTimeMsUntilAdViewed:"GroupMPassedImpression",groupMV3TimeMsUntilAdViewed:"GroupMV3StandardPassedImpression",groupMV4TimeMsUntilAdViewed:"GroupMV4StandardPassedImpression",customTimeMsUntilAdViewed:"CustomViewabilityViewable",q1iabvms:"VideoQuartile1ViewableIAB",q2iabvms:"VideoQuartile2ViewableIAB",q3iabvms:"VideoQuartile3ViewableIAB",q4iabvms:"VideoQuartile4ViewableIAB",iabv5:"IABAdViewable5Seconds",iabv10:"IABAdViewable10Seconds",iabv15:"IABAdViewable15Seconds",pmxTimeMsUntilAdMeasured:"PMXStandardMeasuredImpression",pmxTimeMsUntilAdViewed:"PMXStandardPassedImpression",groupMV4DisplayTimeMsUntilAdViewed:"GroupMV4DisplayStandardPassedImpression",groupMV4VideoReachExtensionTimeMsUntilAdViewed:"GroupMV4VideoReachExtensionStandardPassedImpression",groupMV4VideoNativeTimeMsUntilAdViewed:"GroupMV4VideoNativeStandardPassedImpression",engagementAudienceDisengaged:"EngagementAudienceDisengaged",engagementAudienceEngaged:"EngagementAudienceEngaged",engagementAudienceNoEngagement:"EngagementAudienceNoEngagement",engagementAudienceInterested:"EngagementAudienceInterested",adEngagement:"AdInteraction",pageEngagement:"DeviceInteraction",noEngagement:"NoInteraction"},e.TPSDataMapping={timeToMeasureMs:"ttmms",timeToFirstReportMs:"ttfrms",timeToFirstUpdateReportMs:"ttfurm",totalMeasurementExecTime:"tmet",browserId:"brid",browserVersion:"brver",browserIdUserAgent:"bridua",browserDetectionSource:"bds",trafficScenarioType:"tstype",isPreRender:"prndr",eparams:"eparams",windowDepth:"srcurlD",additionalUrlDepth:"aUrlD",isSsl:"ssl",diffSsl:"dvp_diffSSL",isMraid:"ismraid",isOvv:"isovv",prePlayed:"prplyd",supplySource:"sup",dvtp_src_fetchStart:"dfs",dvtp_src_duration:"ddur",uid:"uid",callbackName:"jsCallback",tagVersion:"dvtagver",nativeUserAgent:"navUa",postMessageSupported:"htmlmsging",isChrome:"chro",historySize:"hist",innerHeight:"winh",innerWidth:"winw",outerHeight:"wouh",outerWidth:"wouw",screenHeight:"scah",screenWidth:"scaw",queuePageID:"qpgid",crawlerUrl:"curl",isScriptInHeadLocation:"dvp_isOnHead",scriptVersion:"jsver",dvtpScriptVersion:"tgjsver",idcResults:"vavbkt",idcError:"dvp_idcerr",idcVersion:"lvvn",browserSignatureFamilyBits:"bsig",browserSignatureBits:"usig",hijackedDeviceSignatureBits:"hdsig",browserFeatures:"m1",referrerDepth:"refD",referrerUrl:"referrer",referrerUrlExtractedFromSafeFrame:"urlsrc",safeFrameExists:"sfe",widgetCount:"fwc",cookieLength:"fcl",domainLookupTime:"flt",documentElementCount:"fec",iframeCount:"fcifrms",historyLength:"brh",omidVendorKey:"dvp_omvk",omidEnvironment:"omdenv",omidWebEnvironmentLog:"dvp_omdwbenv",omidAdSessionType:"omdsessiontype",omidAppId:"omdappid",omidPartnerVersion:"dvp_omdnpv",omidAppLibraryVersion:"dvp_omdalv",omidJSServiceVersion:"dvp_omdjssv",omidJSSessionClientVersion:"dvp_omdjsscv",omidJSPartnerName:"dvp_omdjspn",omidJSPartnerVersion:"dvp_omdjspv",omidDeviceType:"dvp_omddt",omidDeviceOSVersion:"dvp_omddosv",omidDeviceOS:"dvp_omddos",omidCustomReferenceData:"dvp_omdcrd",omidSupports:"dvp_omdsupp",omidAccessMode:"omacm",scriptDynamicFlags:"sdf",omidTagsCounter:"dvp_tgco",eparamsLength:"dvp_epl",vastWrapperUrl:"wrapperurl",numberOfCores:"noc",hasTouchPad:"touch",ctx:"ctx",cmp:"cmp",ipos:"ipos",sid:"sid",plc:"plc",adid:"adid",crt:"crt",btreg:"btreg",btadsrv:"btadsrv",adsrv:"adsrv",advid:"advid",num:"num",pid:"pid",crtname:"crtname",unit:"unit",chnl:"chnl",scusrid:"scusrid",tagtype:"tagtype",sr:"sr",dt:"dt",dup:"dup",app:"app",dvvidver:"dvvidver",turl:"turl",icall:"icall",dv_callback:"dv_callback",useragent:"useragent",xff:"xff",timecheck:"timecheck",tvcp:"tvcp",vssd:"vssd",apifw:"apifw",vstvr:"vstvr",seltag:"seltag",sadv:"sadv",ord:"ord",litm:"litm",scrt:"scrt",invs:"invs",splc:"splc",adu:"adu",spos:"spos",c1:"c1",c2:"c2",c3:"c3",c4:"c4",c5:"c5",c6:"c6",c7:"c7",c8:"c8",c9:"c9",c10:"c10",c11:"c11",c12:"c12",c13:"c13",c14:"c14",c15:"c15",native:"native",gmnpo:"gmnpo",isdvvid:"isdvvid",vpaidPlayerUrl:"dvpx_asuri",msrapi:"msrapi",bsimpid:"bsimpid",auctionid:"auctionid",vermemid:"vermemid",source:"source",buymemid:"buymemid",anadvid:"anadvid",ioid:"ioid",cpgid:"cpgid",cpid:"cpid",sellerid:"sellerid",pubid:"pubid",advcode:"advcode",iocode:"iocode",cpgcode:"cpgcode",cpcode:"cpcode",pubcode:"pubcode",prcpaid:"prcpaid",auip:"auip",auua:"auua",prr:"prr",iframe:"iframe",gdpr:"gdpr",gdpr_consent:"gdpr_consent",errorURL:"errorURL",auprice:"auprice",ppid:"ppid",audeal:"audeal",auevent:"auevent",auadv:"auadv",aucmp:"aucmp",aucrtv:"aucrtv",auorder:"auorder",ausite:"ausite",auplc:"auplc",auxch:"auxch",audvc:"audvc",aulitem:"aulitem",auadid:"auadid",pltfrm:"pltfrm",aufilter1:"aufilter1",aufilter2:"aufilter2",autt:"autt",aubndl:"aubndl",supportedIntegrations:"mib"}},8564:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DomAdData=void 0;var i=function(t,e,i){this.domElement=t,this.depth=e,this.isFullyLoaded=i};e.DomAdData=i},1800:function(t,e,i){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdRenderedEventData=e.ReserveAdLocatorData=e.DelayTimerData=e.AdCandidateEventData=e.EventData=void 0;var o=i(3380),a=function(t){this.updateTime=t||o.Utilities.getTimeDiff()};e.EventData=a;var s=function(t){function e(e,i){void 0===i&&(i={});var r=t.call(this,i.updateTime)||this;return r.adCandidate=e,r.relevantData=i,r.updateTime=i.updateTime||r.updateTime,i.updateTime=r.updateTime,r}return n(e,t),e}(a);e.AdCandidateEventData=s;var d=function(t){function e(e){var i=t.call(this)||this;return i.delayTimeMS=e,i}return n(e,t),e}(a);e.DelayTimerData=d;var p=function(t){function e(e){var i=t.call(this)||this;return i.adPriority=e,i}return n(e,t),e}(a);e.ReserveAdLocatorData=p;var c=function(t){function e(e){var i=t.call(this)||this;return i.uid=e,i}return n(e,t),e}(a);e.AdRenderedEventData=c},9878:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TPSData=void 0;var r=i(3380),n=function(){this.tagVersion="6.1.src",this.scriptVersion=r.Utilities.getVersion(),this.trafficScenarioType=0,this.additionalParams={},this.dvpParamsFlags=[]};e.TPSData=n},8519:function(t,e,i){i(6875);var r=i(1759),n=i(6671),o=i(3380),a=i(194),s=i(749),d=i(425);i(8962);var p=i(7360),c=i(7749),u=i(1063),l=i(3219),f=i(3831),v=i(2452),h=i(4021),y=i(4846),m=i(554),g=i(172),w=i(6054),b=i(9242),S=i(6762),D=i(7196),_=i(9608),E=i(8463),A=i(4183),T=i(7999),O=i(6044),C=i(1816),V=i(3363),M=i(1006),P=i(9289),I=i(5443),B=i(8874),j=i(1153),L=i(8476),R=i(7257),x=i(1634),W=i(9969),k=i(2237),U=i(6018),N=i(3081),F=i(3820),z=i(7571),G=i(8130),H=i(6195),q=i(3656),Q=i(8029),J=i(5152),K=i(9401),X=i(8066),$=i(615),Z=i(7912),Y=i(7175),tt=i(4771),et=i(8877),it=i(876),rt=i(5784),nt=i(6490),ot=i(7642),at=i(2181),st=i(6825),dt=i(9045),pt=i(7827),ct=i(6707),ut=i(1847),lt=i(458),ft=i(8642),vt=i(5993),ht=i(1726),yt=i(9611),mt=i(3054),gt=i(7938),wt=i(8123),bt=i(8635),St=i(5409),Dt=i(4241),_t=i(223),Et=i(5500),At=i(4691),Tt=i(9615),Ot=i(6265),Ct=i(710),Vt=i(5593),Mt=i(5157),Pt=i(1061),It=i(677),Bt=i(1886),jt=i(1776),Lt=i(8720),Rt=i(1074),xt=i(4892),Wt=i(1800),kt=i(8010),Ut=i(9688),Nt=i(8397),Ft=i(6574),zt=i(5390),Gt=i(6783),Ht=i(7998),qt=i(6892),Qt=i(2221),Jt=i(1079),Kt=i(370),Xt=i(8213),$t=i(6800),Zt=i(8357),Yt=i(8453),te=i(1059),ee=i(5070),ie=i(3743),re=i(4053),ne=i(7741),oe=i(8456),ae=i(5817),se=i(9582),de=i(6254),pe=i(4932),ce=i(6674),ue=i(9198),le=i(1606),fe=i(2359),ve=i(8345),he=i(8076),ye=i(5747),me=i(6789),ge=i(6355),we=i(8409),be=i(3954),Se=i(7815),De=i(5648),_e=i(6901),Ee=i(9260),Ae=i(7359),Te=i(9106),Oe=i(3454),Ce=i(3500),Ve=i(6715),Me=i(7527),Pe=i(7026),Ie=i(1354),Be=i(4115),je=i(4620),Le=i(4816),Re=i(5906),xe=i(9171),We=i(1194),ke=i(1391),Ue=i(712),Ne=i(992),Fe=i(4194),ze=i(8733),Ge=i(922),He=i(6681),qe=i(6689),Qe=i(720),Je=i(3502),Ke=i(1822),Xe=i(2968);t.exports=function(){function t(){var t=a.DvObject.getImpressionId(dvWindow);a.DvObject.setImpressionId(t),s.MessageHandler.firePreviousEvents(),s.MessageHandler.sendMessage({msrjs:o.Utilities.getVersion()}),p.EventBus.dispatchEvent(p.DvEvent.impressionServed,new Wt.EventData)}function e(){var t=[u.VpaidWrapper,He.MraidWrapper,qe.OmidWrapper];return[new kt.DvParamsCollector,new ze.ParamUrlExtractionMethodCollector,new Ut.BrowserCollector,new Nt.TrafficScenarioCollector,new l.PreRenderCollector,new Yt.MraidCollector,new de.OmidContextCollector,new se.TpsApiTypeCollector,new Zt.SslCollector,new te.SupplySourceCollector,new pe.ReferrerCollector,new Ht.WindowPropertiesCollector,new Ft.StrCollector,new zt.VideoParamsCollector,new Gt.IOSMapleCollector,new qt.DomScriptCollector,new Qt.ScriptsPerformanceCollector,new Jt.UserCollector,new Kt.BrowserSignatureCollector,new Ne.InjectionDetectionCodeCollector,new Fe.HijackedDeviceSignatureCollector,new Xt.BrowserFeaturesCollector,new $t.AttributeCollector,new Te.VpaidPlayerUrlCollector,new ce.VastUrlCollector,new Be.HardwareFeaturesCollector,new Ke.SupportedIntegrationsCollector(t)]}function i(){var t=function(t){return[new ee.TPSDataCollector(t),new ne.MeasureGdpr,new oe.MeasureGdprV2,new re.GlobalVariablesInjection,new ae.ScriptsInjection,new be.DvMatch]}(e());new ie.TpsManager(t)}function $e(){new Ot.ExposureCompatibilityIndicator,new Qe.EligibilityCompatibilityIndicator,new ut.AdSelectorLogger,new Je.AdElementInfoExtractorBL,new q.ExposureBL,new Lt.AdSizeBL,new Ge.AdContainerSizeBL,new ft.PMXDisplayViewabilityBL,new at.PMXVideoViewabilityBL,new wt.IabNotViewReasonsViewabilityBL,new Q.IabDisplayViewabilityBL,new J.IabVideoViewabilityBL,new vt.IabVideoQuartileViewabilityBL,new Ie.VideoQuartileFullOnScreenBL,new Oe.VideoFullQuartileAudibleBL,new Mt.IabDisplayViewabilityForXSecondsBL,new Pt.IabVideoViewabilityForXSecondsBL,new Z.GroupMDisplayViewabilityBL,new Y.GroupMVideoViewabilityBL,new st.GroupMV4NonMobileDisplayViewabilityBL,new At.GroupMV4MobileDisplayViewabilityBL,new pt.GroupMV4VideoNativeViewabilityBL,new dt.GroupMV4VideoReachExtensionViewabilityBL,new nt.CustomDisplayViewabilityBL,new St.CustomStandardDisplayViewabilityBL,new ot.CustomVideoViewabilityBL,new Dt.CustomStandardVideoViewabilityBL,new ke.CustomAdvertiserViewabilityStandardBL,new mt.KMEVideoViewabilityBL,new tt.BucketsDisplayViewabilityBL,new et.BucketsVideoViewabilityBL,new gt.EndQuartileViewabilityBL,new lt.RbViewabilityBL,new ht.ViewabilityStartPercentageBL,new yt.QuartileBucketsVolumeBL,new K.ReportAdManagerRTS,new bt.JsCallbackBL,new Et.MobileOrientationBL,new xt.FocusBucketsBL,new Ae.OmidLogger,new Xe.PerformanceMetricsBL,new Ve.ViewableShareOfScreenBL,new Ct.EngagementCompatibilityIndicator,new h.AdSelector,new _.AdLocatedBL,new Bt.VideoMarkImpressionAsRenderedBL,new rt.VideoStoppedBL,new _e.VideoSkippableBL,new it.VideoCompleteBL,new $.VideoLengthBL,new _t.VolumeBL,new E.InteractionHoverBL,new A.InteractionTouchBL,new T.InteractionClickBL,new O.InteractionVolumeBL,new C.InteractionPauseBL,new V.InteractionResumeBL,new M.InteractionSkipBL,new P.InteractionAbandonBL,new B.InteractionFocusBL,new I.InteractionAdSizeBL,new fe.PageInteractionKeyPressBL,new ve.PageInteractionMouseMoveBL,new he.PageInteractionScrollBL,new ge.PageInteractionOrientationChangeLandscapeBL,new we.PageInteractionOrientationChangePortraitBL,new De.EngagementReportRtsBL,new f.ReportAdManagerTPS,new Rt.NormalizedAdSizeBL}function Ze(){new v.FocusDataCollector,new H.StrictFocusDataCollector,new N.ViewabilityDataCollector,new Tt.BoundariesViewabilityDataCollector,new w.InteractionHoverDataCollector,new b.InteractionTouchDataCollector,new S.InteractionClickDataCollector,new D.OmidInteractionDataCollector,new Vt.InteractionAdSizeDataCollector,new jt.VideoPlaybackDataCollector,new Se.HiddenAdsDataCollector,new We.AutoplayDataCollector,new k.InteractionUnloadDataCollector,new ue.PageInteractionMouseMoveDataCollector,new le.PageInteractionKeyPressDataCollector,new ye.PageInteractionScrollDataCollector,new me.PageInteractionOrientationChangedDataCollector}function Ye(){var e,r,n,l;!function(){var t=$dv.omidJsClient,e=$dv.omidSessionData,i=$dv.isDomlessEnvironment,r=$dv.isFrameSupported,n=$dv.tags,o=$dv.tagsCounter,a=$dv.omidSessionStartTime,s=$dv.omidVendorKey,d=$dv.tagData,p=$dv.restrictedAccess,c=$dv.pubSub,u=$dv.isPubSubEval,l=$dv.sharedUniqueKey,f=$dv.dvGetOmidVerificationClient;$dv={dvGetOmidVerificationClient:f,omidJsClient:t,omidSessionData:e,isDomlessEnvironment:i,isFrameSupported:r,tags:n,tagsCounter:o,omidSessionStartTime:a,omidVendorKey:s,tagData:d,restrictedAccess:p,pubSub:c,isPubSubEval:u,sharedUniqueKey:l}}(),e=a.DvObject.getFrameId(dvWindow),r=a.DvObject.getImpressionId(dvWindow),(n=a.DvObject.getDvObject()).isPubSubEval||r||(n.pubSub=p.EventBusGlobal,n.isPubSubEval=!0),n.pubSub.excludeFrameId&&n.pubSub.excludeFrameId(e),n.pubSub.subscribe(p.DvEvent.impressionServed,e,"DVM_impressionServed",t),"undefined"==typeof MutationObserver&&s.MessageHandler.sendMessage({dvp_nmobs:1}),d.BrowserAdaptor.isBrowserSupported()&&(c.DvTagDataObject.start(),Pe.RenderLogicFactory.getRenderLogic().start(),u.VpaidWrapper.start(),i(),ti=!0,$e(),new Ce.ShareOfScreenResearchBL,Ze(),[(l=o.Utilities.isPercentageCriteriaPassed(10))?new xe.CustomRegexAdLocator:new j.RegexAdLocator,l?new Re.CustomMediaplexAdLocator:new x.MediaplexAdLocator,new W.FindClassAdLocator,new L.IntegratedCeltraAdLocator,new R.NonIntegratedCeltraAdLocator,new U.ParentWindowAdLocator,new F.NearestAdAdLocator,new z.SpotXAdLocator,new je.DfaAdLocator,l?new Le.CustomSellerAdLocator:new ct.SellerAdLocator,new g.InAppDefaultAdLocator,new m.NonInAppVpaidVideoAdLocator,new X.InAppVpaidVideoAdLocator,new y.InAppHtml5VideoAdLocator,new Ee.InmobiVideoAdLocator,new G.IframeFallbackAdLocator,new It.OmidAdLocator].forEach((function(t){return t.start()})),new Me.CollectIframeFallbackData)}var ti=!1;try{a.DvObject.setDvGetOmidVerificationClient(r);var ei=new n.OmidVerificationClientWrapper(r());ei.isSupported()?(u.VpaidWrapper.isSupported()&&s.MessageHandler.sendMessage({dvp_omovp:1}),He.MraidWrapper.isSupported()&&s.MessageHandler.sendMessage({dvp_omomr:1}),ei.ready(Ye)):Ye()}catch(t){ti?s.MessageHandler.sendError(Ue.ClientErrorType.PostMeasuredGlobalMainError,t):s.MessageHandler.sendError(Ue.ClientErrorType.PreMeasuredGlobalMainError,t)}}},7527:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CollectIframeFallbackData=void 0;var n=i(7360),o=i(712),a=i(194),s=i(3868),d=i(749),p=i(425),c=function(){function t(){this.htmlSampleRate=.1,n.EventBus.addEventListener(n.DvEvent.adSelected,this.collectIframeData.bind(this))}return t.prototype.collectIframeData=function(t){var e=t.adCandidate,i=a.DvObject.getImpressionId(s.WindowAdaptor.currentWindow());if(e&&e.domElement&&e.locatorMethods==o.LocatorMethods.DisplayIframeFallback){var r=s.WindowAdaptor.workingDocumentElement();100*Math.random()<=this.htmlSampleRate&&this.uploadHtml(r.outerHTML,i);var n={};this.iframeElementsTagsStatistics(r,n);var p="";Object.keys(n).forEach((function(t){return p+=t+":"+n[t]+","})),d.MessageHandler.registerEventCall(i,{dvp_itg:p})}},t.prototype.uploadHtml=function(t,e){var i=new Date,r=i.getDate()>9?i.getDate().toString():"0"+i.getDate().toString(),n=i.getFullYear(),o=i.getMonth()>9?i.getMonth().toString():"0"+i.getMonth().toString(),a=new XMLHttpRequest;a.open("PUT","https://d23xwq4myz19mk.cloudfront.net/htmldata/iframefallback/"+n+r+o+"/"+s.WindowAdaptor.workingWindow().location.hostname+"/"+e+"_iframefallback_data.html",!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.setRequestHeader("x-amz-acl","public-read"),a.send(t)},t.prototype.iframeElementsTagsStatistics=function(t,e){var i,n;if(t.hasChildNodes()){var o=p.BrowserAdaptor.getElementChildren(t);try{for(var a=r(o),s=a.next();!s.done;s=a.next()){var d=s.value;e.hasOwnProperty(d.nodeName)?e[d.nodeName]++:e[d.nodeName]=1,this.iframeElementsTagsStatistics(d,e)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}}},t}();e.CollectIframeFallbackData=c},8298:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.DomChainLogic=e.DomChainLogicClass=void 0;var n=i(3868),o=i(3380),a=i(425),s=i(8379),d=i(749),p=function(){function t(){this.currentWindow=n.WindowAdaptor.currentWindow(),this.currentFrameElement=n.WindowAdaptor.getFrameElement(this.currentWindow),this.currentFrameContainer=a.BrowserAdaptor.getParentNode(this.currentFrameElement),this.workingWindow=n.WindowAdaptor.workingWindow(),this.workingDocument=n.WindowAdaptor.workingDocument(this.workingWindow),this.isTopPage=n.WindowAdaptor.isTop(this.workingWindow),this.nodeContains=n.WindowAdaptor.isNodeSupported()&&Node.DOCUMENT_POSITION_CONTAINS,this.nodeContainedBy=n.WindowAdaptor.isNodeSupported()&&Node.DOCUMENT_POSITION_CONTAINED_BY,this.maxParentFrames=20,this.maxChildrenFrames=50}return t.prototype.isSupported=function(){var t=this.isTopPage&&this.currentFrameContainer===n.WindowAdaptor.workingBody(this.workingDocument);return t&&d.MessageHandler.sendMessage({dvp_twib:1}),this.currentFrameElement&&!!this.nodeContains&&!t},t.prototype.getFramesInChain=function(){var t=[];return this.isTopPage?t=t.concat(this.findSiblingsFramesInChain()):(t.push(this.workingWindow),t=t.concat(this.findParentsFrames(this.workingWindow))),t=t.concat(this.findChildrenFrames(this.workingWindow))},t.prototype.isFrameOutOfChain=function(t){if(this.currentWindow==t)return!0;if(this.isTopPage){var e=o.Utilities.arrayLikeToArray(a.BrowserAdaptor.querySelectorAll(this.currentFrameContainer,"iframe:not(["+s.dvIframeAttribute+"])")).map((function(t){return n.WindowAdaptor.getIframeWindow(t)})),i=o.Utilities.arrayLikeToArray(a.BrowserAdaptor.querySelectorAll(this.workingDocument,"iframe["+s.dvIframeAttribute+"]")).map((function(t){return n.WindowAdaptor.getIframeWindow(t)})),r=this.isFrameNested(e,t),d=i.some((function(e){return e==t}))&&this.areElementsInSameChain(this.currentFrameContainer,a.BrowserAdaptor.getParentNode(n.WindowAdaptor.getFrameElement(t)));return!(r||d)}return!1},t.prototype.findSiblingsFramesInChain=function(){var t=this;return o.Utilities.arrayLikeToArray(a.BrowserAdaptor.querySelectorAll(this.workingDocument,"iframe[src='about:blank']["+s.dvIframeAttribute+"]")).filter((function(e){return e!=t.currentFrameElement})).filter((function(e){return t.areElementsInSameChain(t.currentFrameContainer,e.parentNode)})).map((function(t){return n.WindowAdaptor.getIframeWindow(t)}))},t.prototype.findParentsFrames=function(t){for(var e=[],i=0;!n.WindowAdaptor.isTop(t)&&i++<this.maxParentFrames;)t=n.WindowAdaptor.getWindowParent(t,!0),e.push(t);return e},t.prototype.findChildrenFrames=function(t){var e,i,d=this,p=[];try{if(n.WindowAdaptor.isTop(t)){var c=a.BrowserAdaptor.querySelectorAll(this.currentFrameContainer,"iframe:not(["+s.dvIframeAttribute+"])");p=o.Utilities.arrayLikeToArray(c).map((function(t){return n.WindowAdaptor.getIframeWindow(t)}))}else p=o.Utilities.arrayLikeToArray(t.frames).filter((function(t){return t!=d.currentWindow}));p.splice(this.maxChildrenFrames);try{for(var u=r(p),l=u.next();!l.done;l=u.next()){var f=l.value;f.frames&&f.frames.length>0&&(p=p.concat(this.findChildrenFrames(f)))}}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(e)throw e.error}}}catch(t){}return p},t.prototype.areElementsInSameChain=function(t,e){var i=t.compareDocumentPosition(e);return t==e||!!(i&this.nodeContainedBy||i&this.nodeContains)},t.prototype.isFrameNested=function(t,e){for(var i=e.parent,r=0;!n.WindowAdaptor.isTop(i)&&r++<this.maxParentFrames;){if(t.some((function(t){return t==i})))return!0;i=i.parent}return!1},t}();e.DomChainLogicClass=p,e.DomChainLogic=new p},3954:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DvMatch=void 0;var r=i(3868),n=i(3380),o=i(749),a=i(425),s=i(6689),d=i(7360),p=i(712),c=i(8298),u=i(363),l=function(){function t(){var t=this;this.broadcastFramesPostMessage=function(e){try{r.WindowAdaptor.isPostMessageSupported(e)&&e.postMessage(t.message,"*")}catch(t){throw new Error("__broadcastFramesPostMessage__"+t.message)}},this.isMatchTimeUp=!1,this.hasMatch=!1,this.sendTime=5e3,this.matchTimeout=p.TimeInMs.FIVE_MINUTES,this.message={topic:p.MatchingTypesMessages.Broadcast,content:{uniqueId:u.RandomUtils.getRandom32()}},this.logMessage={}}return t.prototype.isSupported=function(){return!s.OmidWrapper.isSupported()&&r.WindowAdaptor.isPostMessageSupported()&&r.WindowAdaptor.isMessageChannelSupported()&&c.DomChainLogic.isSupported()},t.prototype.executePhase=function(t){this.initBroadcast(),setTimeout(this.sendMessage.bind(this),this.sendTime),setTimeout(this.stop.bind(this),this.matchTimeout),d.EventBus.addEventListener(d.DvEvent.globalUnloadData,this.sendMessage.bind(this))},t.prototype.toString=function(){return"DvMatch"},t.prototype.initBroadcast=function(){a.BrowserAdaptor.addEventListener("message",this.messageCallback.bind(this),r.WindowAdaptor.workingWindow()),a.BrowserAdaptor.addEventListener("message",this.messageCallback.bind(this),r.WindowAdaptor.currentWindow()),c.DomChainLogic.getFramesInChain().forEach(this.broadcastFramesPostMessage)},t.prototype.stop=function(){this.isMatchTimeUp=!0,a.BrowserAdaptor.removeEventListener("message",this.messageCallback.bind(this),r.WindowAdaptor.workingWindow()),a.BrowserAdaptor.removeEventListener("message",this.messageCallback.bind(this),r.WindowAdaptor.currentWindow())},t.prototype.messageCallback=function(t){if(t&&t.data&&t.data.topic&&!c.DomChainLogic.isFrameOutOfChain(t.source)&&!this.isMatchTimeUp)switch(this.hasMatch=!0,this.message.content.uniqueId=t.data.content?t.data.content.uniqueId:this.message.content.uniqueId,t.data.topic){case p.MatchingTypesMessages.Broadcast:this.reportLogs("t1stMsgB"),this.message.topic=p.MatchingTypesMessages.Match;var e=new MessageChannel;t.source.postMessage(this.message,"*",[e.port1]),t.source.parent.postMessage(this.message,"*",[e.port2]);break;case p.MatchingTypesMessages.Match:this.reportLogs("t1stMsgD")}},t.prototype.sendMessage=function(){if(this.hasMatch){var t={mascid:this.message.content.uniqueId,dvp_masver:n.Utilities.getVersion()};o.MessageHandler.sendMessage(t)}},t.prototype.reportLogs=function(t){var e="dvp_"+t;0==Object.keys(this.logMessage).length&&(this.logMessage[e]=n.Utilities.getTimeDiff(),o.MessageHandler.sendMessage(this.logMessage))},t}();e.DvMatch=l},4053:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalVariablesInjection=void 0;var r=i(2196),n=i(3868),o=i(3380),a=i(7749),s=i(749),d=i(7658),p=i(194),c=i(7429),u=i(712),l=i(8379),f=i(425),v=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.executePhase=function(t){var e=this,i=p.DvObject.getDvObject(),a=new r.DvBackwardCompatibilityClass;i.dvObjType=i.dvObjType||a.dvObjType,i.resolveMacros=i.resolveMacros||a.resolveMacros,i.registerEventCall=i.registerEventCall||a.registerEventCall,i.createEventCallUrl=i.createEventCallUrl||a.createEventCallUrl,i.getWorkingWindow=i.getWorkingWindow||a.getWorkingWindow,i.getMraid=i.getMraid||a.getMraid,i.messages=i.messages||a.messages,i.domUtilities=i.domUtilities||a.domUtilities,i.pubSub=i.pubSub||a.pubSub,i.CommonData=i.CommonData||a.CommonData,i.tags=i.tags||a.tags,i.sendBeacon=f.BrowserAdaptor.sendBeacon.bind(f.BrowserAdaptor),"undefined"==typeof window&&(window=dvWindow);var s=n.WindowAdaptor.workingWindow(),d=n.WindowAdaptor.currentWindow();s._dv_win=s,d._dv_win=s,s.t2tTimestampData=[{dvTagCreated:t.collectDataStartTime,dvWrapperLoadTime:o.Utilities.getNavigationStartTime()+t.dvtp_src_fetchStart+t.dvtp_src_duration||0},{beforeVisitCall:o.Utilities.getCurrentTime()}];var u=c.EventIdGeneratorAdaptor;s[t.callbackName]=function(i,r,n,o){e.generateCallback(t,i,r,n,o,u)}},t.prototype.toString=function(){return"GlobalInjection"},t.prototype.extractHostname=function(t){var e=t.indexOf("//")+2,i=t.indexOf("/",e);return t.substring(e,i)},t.prototype.generateCallback=function(t,e,i,r,c,f){try{if(!n.WindowAdaptor.isDomlessEnvironment()){var v=n.WindowAdaptor.currentDocument();p.DvObject.setVisitReadyState(v.readyState)}e.tags[r]={},e.tags[r].beginVisitCallbackTS=o.Utilities.getCurrentTime(),e.tags[r].eventIdGenerator=f,e.tags[r].set=function(t){o.Utilities.extend(t,e.tags[r])},e.tags[r].getTimeDiff=function(){return o.Utilities.getCurrentTime()-p.DvObject.getDvObject().tags[r].beginVisitCallbackTS},e.tags[r].tagElement=a.DvTagDataObject.getDVScript(),e.tags[r].ServerPublicDns=this.extractHostname(a.DvTagDataObject.getServerPrefix()),a.DvTagDataObject.setServerPrefix("https://"+c+"/"),e.tags[r].ServerPublicDns=c,p.DvObject.setImpressionId(r),$uid=r;var h=a.DvTagDataObject.getCaseSensitiveParams();e.tags[r].set(h);var y=o.Utilities.mapData(t,d.TPSDataMapping);o.Utilities.extend(t.additionalParams,y),e.tags[r].set(y),e.tags[r].uid=r,e.tags[r].t2tIframeCreationTime=t.t2tIframeCreationTime;var m=t.t2tIframe;e.tags[r].t2tIframeId=m&&m.id,e.tags[r].t2tIframeWindow=m&&m.contentWindow,e.tags[r].dv_protocol=l.HttpProtocol.Https;var g=n.WindowAdaptor.monitorScriptsPerformance(i,{visit:["duration"]});g.visit_duration&&s.MessageHandler.sendMessage({vdur:g.visit_duration})}catch(t){s.MessageHandler.sendError(u.ClientErrorType.TagCommunicationError,t)}},t}();e.GlobalVariablesInjection=v},7741:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MeasureGdpr=void 0;var r=i(425),n=i(3868),o=i(749),a=i(712),s=function(){function t(){var t=this;this.cmpCallbacks={},this.getConsentDataCallback=function(e,i){try{var r=n.WindowAdaptor.currentWindow(),s=n.WindowAdaptor.workingDocument();r.performance.mark("dv_gdpr_end"),r.performance.measure("dv_gdpr","dv_gdpr_start","dv_gdpr_end");var d=r.performance.getEntriesByName("dv_gdpr");if(d.length>0){var p=d[0];isNaN(p.duration)||o.MessageHandler.sendMessage({dvp_gdDur:Math.round(p.duration),dvp_gdDome:"complete"==s.readyState?"1":"0",dvp_gdDoms:t.gdprIsDocumentCompleted,dvp_gdSucc:i?"1":"0"},!0)}}catch(e){t.sendGdprError(a.GDPRCode.ErrorMeasuringPerformance)}},this.handleCmpReturn=function(e){try{var i="string"==typeof e.data?JSON.parse(e.data):e.data;if(i.__cmpReturn){var r=i.__cmpReturn,n=t.cmpCallbacks[r.callId];n?(n(r.returnValue,r.success),delete t.cmpCallbacks[r.callId]):t.sendGdprError(a.GDPRCode.WrongCallbackID)}}catch(t){}}}return t.prototype.isSupported=function(){return!n.WindowAdaptor.isDomlessEnvironment()&&n.WindowAdaptor.isPerformanceAPISupported()},t.prototype.executePhase=function(t){this.gdprIsDocumentCompleted="complete"==n.WindowAdaptor.workingDocument().readyState?"1":"0",this.gdprPerformanceMark();var e=this.locateCmpApi();if(e&&e!=a.GDPRCode.Success)this.sendGdprError(e);else if(this.cmpFrame)if(this.cmpIsFunctionCall)this.invokeCmpCommandByFunction("getConsentData",null,this.getConsentDataCallback);else{if(!n.WindowAdaptor.isPostMessageSupported())return void this.sendGdprError(a.GDPRCode.PostMessageNotSupported);this.addEventListenerForCmpResponses(),this.invokeCmpCommandByPostMessage("getConsentData",null,this.getConsentDataCallback)}},t.prototype.toString=function(){return"MesasureGdpr"},t.prototype.locateCmpApi=function(){for(var t,e=n.WindowAdaptor.currentWindow();!this.cmpFrame;){try{this.cmpIsFunctionCall="function"==typeof e.__cmp,(this.cmpIsFunctionCall||e.frames.__cmpLocator)&&(this.cmpFrame=e,t=a.GDPRCode.Success)}catch(e){t=a.GDPRCode.UnknownError}try{if(n.WindowAdaptor.isTop(e))break;e=n.WindowAdaptor.getWindowParent(e,!0)}catch(e){t=a.GDPRCode.ParentError;break}}return t},t.prototype.addEventListenerForCmpResponses=function(){r.BrowserAdaptor.addEventListener("message",this.handleCmpReturn,n.WindowAdaptor.currentWindow())},t.prototype.invokeCmpCommandByFunction=function(t,e,i){try{this.cmpFrame.__cmp(t,e,i)}catch(t){this.sendGdprError(a.GDPRCode.FuncInvocationError)}},t.prototype.invokeCmpCommandByPostMessage=function(t,e,i){var r=Math.random().toString(),n={__cmpCall:{command:t,parameter:e,callId:r}};this.cmpCallbacks[r]=i;try{this.cmpFrame.postMessage(n,"*")}catch(t){this.sendGdprError(a.GDPRCode.PostMessageInvocationError)}},t.prototype.gdprPerformanceMark=function(){n.WindowAdaptor.currentWindow().performance.mark("dv_gdpr_start")},t.prototype.sendGdprError=function(t){o.MessageHandler.sendMessage({dvp_gdpr_Error:t},!0)},t}();e.MeasureGdpr=s},8456:function(t,e,i){var r=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.MeasureGdprV2=void 0;var n=i(425),o=i(3868),a=i(749),s=i(712),d=function(){function t(){var t=this;this.DV_VENDOR_ID=126,this.tcfCallbacks={},this.getConsentDataCallback=function(e,i){try{var n=o.WindowAdaptor.currentWindow(),d=o.WindowAdaptor.workingDocument();n.performance.mark("dv_gdpr_v2_end"),n.performance.measure("dv_gdpr_v2","dv_gdpr_v2_start","dv_gdpr_v2_end");var p=r(n.performance.getEntriesByName("dv_gdpr_v2"),1)[0];p&&p.duration&&a.MessageHandler.sendMessage({dvp_gdv2_Func:t.tcfapiIsFunctionCall?"1":"0",dvp_gdv2_Applies:e?e.gdprApplies?"1":"0":"-1",dvp_gdv2_Succ:i?"1":"0",dvp_gdv2_Dur:Math.round(p.duration),dvp_gdv2_Doms:t.gdprIsDocumentCompletedStart,dvp_gdv2_Dome:"complete"==d.readyState?"1":"0"},!0)}catch(e){t.sendGdprV2Error(s.GDPRCode.ErrorMeasuringPerformance)}},this.handleTcfMessage=function(e){try{var i=("string"==typeof e.data?JSON.parse(e.data):e.data).__tcfapiReturn;if(i){var r=t.tcfCallbacks[i.callId];r?(r(i.returnValue,i.success),delete t.tcfCallbacks[i.callId]):t.sendGdprV2Error(s.GDPRCode.WrongCallbackID)}}catch(t){}}}return t.prototype.isSupported=function(){return!o.WindowAdaptor.isDomlessEnvironment()&&o.WindowAdaptor.isPerformanceAPISupported()},t.prototype.executePhase=function(t){this.gdprIsDocumentCompletedStart="complete"==o.WindowAdaptor.workingDocument().readyState?"1":"0",this.gdprV2PerformanceMark();var e=this.locateTcfFrame();if(e&&e!=s.GDPRCode.Success)this.sendGdprV2Error(e);else if(this.tcfFrame)if(this.tcfapiIsFunctionCall)this.invokeTcfCommandByFunction("getTCData",[this.DV_VENDOR_ID],this.getConsentDataCallback);else{if(!o.WindowAdaptor.isPostMessageSupported())return void this.sendGdprV2Error(s.GDPRCode.PostMessageNotSupported);this.addEventListenerForTcfResponses(),this.invkoeTcfCommandByPostMessage("getTCData",[this.DV_VENDOR_ID],this.getConsentDataCallback)}},t.prototype.toString=function(){return"MesasureGdprV2"},t.prototype.locateTcfFrame=function(){for(var t,e=o.WindowAdaptor.currentWindow();!this.tcfFrame;){try{this.tcfapiIsFunctionCall="function"==typeof e.__tcfapi,(this.tcfapiIsFunctionCall||e.frames.__tcfapiLocator)&&(this.tcfFrame=e,t=s.GDPRCode.Success)}catch(e){t=s.GDPRCode.UnknownError}try{if(o.WindowAdaptor.isTop(e))break;e=o.WindowAdaptor.getWindowParent(e,!0)}catch(e){t=s.GDPRCode.ParentError;break}}return t},t.prototype.addEventListenerForTcfResponses=function(){n.BrowserAdaptor.addEventListener("message",this.handleTcfMessage,o.WindowAdaptor.currentWindow())},t.prototype.invokeTcfCommandByFunction=function(t,e,i){try{this.tcfFrame.__tcfapi(t,2,i,e)}catch(t){this.sendGdprV2Error(s.GDPRCode.FuncInvocationError)}},t.prototype.invkoeTcfCommandByPostMessage=function(t,e,i){var r=Math.random().toString(),n={__tcfapiCall:{command:t,parameter:e,version:2,callId:r}};this.tcfCallbacks[r]=i;try{this.tcfFrame.postMessage(n,"*")}catch(t){this.sendGdprV2Error(s.GDPRCode.PostMessageInvocationError)}},t.prototype.gdprV2PerformanceMark=function(){o.WindowAdaptor.currentWindow().performance.mark("dv_gdpr_v2_start")},t.prototype.sendGdprV2Error=function(t){a.MessageHandler.sendMessage({dvp_gdv2_Error:t},!0)},t}();e.MeasureGdprV2=d},5817:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptsInjection=void 0;var r=i(3380),n=i(7658),o=i(425),a=i(3868),s=i(749),d=i(7749),p=i(712),c=i(194),u=i(3322),l=function(){function t(){this.onLoad=function(){r.Utilities.setLoadVisitTime(),c.DvObject.getImpressionId(null)||s.MessageHandler.sendError(p.ClientErrorType.InvalidVisitResponseError,void 0,void 0)}}return t.prototype.isSupported=function(){return!0},t.prototype.appendPerformanceMetrics=function(t){var e=c.DvObject.getTagLoadedMS(),i=r.Utilities.getScriptLoadedMS(),n=r.Utilities.getCurrentTime();t.timeToMeasureMs=i-e,t.timeToFirstReportMs=n-i},t.prototype.appendScriptDynamicFlags=function(t){var e=u.ScriptDynamicFlags.getInstance().getFlags();e&&e>0&&(t.scriptDynamicFlags=e)},t.prototype.executePhase=function(t){var e=Math.floor(Date.now()*Math.random());t.additionalParams||(t.additionalParams={}),t.additionalParams.dvp_tuid=e,t.errorURL=d.DvTagDataObject.getServerPrefix()+d.DvTagDataObject.getErrorPath(),this.appendScriptDynamicFlags(t),this.appendPerformanceMetrics(t);var i=r.Utilities.getQueryString(t,t.additionalParams,t.dvpParamsFlags,n.TPSDataMapping),s=""+d.DvTagDataObject.getServerPrefix()+d.DvTagDataObject.getInitPath()+"?"+d.DvTagDataObject.getGDPRAndGDPRConsentQueryStringPart()+i,p=a.WindowAdaptor.currentDocument(),u=a.WindowAdaptor.getCurrentScript()||p.body,l={tuid:e,cmp:t.cmp,ctx:t.ctx,sid:t.sid,plc:t.plc,vurll:s.length,protocol:c.DvObject.getProtocol()},f=this.errorFunction.bind(this,l),v="TPSCall";c.DvObject.isRestrictedAccess()&&(v+="_"+c.DvObject.getTagUniqueKey()),c.DvObject.setVisitInjectedMS(r.Utilities.getCurrentTime()),o.BrowserAdaptor.addScriptAsync(s,u,v,!1,f,this.onLoad),r.Utilities.logDvSignal(s)},t.prototype.toString=function(){return"ScriptsInjection"},t.prototype.errorFunction=function(t){var e=t.vurll,i=t.protocol,n=r.Utilities.isExceedingMaxUrlLength(e)?p.ClientErrorType.VisitRequestError:p.ClientErrorType.VisitResponseError,o={dvp_vurll:e,dvp_protocol:i};s.MessageHandler.sendError(n,void 0,void 0,o)},t}();e.ScriptsInjection=l},1822:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.SupportedIntegrationsCollector=void 0;var r=i(712),n=function(){function t(t){this.integrations=t}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){var e=r.IntegrationType.NoneSupported;this.integrations.forEach((function(t){t.isSupported()&&(e|=Number(t.getIntegrationType()))})),t.supportedIntegrations=e,e!=r.IntegrationType.NoneSupported&&(t.additionalParams.dvp_mib=e)},t.prototype.toString=function(){return"SupportedIntegrations"},t}();e.SupportedIntegrationsCollector=n},9688:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserCollector=void 0;var r=i(3946),n=i(3868),o=function(){function t(){}return t.prototype.isSupported=function(){return!n.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){var e=r.BrowserDetector.getBrowserId();null!=e&&(t.browserDetectionSource=1),t.browserId=e,t.browserVersion=r.BrowserDetector.getBrowserVersion(),t.browserIdUserAgent=r.BrowserDetector.getBrowserIdUserAgent()},t.prototype.toString=function(){return"Browser"},t}();e.BrowserCollector=o},6892:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DomScriptCollector=void 0;var r=i(3868),n=i(7749),o=function(){function t(){}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){this.isScriptInHeadPosition()&&(t.isScriptInHeadLocation=1)},t.prototype.toString=function(){return"DomScript"},t.prototype.isScriptInHeadPosition=function(){var t=n.DvTagDataObject.getDVScript();return t&&t.parentElement&&"HEAD"==t.parentElement.tagName},t}();e.DomScriptCollector=o},8010:function(t,e,i){var r=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},n=this&&this.__spreadArray||function(t,e){for(var i=0,r=e.length,n=t.length;i<r;i++,n++)t[n]=e[i];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.DvParamsCollector=void 0;var o=i(7749),a=i(3380),s=i(194),d=function(){function t(){this.tpsParams=["ctx","cmp","ipos","sid","plc","adid","crt","btreg","btadsrv","adsrv","advid","num","pid","crtname","unit","chnl","uid","scusrid","tagtype","sr","dt","dup","app","dvvidver","turl","icall","dv_callback","useragent","xff","timecheck","seltag","sadv","ord","litm","scrt","invs","splc","adu","spos","c1","c2","c3","c4","c5","c6","c7","c8","c9","c10","c11","c12","c13","c14","c15","native","gmnpo","isdvvid","msrapi","bsimpid","prr","iframe","gdpr","gdpr_consent","tvcp","vssd","apifw","vstvr","auprice","ppid","audeal","auevent","auadv","aucmp","aucrtv","auorder","ausite","auplc","auxch","audvc","aulitem","auadid","pltfrm","aufilter1","aufilter2","autt","auip","aubndl"],this.aspParams=["auctionid","vermemid","source","buymemid","anadvid","ioid","cpgid","cpid","sellerid","pubid","advcode","iocode","cpgcode","cpcode","pubcode","prcpaid","auip","auua"]}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){var e=s.DvObject.getDvtpScriptVersion();t.dvtpScriptVersion=e,t.collectDataStartTime=a.Utilities.getCurrentTime();var i=o.DvTagDataObject.getCaseSensitiveParams();if(!a.Utilities.isEmpty(i)){var d=o.DvTagDataObject.getLowerCaseParams();this.tpsParams.forEach((function(e){a.Utilities.isNullOrEmpty(d[e])||(t[e]=d[e])})),this.aspParams.forEach((function(e){a.Utilities.isNullOrEmpty(i[e])||(t[e]=i[e],t.additionalParams["dvp_"+e]=i[e])}));var p=n(n([],r(this.tpsParams)),r(this.aspParams));Object.keys(i).filter((function(t){return!a.Utilities.isNullOrEmpty(i[t])&&-1===p.indexOf(t)})).forEach((function(e){var r=i[e];a.Utilities.startsWith(e,"dvpx_",!0)&&(r=encodeURIComponent(r)),t.additionalParams[e]=r}))}},t.prototype.toString=function(){return"DvParams"},t}();e.DvParamsCollector=d},992:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InjectionDetectionCodeCollector=void 0;var r=i(3868),n=function(){function t(){this.results=[]}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){try{this.ancestorsInjectionDetection(),t.idcResults=this.results.join(",")}catch(e){t.idcResults="-999",t.idcError=e.message||"unknown"}t.idcVersion=28},t.prototype.toString=function(){return"InjectionDetectionCodeCollector"},t.prototype.ancestorsInjectionDetection=function(){for(var t=r.WindowAdaptor.workingWindow(),e=0;e<10&&(this.detectInjections(t),!r.WindowAdaptor.isTop(t))&&(t=r.WindowAdaptor.getWindowParent(t));e++);},t.prototype.detectInjections=function(t){this.addInjector(t,null!=t.AZSD,9),this.addInjector(t,t.location.hostname!=t.encodeURIComponent(t.location.hostname),10),this.addInjector(t,null!=t.cascadeWindowInfo,11),this.addInjector(t,null!=t._rvz,32),this.addInjector(t,null!=t.FO_DOMAIN,34),this.addInjector(t,null!=t.va_subid,36),this.addInjector(t,t._GPL&&t._GPL.baseCDN,40),this.addInjector(t,this.evaluateProperty(t,"__twb__")&&this.evaluateProperty(t,"__twb_cb_"),43),this.addInjector(t,null!=t.landingUrl&&null!=t.seList&&null!=t.parkingPPCTitleElements&&null!=t.allocation,45),this.addInjector(t,this.evaluateProperty(t,"_rvz",(function(t){return null!=t.publisher_subid})),46),this.addInjector(t,null!=t.cacildsFunc&&null!=t.n_storesFromFs,47),this.addInjector(t,t._pcg&&t._pcg.GN_UniqueId,54),this.addInjector(t,this.evaluateProperty(t,"__ad_rns_")&&this.evaluateProperty(t,"_$_"),64),this.addInjector(t,null!=t.APP_LABEL_NAME_FULL_UC,71),this.addInjector(t,null!=t._priam_adblock,81),this.addInjector(t,t.supp_ads_host&&t.supp_ads_host_overridden,82),this.addInjector(t,t.uti_xdmsg_manager&&t.uti_xdmsg_manager.cb,87),this.addInjector(t,t.LogBundleData&&t.addIframe,91),this.addInjector(t,t.xAdsXMLHelperId||t.xYKAffSubIdTag,95),this.addInjector(t,t.__pmetag&&t.__pmetag.uid,98),this.addInjector(t,t.CustomWLAdServer&&/(n\d{1,4}adserv)|(1ads|cccpmo|epommarket|epmads|adshost1)/.test(t.supp_ads_host_overridden),100)},t.prototype.evaluateProperty=function(t,e,i){for(var r in t)if(r.indexOf(e)>-1&&(!i||i(t[r])))return!0;return!1},t.prototype.addInjector=function(t,e,i){e&&-1==this.results.indexOf(i)&&this.results.push((r.WindowAdaptor.isTop(t)?-1:1)*i)},t}();e.InjectionDetectionCodeCollector=n},6800:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeCollector=void 0;var r=i(712),n=i(3868),o=function(){function t(){}return t.prototype.isSupported=function(){return!n.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){try{if((n.WindowAdaptor.getScenarioType()&r.Scenario.CrossDomain)!==r.Scenario.CrossDomain){var e=n.WindowAdaptor.getTopAccessibleWindow(),i=n.WindowAdaptor.workingDocument(e);t.widgetCount=(e.FB?1:0)+(e.twttr?2:0)+(e.outbrain?4:0)+(e._taboola?8:0);try{i.cookie&&(t.cookieLength=i.cookie.length)}catch(t){}e.performance&&e.performance.timing&&e.performance.timing.domainLookupStart>0&&e.performance.timing.domainLookupEnd>0&&(t.domainLookupTime=e.performance.timing.domainLookupEnd-e.performance.timing.domainLookupStart),i.querySelectorAll&&(t.documentElementCount=i.querySelectorAll("*").length)}var o=n.WindowAdaptor.workingWindow();t.iframeCount=o.top.length,o.history&&(t.historyLength=o.history.length)}catch(t){}},t.prototype.toString=function(){return"AttributeCollector"},t}();e.AttributeCollector=o},8213:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeaturesCollector=void 0;var r=i(3868),n=function(){function t(){}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){t.browserFeatures=this.getBrowserFeatures()},t.prototype.toString=function(){return"BrowserFeaturesCollector"},t.prototype.getBrowserFeatures=function(){try{var t=0,e=function(e,i){i&&e<32&&(t=(t|1<<e)>>>0)},i=function(t,e){return typeof t===e},n=r.WindowAdaptor.workingDocument(),o="svg"===r.WindowAdaptor.workingDocumentElement().nodeName.toLowerCase(),a=function(t){return"function"!=typeof n.createElement?n.createElement(arguments[0]):o?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)},s="Moz O ms Webkit",d=s.split(" "),p=s.toLowerCase().split(" "),c={style:{elem:a("modernizr")}.elem.style},u=function(t,e,r){var n=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+d.join(n+" ")+n).split(" ");if(i(e,"string")||i(e,"undefined"))return function(t,e){for(var i,r,n,o=["modernizr","tspan","samp"];!c.style&&o.length;)i=!0,c.modElem=a(o.shift()),c.style=c.modElem.style;function s(){i&&(delete c.style,delete c.modElem)}r=t.length;for(var d=0;d<r;d++)if(n=t[d],c.style[n],void 0!==c.style[n])return s(),"pfx"!=e||n;return s(),!1}(o,e);o=(t+" "+p.join(n+" ")+n).split(" ");var s=void 0;for(var u in o)if(o[u]in e)return!1===r?o[u]:(s=e[o[u]],i(s,"function")?s.bind(r||e):s);return!1},l=r.WindowAdaptor.workingWindow();return e(0,!0),e(1,!!u("requestFileSystem",l)),e(2,!!l.CSS&&"function"==typeof l.CSS.escape),e(3,u("shapeOutside","content-box",!0)),t}catch(t){return 0}},t}();e.BrowserFeaturesCollector=n},370:function(t,e,i){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserSignatureCollector=void 0;var n=i(3868),o=i(3380),a=function(){function t(){}return t.prototype.isSupported=function(){return!n.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){var e=this.getBrowserSignature();e&&(t.browserSignatureFamilyBits=e.f,t.browserSignatureBits=e.s)},t.prototype.toString=function(){return"BrowserSignatureCollector"},t.prototype.getBrowserSignature=function(){var t,e=0,i=0;try{var a=function(t,r,n){n&&(e+=Math.pow(2,t),i+=Math.pow(2,r))},s=n.WindowAdaptor.getTopAccessibleWindow(),d=n.WindowAdaptor.workingDocument(s);a(14,0,s.playerInstance&&d.querySelector('script[src*="ads-player.com"]')),a(14,1,(s.CustomWLAdServer||s.DbcbdConfig)&&((t=d.querySelector('p[class="footerCopyright"]'))&&t.textContent.match(/ MangaLife 2016/))),a(15,2,s.zpz&&s.zpz.createPlayer),a(15,3,s.vdApp&&s.vdApp.createPlayer),a(15,4,d.querySelector('body>div[class="z-z-z"]')),a(16,5,s.xy_checksum&&s.place_player&&(s.logjwonready&&s.logContentPauseRequested||s.jwplayer)),a(17,6,function(){if(n.WindowAdaptor.isTop(s)&&""==d.title){var t=d.querySelector('body>object[id="player"]');return t&&t.data&&t.data.indexOf("jwplayer")>1&&"visibility: visible;"==t.getAttribute("style")}return!1}()),a(17,7,d.querySelector('script[src*="sitewebvideo.com"]')),a(17,8,s.InitPage&&s.cef&&s.InitAd),a(17,9,function(){if(n.WindowAdaptor.isTop(s)&&""==d.title){var t=d.querySelector("body>#player");return t&&(t.querySelector('div[id*="opti-ad"]')||t.querySelector('iframe[src="about:blank"]'))}return!1}()),a(17,10,function(){if(n.WindowAdaptor.isTop(s)&&""==d.title&&s.InitAdPlayer){var t=d.querySelector('body>div[id="kt_player"]');return t&&t.querySelector('div[class="flash-blocker"]')}return!1}()),a(17,11,null!=s.clickplayer&&null!=s.checkRdy2),a(19,12,s.instance&&s.inject&&d.querySelector('path[id="cp-search-0"]')),a(20,13,function(){var t,e,i,n;try{if(s.top==s&&d.getElementsByClassName("asu").length>0){var a=o.Utilities.arrayLikeToArray(d.styleSheets);try{for(var p=r(a),c=p.next();!c.done;c=p.next()){var u=c.value,l=o.Utilities.arrayLikeToArray(u.cssRules);try{for(var f=(i=void 0,r(l)),v=f.next();!v.done;v=f.next()){var h=v.value;if("div.kk"==h.selectorText||"div.asu"==h.selectorText)return!0}}catch(t){i={error:t}}finally{try{v&&!v.done&&(n=f.return)&&n.call(f)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=p.return)&&e.call(p)}finally{if(t)throw t.error}}}}catch(t){}}()),a(21,14,function(){try{return null!=d.querySelector('div[id="kt_player"][hiegth]')}catch(t){}}()),a(22,15,function(){try{return s.top==s&&null!=s.document.querySelector('div[id="asu"][class="kk"]')}catch(t){}}()),a(25,16,function(){try{return d.querySelector('object[data*="/VPAIDFlash.swf"]')&&d.querySelector('object[id*="vpaid_video_flash_tester_el"]')&&d.querySelector('div[id*="desktopSubModal"]')}catch(t){}}());var p=n.WindowAdaptor.getUserAgent();if(p&&p.indexOf("Android")>-1&&p.indexOf(" wv)")>-1&&s==dvWindow.top){a(28,17,d.querySelector('img[src*="dealsneartome.com"]')||!!s.__cads__||d.querySelectorAll('img[src*="/tracker?tag="]').length>0||!1)}if(e>0)return{f:e,s:i}}catch(t){}return null},t}();e.BrowserSignatureCollector=a},4115:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.HardwareFeaturesCollector=void 0;var r=i(3868),n=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){t.numberOfCores=r.WindowAdaptor.getNumberOfCores(),this.getTouchSupport()&&(t.hasTouchPad=1)},t.prototype.toString=function(){return"HardwareDataCollector"},t.prototype.getTouchSupport=function(){var t,e;return 5===(null===(e=null===(t=null===r.WindowAdaptor||void 0===r.WindowAdaptor?void 0:r.WindowAdaptor.workingWindow())||void 0===t?void 0:t.navigator)||void 0===e?void 0:e.maxTouchPoints)},t}();e.HardwareFeaturesCollector=n},4194:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.HijackedDeviceSignatureCollector=void 0;var r=i(3868),n=function(){function t(){}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){var e=this.getSignature();e&&(t.hijackedDeviceSignatureBits=e)},t.prototype.toString=function(){return"HijackedDeviceSignatureCollector"},t.prototype.getSignature=function(){var t,e=0;try{var i=r.WindowAdaptor.getTopAccessibleWindow(),n=r.WindowAdaptor.workingDocument(i);if(t=6,r.WindowAdaptor.isTop(i)&&""==n.title&&null==n.querySelector("meta[charset]")&&null!=n.querySelector('div[style*="background-image: url("]')&&(null!=n.querySelector('script[src*="j.pubcdn.net"]')||null!=n.querySelector('span[class="ad-close"]'))&&(e+=Math.pow(2,t)),e>0)return e}catch(t){}return null},t}();e.HijackedDeviceSignatureCollector=n},6783:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IOSMapleCollector=void 0;var r=i(3868),n=function(){function t(){this.maxIterations=10}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){var e=r.WindowAdaptor.isIOS(),i=r.WindowAdaptor.objectLookup(r.WindowAdaptor.workingWindow(),"maple",this.maxIterations);e&&t.dvpParamsFlags.push(0),i&&t.dvpParamsFlags.push(1)},t.prototype.toString=function(){return"IOSMaple"},t}();e.IOSMapleCollector=n},8453:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidCollector=void 0;var r=i(6681),n=function(){function t(){}return t.prototype.isSupported=function(){return r.MraidWrapper.isSupported()},t.prototype.collectData=function(t){t.isMraid=1},t.prototype.toString=function(){return"MraidCollector"},t}();e.MraidCollector=n},6254:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidContextCollector=void 0;var r=i(6689),n=i(712),o=i(3868),a=i(194),s=i(3380),d=i(3322),p=function(){function t(){}return t.prototype.isSupported=function(t){return o.WindowAdaptor.workingWindow()&&o.WindowAdaptor.workingWindow().omid3p&&(t.omidWebEnvironmentLog=1),r.OmidWrapper.isSupported()},t.prototype.collectData=function(t){var e=r.OmidWrapper.getOmidContext();if(e){if(t.omidEnvironment=e.environment,t.omidAdSessionType=e.adSessionType,t.omidAppId=e.app&&e.app.appId,t.omidAppLibraryVersion=e.app&&e.app.libraryVersion,t.omidPartnerName=e.omidNativeInfo&&e.omidNativeInfo.partnerName,t.omidPartnerVersion=e.omidNativeInfo&&e.omidNativeInfo.partnerVersion,t.omidJSServiceVersion=e.omidJsInfo&&e.omidJsInfo.serviceVersion,t.omidJSSessionClientVersion=e.omidJsInfo&&e.omidJsInfo.sessionClientVersion,t.omidJSPartnerName=e.omidJsInfo&&e.omidJsInfo.partnerName,t.omidJSPartnerVersion=e.omidJsInfo&&e.omidJsInfo.partnerVersion,t.omidDeviceType=e.deviceInfo&&e.deviceInfo.deviceType,t.omidDeviceOSVersion=e.deviceInfo&&e.deviceInfo.osVersion,t.omidCustomReferenceData=s.Utilities.isNullOrEmpty(e.customReferenceData)?e.customReferenceData:encodeURIComponent(e.customReferenceData),e.deviceInfo&&e.deviceInfo.os){var i=null;"iOS"==e.deviceInfo.os?i=n.DeviceOS.IOS:"Android"==e.deviceInfo.os&&(i=n.DeviceOS.Android),t.omidDeviceOS=i}if(e.supports){var o=0;e.supports.forEach((function(t){"clid"===t?o+=n.OmidSupports.Clid:"vlid"===t&&(o+=n.OmidSupports.Vlid)})),0!=o&&(t.omidSupports=o)}}var p=a.DvObject.getDvObject();this.setOmidVendorKey(t,p.omidVendorKey),p.tagsCounter>1&&(t.omidTagsCounter=p.tagsCounter);var c=r.OmidWrapper.getSessionData();if(c){var u=(c.data||{}).context||{};u.accessMode&&(t.omidAccessMode=r.OmidWrapper.getOmidAccessModeNumber(u.accessMode)),u.underEvaluation&&d.ScriptDynamicFlags.getInstance().turnOn(n.ScriptDynamicFlagsEnum.OmidUnderEvaluation)}},t.prototype.setOmidVendorKey=function(t,e){e&&(t.omidVendorKey=r.OmidWrapper.getOmidVendorKeyIndex(e))},t.prototype.toString=function(){return"OmidContext"},t}();e.OmidContextCollector=p},8733:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ParamUrlExtractionMethodCollector=void 0;var r=i(7749),n=i(194),o=i(6689),a=i(3868),s=i(3380),d=i(712),p=i(3322),c=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){var e=r.DvTagDataObject.getParamUrlExtractionMethod();e&&(t.additionalParams.dvp_rcp=e),this.appendUrlHashTagLogger(t),this.appendIsES6Supported(t),this.appendScriptElementExtractionMethod(t),this.appendIsCurrentScriptNotSupported(t),this.appendIsOmid(t),this.appendHasTagUniqueKey(t),this.appendTagCounter(t),this.appendSharedUniqueKey(t),this.appendTagUniqueKey(t),this.appendUuid(t)},t.prototype.appendUrlHashTagLogger=function(t){var e=0,i=r.DvTagDataObject.getDVScriptUrl();if(!s.Utilities.isNullOrEmpty(i)){var n=new RegExp("[#]([^&#?]*)=([^&#?]*)","gi"),o=new RegExp("[?]([^&#?]*)=([^&#?]*)","gi");n.test(i)&&(e|=1),o.test(i)&&(e|=2),e&&(t.additionalParams.dvp_htec=e)}},t.prototype.appendUuid=function(t){t.additionalParams.dvp_uuid=s.Utilities.generateGuid()},t.prototype.appendIsES6Supported=function(t){n.DvObject.isES6Supported()&&p.ScriptDynamicFlags.getInstance().turnOn(d.ScriptDynamicFlagsEnum.isES6Supported)},t.prototype.appendTagUniqueKey=function(t){var e=n.DvObject.getTagUniqueKey();e&&(t.additionalParams.dvp_tukv=e)},t.prototype.appendSharedUniqueKey=function(t){var e=n.DvObject.getSharedUniqueKey();e&&(t.additionalParams.dvp_sukv=e)},t.prototype.appendScriptElementExtractionMethod=function(t){var e=r.DvTagDataObject.getScriptElementExtractionMethod();e&&(t.additionalParams.dvp_seem=e)},t.prototype.appendIsCurrentScriptNotSupported=function(t){!a.WindowAdaptor.getCurrentScript()&&(t.additionalParams.dvp_nscs=1)},t.prototype.appendIsOmid=function(t){var e;try{var i=0,r=a.WindowAdaptor.workingWindow();o.OmidWrapper.isSupported()&&(i=1),n.DvObject.isOmidForWeb()&&(i|=8),n.DvObject.isOmid3p()&&(i|=16);try{if(!n.DvObject.isRestrictedAccess()&&!a.WindowAdaptor.isDomlessEnvironment()){var d=a.WindowAdaptor.getWindowParent(r),p=a.WindowAdaptor.getWindowParent(d);void 0===r.omidVerificationProperties&&void 0===d.omidVerificationProperties&&void 0===r.omid&&void 0===d.omid&&void 0===p.omid||(i|=2);var c=null!==(e=r.omidVerificationProperties)&&void 0!==e?e:d.omidVerificationProperties;s.Utilities.isNullOrEmpty(c)||"web"===(null==c?void 0:c.injectionSource)&&(i|=4)}}catch(t){}i>0&&(t.additionalParams.dvp_iomd=i)}catch(t){}},t.prototype.appendHasTagUniqueKey=function(t){n.DvObject.getTagUniqueKey()&&(t.additionalParams.dvp_tuk=1)},t.prototype.appendTagCounter=function(t){var e=n.DvObject.getTagCounter();e>1&&(t.additionalParams.dvp_tcnt=e)},t.prototype.toString=function(){return"ParamUrlExtractionMethod"},t}();e.ParamUrlExtractionMethodCollector=c},3219:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PreRenderCollector=void 0;var r=i(7026),n=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){r.RenderLogicFactory.getRenderLogic().isAdRendered()||(t.isPreRender=1)},t.prototype.toString=function(){return"PreRender"},t}();e.PreRenderCollector=n},4932:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ReferrerCollector=void 0;var r=i(3868),n=i(3380),o=i(7658),a=function(){function t(){}return t.prototype.isSupported=function(t){var e=(r.WindowAdaptor.getUserAgent()||"").toLowerCase();return!r.WindowAdaptor.isDomlessEnvironment()&&(e.indexOf("webkit")>-1||e.indexOf("chrome")>-1)},t.prototype.collectData=function(t){var e=encodeURIComponent(r.WindowAdaptor.workingWindow().location.toString());n.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,o.TPSDataMapping,e)&&(t.referrerUrl=e)},t.prototype.toString=function(){return"Referrer"},t}();e.ReferrerCollector=a},2221:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptsPerformanceCollector=void 0;var r=i(3868),n=function(){function t(){}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){var e,i=r.WindowAdaptor.monitorScriptsPerformance(r.WindowAdaptor.workingWindow(),((e={}).dvtp_src=["fetchStart","duration"],e));t.dvtp_src_fetchStart=i.dvtp_src_fetchStart,t.dvtp_src_duration=i.dvtp_src_duration},t.prototype.toString=function(){return"ScriptsPerformance"},t}();e.ScriptsPerformanceCollector=n},8357:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.SslCollector=void 0;var r=i(3868),n=i(7749),o=i(194),a=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){var e=n.DvTagDataObject.getDVScriptUrl(),i=r.WindowAdaptor.workingWindow().location;e&&i&&e.match("^http:")&&i.toString().match("^https")&&(t.diffSsl=1),t.isSsl=o.DvObject.getProtocol()},t.prototype.toString=function(){return"Ssl"},t}();e.SslCollector=a},6574:function(t,e,i){var r=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.StrCollector=void 0;var n=i(3868),o=i(5903),a=i(3380),s=i(7658),d=i(6806),p=i(425),c=i(712),u=function(){function t(){this.parentIsPermitted=!1,this.ancestorChain="",this.additionalUrl="",this.htmlUrl="",this.referrerOffset=0,this.insertEparam=function(t,e){var i=t+"="+encodeURIComponent(e);this.eparams=this.eparams?this.eparams+"&"+i:i}}return t.prototype.isSupported=function(){return!n.WindowAdaptor.isDomlessEnvironment()},t.prototype.getSTR=function(t){return this.workingWindow=n.WindowAdaptor.workingWindow(),this.findHighestAvailableWindow(),this.processDVurl(),t.referrerUrlExtractedFromSafeFrame=this.referrerUrlExtractedFromSafeFrame,t.safeFrameExists=this.safeFrameExists,this.extractAncestorChain(),this.calculateWindowDepth(),this.updateWindowDepth(),this.extractUrlFromHtml(t),this.htmlUrl||this.findAdditionalURLs(),this.setEparams(t),{ep1:encodeURIComponent(this.dvURL),ep2:encodeURIComponent(this.ancestorChain),ep3:encodeURIComponent(this.additionalUrl),ep4:encodeURIComponent(this.htmlUrl)}},t.prototype.collectData=function(t){this.getSTR(t);var e=encodeURIComponent(this.eparams);a.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,s.TPSDataMapping,e)?t.eparams=e:t.dvpParamsFlags.push(3),t.eparamsLength=e&&e.length,t.referrerDepth=this.referrerDepth,t.windowDepth=this.windowDepth,t.additionalUrlDepth=this.htmlUrl?-1:this.additionalUrlDepth},t.prototype.toString=function(){return"Str"},t.prototype.findHighestAvailableWindow=function(){try{this.highestAvailableWindow=this.workingWindow;for(var t=0;t<=10;t++){var e=n.WindowAdaptor.getWindowParent(this.highestAvailableWindow,!0);if(!e||this.highestAvailableWindow==e){0==t&&(this.parentIsPermitted=!0);break}if(!(e.location.toString().length>0)){this.parentIsPermitted=!1;break}this.highestAvailableWindow=e,this.referrerOffset++,this.parentIsPermitted=!0}}catch(t){this.parentIsPermitted=!1}},t.prototype.processDVurl=function(){var t,e=n.WindowAdaptor.workingDocument(this.highestAvailableWindow).referrer,i=null===(t=this.workingWindow.location)||void 0===t?void 0:t.ancestorOrigins,r=i&&i[i.length-1];if(d.SafeFrameObject.isSafeFrameExists(this.highestAvailableWindow)&&(this.safeFrameExists=1),0==e.length)this.dvURL=this.highestAvailableWindow.location.toString();else if(this.parentIsPermitted)this.dvURL=this.highestAvailableWindow.location.toString();else{this.dvURL=e;var o=d.SafeFrameObject.getUrlReferrer(this.highestAvailableWindow);!o||i&&0!=o.indexOf(r)||(this.dvURL=o,this.referrerUrlExtractedFromSafeFrame="sf"),this.dvMinus=!0}},t.prototype.extractAncestorChain=function(){var t=this.getAncestorOrigins(),e=this.workingWindow.location;t&&t.length>0&&e&&(t.unshift(e.protocol+"//"+e.hostname),this.ancestorChain=t.reverse().join(","))},t.prototype.getAncestorOrigins=function(){return a.Utilities.DOMStringListToArray(this.workingWindow[o.Encoding.ROT47("=@42E:@?")][o.Encoding.ROT47("2?46DE@C~C:8:?D")])},t.prototype.calculateWindowDepth=function(){for(var t=0,e=this.highestAvailableWindow;t<10&&!n.WindowAdaptor.isTop(e);)t++,e=n.WindowAdaptor.getWindowParent(e,!0);this.windowDepth=t},t.prototype.findAdditionalURLs=function(){try{if(this.additionalUrl="",this.additionalUrlDepth=0,this.windowDepth<=1)return;var t=[];t.push({win:n.WindowAdaptor.windowTop(!0),depth:0});for(var e=void 0,i=void 0,r=void 0,o=1,a=0;o>0&&a<100;){try{a++,i=(e=t.shift()).win,r=e.depth,o--;var s=i.location.toString();if(s.length>0&&i!=this.highestAvailableWindow){var d=n.WindowAdaptor.workingDocument(i).referrer;return 0==d.length||0==r?(this.additionalUrl=s,void(this.additionalUrlDepth=r)):(this.additionalUrl=d,void(this.additionalUrlDepth=r-1))}}catch(t){}for(var p=i.frames.length,c=0;c<p;c++)t.push({win:i.frames[c],depth:r+1}),o++}}catch(t){}},t.prototype.updateWindowDepth=function(){this.referrerDepth=this.windowDepth+this.referrerOffset,this.dvMinus&&this.windowDepth&&this.windowDepth--},t.prototype.setEparams=function(t){this.insertEparam("srcurl",this.dvURL),this.ancestorChain&&this.insertEparam("ancChain",this.ancestorChain);var e=this.htmlUrl||this.additionalUrl;e&&a.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,s.TPSDataMapping,e)&&this.insertEparam("aUrl",e),this.eparams=o.Encoding.ROT47(this.eparams)},t.prototype.extractUrlFromHtml=function(t){try{if(t.browserId==c.Browser.IE||t.trafficScenarioType!=c.Scenario.CrossDomain)return;if(n.WindowAdaptor.isPerformanceAPISupported()&&n.WindowAdaptor.currentWindow().performance.mark("dv_str_html_start"),this.dvURL){var e=new RegExp("^(?:https?:\\/\\/)?[\\w\\-\\.]+\\/[a-zA-Z0-9]","gi"),i=this.dvURL.match(e);if(i&&i.length>0)return}var r=n.WindowAdaptor.workingDocument(this.highestAvailableWindow);if(r&&r.referrer){var o=r.referrer.replace(/\//g,"\\/").replace(/\./g,"\\."),a=new RegExp('(?:w{0,4}=")?'+o+"[^&\"; %,'\\$\\\\\\|]+","gi"),s=new RegExp("banner|adprefs|safeframe|sandbox|sf\\.html","gi");this.htmlUrl=this.getUrlFromHtml(r,a,s,/^\w{0,4}="/gi),this.measureExtraction(t)}}catch(t){}},t.prototype.getUrlFromHtml=function(t,e,i,r){var n=this.findUrlByTag(t,"script","src",e,i,r);return n||(n=this.extractFromScriptHtml(t,e,i,r))||(n=this.findUrlByTag(t,"a","href",e,i,r)),n},t.prototype.findLongestMatch=function(t,e,i){var r="";if(t&&t.length>0)for(var n=0;n<t.length;n++){var o=t[n];o.length>r.length&&null==o.match(e)&&0!=o.indexOf('src="')&&0!=o.indexOf('turl="')&&(r=o.replace(i,""))}return r},t.prototype.findUrlByTag=function(t,e,i,r,n,o){var a=e+"["+i+'*="'+t.referrer+'"]',s=p.BrowserAdaptor.querySelectorAll(t,a),d="";if(s)for(var c=0;!d&&c<s.length;){var u=s[c][i].match(r);d=this.findLongestMatch(u,n,o),c++}return d},t.prototype.extractFromScriptHtml=function(t,e,i,r){var n=t.referrer,o="",a=p.BrowserAdaptor.getElementsByTagNameFromDocument("script",t);if(a)for(var s=0;!o&&s<a.length;){var d=a[s].innerHTML;if(d&&-1!=d.indexOf(n)){var c=d.match(e);o=this.findLongestMatch(c,i,r)}s++}return o},t.prototype.measureExtraction=function(t){if(n.WindowAdaptor.isPerformanceAPISupported()){var e=n.WindowAdaptor.currentWindow();e.performance.mark("dv_str_html_end"),e.performance.measure("dv_str_html","dv_str_html_start","dv_str_html_end");var i=r(e.performance.getEntriesByName("dv_str_html"),1)[0];i&&i.duration&&(t.additionalParams.dvp_strhd=i.duration,t.additionalParams.dvpx_strhd=i.duration)}},t}();e.StrCollector=u},1059:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.SupplySourceCollector=void 0;var r=i(7749),n=i(425),o=i(3868),a=i(6681),s=i(6689),d=i(3380),p=i(8426),c=i(712),u=function(){function t(){this.maxIterations=20}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){var e=r.DvTagDataObject.getSupplySource();this.isMillenialMediaSupported()?e="mm":p.InmobiWrapper.isSupported()?e="inm_vid":this.isInmobiDisplaySupported()?e="inm_dis":a.MraidWrapper.isSupported()&&(a.MraidWrapper.isOperaMedia()?e="opm":a.MraidWrapper.isAdColony()&&(e="ac")),t.supplySource=s.OmidWrapper.getOmidNativePartnerName()||s.OmidWrapper.getOmidJSPartnerName()||e,d.Utilities.isNullOrEmpty(t.supplySource)||(t.supplySource=t.supplySource.split("|").join("").split("%7C").join(""))},t.prototype.toString=function(){return"SupplySource"},t.prototype.isMillenialMediaSupported=function(){var t=o.WindowAdaptor.workingWindow().mmJsBridge,e=n.BrowserAdaptor.getElementById("aolVideoContainer",o.WindowAdaptor.workingDocument())||t&&t.vpaid,i=o.WindowAdaptor.workingWindow().mmSdkVersion;return!!e||!!i},t.prototype.isInmobiDisplaySupported=function(){return r.DvTagDataObject.getTagType()==c.DvTagType.Display&&a.MraidWrapper.isSupported()&&o.WindowAdaptor.objectLookup(o.WindowAdaptor.currentWindow(),"imraid",this.maxIterations)&&o.WindowAdaptor.objectLookup(o.WindowAdaptor.currentWindow(),"inmobi",this.maxIterations)},t}();e.SupplySourceCollector=u},9582:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TpsApiTypeCollector=void 0;var r=i(7749),n=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){switch(r.DvTagDataObject.getDvApi()){case"1":t.tpsApiType="dvvisit";break;case"5":t.tpsApiType="query";break;default:t.tpsApiType="visit"}},t.prototype.toString=function(){return"TpsApiType"},t}();e.TpsApiTypeCollector=n},8397:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TrafficScenarioCollector=void 0;var r=i(3868),n=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){t.trafficScenarioType=r.WindowAdaptor.getScenarioType()},t.prototype.toString=function(){return"TrafficScenario"},t}();e.TrafficScenarioCollector=n},1079:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.UserCollector=void 0;var r=i(8379),n=i(363),o=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){t.uid=n.RandomUtils.getRandom16(),t.callbackName=r.CallbackPrefix+n.RandomUtils.getRandom16()},t.prototype.toString=function(){return"UserId"},t}();e.UserCollector=o},6674:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VastUrlCollector=void 0;var r=i(7749),n=i(3380),o=i(7658),a=function(){function t(){}return t.prototype.isSupported=function(t){return this.vastWrapperUrl=r.DvTagDataObject.getVastUrl(),this.vastWrapperUrl&&this.vastWrapperUrl.length<=1e3&&n.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,o.TPSDataMapping,this.vastWrapperUrl)},t.prototype.collectData=function(t){t.vastWrapperUrl=this.vastWrapperUrl},t.prototype.toString=function(){return"vastUrl"},t}();e.VastUrlCollector=a},5390:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoParamsCollector=void 0;var r=i(712),n=i(7749),o=i(1966),a=function(){function t(){}return t.prototype.isSupported=function(){return n.DvTagDataObject.getTagType()==r.DvTagType.Video},t.prototype.collectData=function(t){t.isOvv=o.VideoPlaybackAdaptor.getOvvObject()?1:void 0,t.isdvvid=1,t.prePlayed=1},t.prototype.toString=function(){return"VideoParams"},t}();e.VideoParamsCollector=a},9106:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VpaidPlayerUrlCollector=void 0;var r=i(3380),n=i(7658),o=i(1063),a=function(){function t(){}return t.prototype.isSupported=function(t){var e=o.VpaidWrapper.getDvVpaid(),i=e&&e.asset;return i&&i.player&&i.player.src&&(this.vpaidPlayerUrl=encodeURIComponent(i.player.src)),this.vpaidPlayerUrl&&this.vpaidPlayerUrl.length<=1e3&&r.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,n.TPSDataMapping,this.vpaidPlayerUrl)},t.prototype.collectData=function(t){t.vpaidPlayerUrl=this.vpaidPlayerUrl},t.prototype.toString=function(){return"vpaidPlayerUrl"},t}();e.VpaidPlayerUrlCollector=a},7998:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.WindowPropertiesCollector=void 0;var r=i(3868),n=i(425),o=i(7658),a=i(3380),s=function(){function t(){}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){var e=r.WindowAdaptor.workingWindow();try{t.queuePageID=e.external&&e.external.QueuePageID,t.crawlerUrl=e.external&&e.external.CrawlerUrl&&encodeURIComponent(e.external.CrawlerUrl)}catch(t){}t.postMessageSupported=Number(r.WindowAdaptor.isPostMessageSupported()),t.isChrome=e.chrome?1:0,t.historySize=e.history?e.history.length:0,t.innerHeight=n.BrowserAdaptor.getInnerViewport(!1).height,t.innerWidth=n.BrowserAdaptor.getInnerViewport(!1).width,t.outerHeight=n.BrowserAdaptor.getOuterViewport(r.WindowAdaptor.workingWindow(),!1).height,t.outerWidth=n.BrowserAdaptor.getOuterViewport(r.WindowAdaptor.workingWindow(),!1).width,t.screenHeight=n.BrowserAdaptor.getAvailableScreenSize(!1).height,t.screenWidth=n.BrowserAdaptor.getAvailableScreenSize(!1).width;var i=r.WindowAdaptor.getUserAgent(),s=i?encodeURIComponent(i):i;a.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,o.TPSDataMapping,s)&&(t.nativeUserAgent=s)},t.prototype.toString=function(){return"WindowProperties"},t}();e.WindowPropertiesCollector=s},5070:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TPSDataCollector=void 0;var r=i(749),n=i(712),o=function(){function t(t){this.tpsCollectors=t}return t.prototype.isSupported=function(){return!0},t.prototype.executePhase=function(t){this.tpsCollectors.forEach((function(e){try{e.isSupported(t)&&e.collectData(t)}catch(t){r.MessageHandler.sendError(n.ClientErrorType.TPSDataCollectorError,t,e.toString())}}))},t.prototype.toString=function(){return"TPSData"},t}();e.TPSDataCollector=o},3743:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TpsManager=void 0;var r=i(9878),n=i(749),o=i(712),a=function(t){this.phases=t;var e=new r.TPSData;t.forEach((function(t){try{t.isSupported(e)&&t.executePhase(e)}catch(e){n.MessageHandler.sendError(o.ClientErrorType.VisitLogicError,e,t.toString())}}))};e.TpsManager=a},1759:function(t,e,i){!function(t,e,i){if("object"==typeof i&&"string"!=typeof i.nodeName)e(t,i);else{i={};var r=["1.3.17-iab2651"];function n(t){for(var e in t)t.hasOwnProperty(e)&&(t[e]=n(t[e]));return Object.freeze(t)}for(var o in e(t,i),i)i.hasOwnProperty(o)&&(null==Object.getOwnPropertyDescriptor(t,o)&&Object.defineProperty(t,o,{value:{}}),r.forEach((function(e){if(null==Object.getOwnPropertyDescriptor(t[o],e)){var r=n(i[o]);Object.defineProperty(t[o],e,{get:function(){return r},enumerable:!0})}})))}}(void 0===i.g?this:i.g,(function(t,e){"use strict";var r=r||{};r.scope={},r.arrayIteratorImpl=function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}},r.arrayIterator=function(t){return{next:r.arrayIteratorImpl(t)}},r.makeIterator=function(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):r.arrayIterator(t)},r.arrayFromIterator=function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i},r.arrayFromIterable=function(t){return t instanceof Array?t:r.arrayFromIterator(r.makeIterator(t))},r.ASSUME_ES5=!1,r.ASSUME_NO_NATIVE_MAP=!1,r.ASSUME_NO_NATIVE_SET=!1,r.SIMPLE_FROUND_POLYFILL=!1,r.objectCreate=r.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(t){var e=function(){};return e.prototype=t,new e},r.underscoreProtoCanBeSet=function(){var t={};try{return t.__proto__={a:!0},t.a}catch(t){}return!1},r.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:r.underscoreProtoCanBeSet()?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null,r.inherits=function(t,e){if(t.prototype=r.objectCreate(e.prototype),t.prototype.constructor=t,r.setPrototypeOf){var i=r.setPrototypeOf;i(t,e)}else for(i in e)if("prototype"!=i)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(e,i);n&&Object.defineProperty(t,i,n)}else t[i]=e[i];t.superClass_=e.prototype};var n={assertTruthyString:function(t,e){if(!e)throw Error("Value for "+t+" is undefined, null or blank.");if("string"!=typeof e&&!(e instanceof String))throw Error("Value for "+t+" is not a string.");if(""===e.trim())throw Error("Value for "+t+" is empty string.")},assertNotNullObject:function(t,e){if(null==e)throw Error("Value for "+t+" is undefined or null")},assertNumber:function(t,e){if(null==e)throw Error(t+" must not be null or undefined.");if("number"!=typeof e||isNaN(e))throw Error("Value for "+t+" is not a number")},assertNumberBetween:function(t,e,i,r){if((0,n.assertNumber)(t,e),e<i||e>r)throw Error("Value for "+t+" is outside the range ["+i+","+r+"]")},assertFunction:function(t,e){if(!e)throw Error(t+" must not be truthy.")},assertPositiveNumber:function(t,e){if((0,n.assertNumber)(t,e),0>e)throw Error(t+" must be a positive number.")}},o={},a=3;o.isValidVersion=function(t){return/\d+\.\d+\.\d+(-.*)?/.test(t)},o.versionGreaterOrEqual=function(t,e){t=t.split("-")[0].split("."),e=e.split("-")[0].split(".");for(var i=0;i<a;i++){var r=parseInt(t[i],10),n=parseInt(e[i],10);if(r>n)break;if(r<n)return!1}return!0};var s={},d="1.0.3";s.serializeMessageArgs=function(t,e){return(0,o.isValidVersion)(t)&&(0,o.versionGreaterOrEqual)(t,d)?e:JSON.stringify(e)},s.deserializeMessageArgs=function(t,e){return(0,o.isValidVersion)(t)&&(0,o.versionGreaterOrEqual)(t,d)?e||[]:e&&"string"==typeof e?JSON.parse(e):[]};var p={AdEventType:{IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",STATE_CHANGE:"stateChange"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},ErrorType:{GENERIC:"generic",VIDEO:"video",MEDIA:"media"},AdSessionType:{NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},EventOwner:{NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},AccessMode:{FULL:"full",DOMAIN:"domain",LIMITED:"limited"},AppState:{BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},Environment:{APP:"app",WEB:"web"},InteractionType:{CLICK:"click",INVITATION_ACCEPT:"invitationAccept"},CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},MediaType:{DISPLAY:"display",VIDEO:"video"},Reason:{NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped",UNMEASURABLE:"unmeasurable"},SupportedFeatures:{CONTAINER:"clid",VIDEO:"vlid"},VideoPosition:{PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},VideoPlayerState:{MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},NativeViewKeys:{X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels"},MeasurementStateChangeSource:{CONTAINER:"container",CREATIVE:"creative"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element"},CommunicationType:{NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE"},OmidImplementer:{OMSDK:"omsdk"}},c="omid_message_guid",u="omid_message_method",l="omid_message_version",f="omid_message_args",v=function(t,e,i,r){this.guid=t,this.method=e,this.version=i,this.args=r};v.isValidSerializedMessage=function(t){return!!t&&void 0!==t[c]&&void 0!==t[u]&&void 0!==t[l]&&"string"==typeof t[c]&&"string"==typeof t[u]&&"string"==typeof t[l]&&(void 0===t[f]||void 0!==t[f])},v.deserialize=function(t){return new v(t[c],t[u],t[l],t[f])},v.prototype.serialize=function(){var t={};return t[c]=this.guid,t[u]=this.method,t[l]=this.version,t=t,void 0!==this.args&&(t[f]=this.args),t};var h=function(t){this.to=t,this.communicationType_=p.CommunicationType.NONE};h.prototype.sendMessage=function(t,e){},h.prototype.handleMessage=function(t,e){this.onMessage&&this.onMessage(t,e)},h.prototype.serialize=function(t){return JSON.stringify(t)},h.prototype.deserialize=function(t){return JSON.parse(t)},h.prototype.isDirectCommunication=function(){return this.communicationType_===p.CommunicationType.DIRECT},h.prototype.isCrossOrigin=function(){};var y={OMID_PRESENT_FRAME_NAME:"omid_v1_present",isOmidPresent:function(t){try{return!!t.frames&&!!t.frames[y.OMID_PRESENT_FRAME_NAME]}catch(t){return!1}},declareOmidPresence:function(t){t.frames&&t.document&&(y.OMID_PRESENT_FRAME_NAME in t.frames||(null==t.document.body&&y.isMutationObserverAvailable_(t)?y.registerMutationObserver_(t):t.document.body?y.appendPresenceIframe_(t):t.document.write('<iframe style="display:none" id="'+y.OMID_PRESENT_FRAME_NAME+'" name="'+y.OMID_PRESENT_FRAME_NAME+'"></iframe>')))},appendPresenceIframe_:function(t){var e=t.document.createElement("iframe");e.id=y.OMID_PRESENT_FRAME_NAME,e.name=y.OMID_PRESENT_FRAME_NAME,e.style.display="none",t.document.body.appendChild(e)},isMutationObserverAvailable_:function(t){return"MutationObserver"in t},registerMutationObserver_:function(t){var e=new MutationObserver((function(i){i.forEach((function(i){"BODY"===i.addedNodes[0].nodeName&&(y.appendPresenceIframe_(t),e.disconnect())}))}));e.observe(t.document.documentElement,{childList:!0})}},m=function(t){h.call(this,t),this.communicationType_=p.CommunicationType.DIRECT,this.handleExportedMessage=m.prototype.handleExportedMessage.bind(this)};r.inherits(m,h),m.prototype.sendMessage=function(t,e){if(!(e=void 0===e?this.to:e))throw Error("Message destination must be defined at construction time or when sending the message.");e.handleExportedMessage(t.serialize(),this)},m.prototype.handleExportedMessage=function(t,e){v.isValidSerializedMessage(t)&&this.handleMessage(v.deserialize(t),e)},m.prototype.isCrossOrigin=function(){return!1};var g={},w={};function b(){return void 0===e?null:e}function S(t,e){return t&&(t[e]||(t[e]={}))}w.packageExport=function(t,e,i){(i=void 0===i?b():i)&&((t=t.split(".")).slice(0,t.length-1).reduce(S,i)[t[t.length-1]]=e)};var D={generateGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return t="y"===t?(3&e|8).toString(16):e.toString(16)}))}},_={error:function(t){for(var e=[],i=0;i<arguments.length;++i)e[i-0]=arguments[i];E((function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat(r.arrayFromIterable(e))))}),(function(){return console.error.apply(console,r.arrayFromIterable(e))}))},debug:function(t){for(var e=[],i=0;i<arguments.length;++i)e[i-0]=arguments[i];E((function(){}),(function(){return console.error.apply(console,r.arrayFromIterable(e))}))}};function E(t,e){"undefined"!=typeof jasmine&&jasmine?t():"undefined"!=typeof console&&console&&console.error&&e()}var A={},T=eval("this");function O(){if(void 0!==t&&t)return t;if(void 0!==i.g&&i.g)return i.g;if("undefined"!=typeof window&&window)return window;if(void 0!==T&&T)return T;throw Error("Could not determine global object context.")}A.omidGlobal=O();var C={};function V(t){return null!=t&&void 0!==t.top&&null!=t.top}function M(t){return""===t.x||""!==t.x}C.isCrossOrigin=function(t){if(t===A.omidGlobal)return!1;try{if(void 0===t.location.hostname)return!0;M(t)}catch(t){return!0}return!1},C.resolveGlobalContext=function(t){return void 0===t&&"undefined"!=typeof window&&window&&(t=window),V(t)?t:A.omidGlobal},C.resolveTopWindowContext=function(t){return V(t)?t.top:A.omidGlobal},C.evaluatePageUrl=function(t){if(!V(t))return null;try{var e=t.top;return(0,C.isCrossOrigin)(e)?null:e.location.href}catch(t){return null}};var P=function(t,e){e=void 0===e?A.omidGlobal:e,h.call(this,e);var i=this;this.communicationType_=p.CommunicationType.POST_MESSAGE,t.addEventListener("message",(function(t){if("object"==typeof t.data){var e=t.data;v.isValidSerializedMessage(e)&&(e=v.deserialize(e),t.source&&i.handleMessage(e,t.source))}}))};r.inherits(P,h),P.isCompatibleContext=function(t){return!!(t&&t.addEventListener&&t.postMessage)},P.prototype.sendMessage=function(t,e){if(!(e=void 0===e?this.to:e))throw Error("Message destination must be defined at construction time or when sending the message.");e.postMessage(t.serialize(),"*")},P.prototype.isCrossOrigin=function(){return!this.to||(0,C.isCrossOrigin)(this.to)};var I=function(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r},B={},j=["omid","v1_SessionServiceCommunication"],L=["omid","v1_VerificationServiceCommunication"],R=["omidVerificationProperties","serviceWindow"];function x(t,e){return e.reduce((function(t,e){return t&&t[e]}),t)}function W(t,e,i,r){if(!(0,C.isCrossOrigin)(e))try{var n=x(e,i);if(n)return new m(n)}catch(t){}return r(e)?new P(t,e):null}function k(t,e,i,n){for(var o=(e=r.makeIterator(e)).next();!o.done;o=e.next())if(o=W(t,o.value,i,n))return o;return null}B.startSessionServiceCommunication=function(t,e,i){i=void 0===i?y.isOmidPresent:i;var r=[t,(0,C.resolveTopWindowContext)(t)];return e&&r.unshift(e),k(t,r,j,i)},B.startVerificationServiceCommunication=function(t,e){e=void 0===e?y.isOmidPresent:e;var i=[],r=x(t,R);return r&&i.push(r),i.push((0,C.resolveTopWindowContext)(t)),k(t,i,L,e)};var U=function(t,e,i,r){this.isSkippable=t,this.skipOffset=e,this.isAutoPlay=i,this.position=r};U.prototype.toJSON=function(){return{isSkippable:this.isSkippable,skipOffset:this.skipOffset,isAutoPlay:this.isAutoPlay,position:this.position}};var N={ApiVersion:"1.0",Version:"1.3.17-iab2651"},F=N.Version,z;function G(){var t=A.omidGlobal.omid3p;return t&&"function"==typeof t.registerSessionObserver&&"function"==typeof t.addEventListener?t:null}var H=function(t){(this.communication=t||(0,B.startVerificationServiceCommunication)((0,C.resolveGlobalContext)()))?this.communication.onMessage=this.handleMessage_.bind(this):(t=G())&&(this.omid3p=t),this.remoteIntervals_=this.remoteTimeouts_=0,this.callbackMap_={},this.imgCache_=[],this.injectionId_=(t=A.omidGlobal.omidVerificationProperties)?t.injectionId:void 0};H.prototype.isSupported=function(){return!(!this.communication&&!this.omid3p)},H.prototype.injectionSource=function(){var t=A.omidGlobal.omidVerificationProperties;if(t&&t.injectionSource)return t.injectionSource},H.prototype.registerSessionObserver=function(t,e){(0,n.assertFunction)("functionToExecute",t),this.omid3p?this.omid3p.registerSessionObserver(t,e,this.injectionId_):this.sendMessage_("addSessionListener",t,e,this.injectionId_)},H.prototype.addEventListener=function(t,e){(0,n.assertTruthyString)("eventType",t),(0,n.assertFunction)("functionToExecute",e),this.omid3p?this.omid3p.addEventListener(t,e):this.sendMessage_("addEventListener",e,t)},H.prototype.sendUrl=function(t,e,i){(0,n.assertTruthyString)("url",t),A.omidGlobal.document&&A.omidGlobal.document.createElement?this.sendUrlWithImg_(t,e,i):this.sendMessage_("sendUrl",(function(t){t&&e?e():!t&&i&&i()}),t)},H.prototype.sendUrlWithImg_=function(t,e,i){var r=this,n=A.omidGlobal.document.createElement("img");this.imgCache_.push(n);var o=function(t){var e=r.imgCache_.indexOf(n);0<=e&&r.imgCache_.splice(e,1),t&&t()};n.addEventListener("load",o.bind(this,e)),n.addEventListener("error",o.bind(this,i)),n.src=t},H.prototype.injectJavaScriptResource=function(t,e,i){var r=this;(0,n.assertTruthyString)("url",t),A.omidGlobal.document?this.injectJavascriptResourceUrlInDom_(t,e,i):this.sendMessage_("injectJavaScriptResource",(function(n,o){n?(r.evaluateJavaScript_(o,t),e()):(_.error("Service failed to load JavaScript resource."),i())}),t)},H.prototype.injectJavascriptResourceUrlInDom_=function(t,e,i){var r=A.omidGlobal.document,n=r.body;(r=r.createElement("script")).onload=e,r.onerror=i,r.src=t,r.type="application/javascript",n.appendChild(r)},H.prototype.evaluateJavaScript_=function(t,e){try{eval(t)}catch(t){_.error('Error evaluating the JavaScript resource from "'+e+'".')}},H.prototype.setTimeout=function(t,e){if((0,n.assertFunction)("functionToExecute",t),(0,n.assertPositiveNumber)("timeInMillis",e),this.hasTimeoutMethods_())return A.omidGlobal.setTimeout(t,e);var i=this.remoteTimeouts_++;return this.sendMessage_("setTimeout",t,i,e),i},H.prototype.clearTimeout=function(t){(0,n.assertPositiveNumber)("timeoutId",t),this.hasTimeoutMethods_()?A.omidGlobal.clearTimeout(t):this.sendOneWayMessage_("clearTimeout",t)},H.prototype.setInterval=function(t,e){if((0,n.assertFunction)("functionToExecute",t),(0,n.assertPositiveNumber)("timeInMillis",e),this.hasIntervalMethods_())return A.omidGlobal.setInterval(t,e);var i=this.remoteIntervals_++;return this.sendMessage_("setInterval",t,i,e),i},H.prototype.clearInterval=function(t){(0,n.assertPositiveNumber)("intervalId",t),this.hasIntervalMethods_()?A.omidGlobal.clearInterval(t):this.sendOneWayMessage_("clearInterval",t)},H.prototype.hasTimeoutMethods_=function(){return"function"==typeof A.omidGlobal.setTimeout&&"function"==typeof A.omidGlobal.clearTimeout},H.prototype.hasIntervalMethods_=function(){return"function"==typeof A.omidGlobal.setInterval&&"function"==typeof A.omidGlobal.clearInterval},H.prototype.handleMessage_=function(t,e){e=t.method;var i=t.guid;if(t=t.args,"response"===e&&this.callbackMap_[i]){var r=(0,s.deserializeMessageArgs)(F,t);this.callbackMap_[i].apply(this,r)}"error"===e&&window.console&&_.error(t)},H.prototype.sendOneWayMessage_=function(t,e){for(var i=[],n=1;n<arguments.length;++n)i[n-1]=arguments[n];this.sendMessage_.apply(this,[t,null].concat(r.arrayFromIterable(i)))},H.prototype.sendMessage_=function(t,e,i){for(var r=[],n=2;n<arguments.length;++n)r[n-2]=arguments[n];this.communication&&(n=(0,D.generateGuid)(),e&&(this.callbackMap_[n]=e),r=new v(n,"VerificationService."+t,F,(0,s.serializeMessageArgs)(F,r)),this.communication.sendMessage(r))},(0,w.packageExport)("OmidVerificationClient",H)}),e),t.exports=function(){return e.OmidVerificationClient}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var i=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var __webpack_exports__={};!function(){try{__webpack_require__(8519)()}catch(s){var t="https://tps.doubleverify.com/visit.jpg",e=1837,i=void 0;try{var r=__webpack_require__(7749).DvTagDataObject,n=__webpack_require__(194).DvObject,o=__webpack_require__(3868).WindowAdaptor;t=""+r.getServerPrefix()+r.getErrorPath(),e=n.getDvtpScriptVersion(),i=o.getScenarioType()}catch(t){}var a=t+"?ctx=818052&cmp=1619415&dvtagver=6.1.src&dvp_isLostImp=1&cerrt=4&jsver=1837&tgjsver="+e;if("function"==typeof encodeURI)a+="&napr=WebPackConfig__"+encodeURI(s.message);i&&(a+="&tstype="+i),"object"==typeof omidNative&&"function"==typeof omidNative.sendUrl?(a+="&dvp_iomd=1",i||(a+="&tstype=4"),omidNative.sendUrl(a)):(new Image).src=a}}();